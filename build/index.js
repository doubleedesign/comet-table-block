(()=>{"use strict";var e,t={20:(e,t,o)=>{var n=o(609),l=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,o){var n,s={},i=null,d=null;for(n in void 0!==o&&(i=""+o),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,n)&&!c.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:l,type:e,key:i,ref:d,props:s,_owner:r.current}}},210:(e,t,o)=>{var n=o(609);const l=window.wp.i18n,a=window.wp.blocks,r=window.wp.blockEditor,c=window.wp.hooks,s=window.wp.compose,i=window.wp.apiFetch;var d=o.n(i);const m=window.wp.data,u=window.wp.primitives;var p=o(848);const h=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M9 9v6h11V9H9zM4 20h1.5V4H4v16z"})}),v=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M12.5 15v5H11v-5H4V9h7V4h1.5v5h7v6h-7Z"})}),b=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M4 15h11V9H4v6zM18.5 4v16H20V4h-1.5z"})}),x=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z"})}),g=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z"})}),w=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z"})}),f=window.wp.components,_=(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Polygon,{points:"17.5 1 7.8 5.6 10.8 6 6.5 10 16.5 5.5 13.4 5 17.5 1"}),(0,n.createElement)(f.Path,{d:"M19,11H5c-1.1,0-2,.9-2,2v8c0,1.1.9,2,2,2h14c1.1,0,2-.9,2-2v-8c0-1.1-.9-2-2-2ZM11.5,16.5h-7v-3.5c0-.3.2-.5.5-.5h6.5v4ZM13,12.5h6c.3,0,.5.2.5.5v3.5h-6.5v-4ZM4.5,21v-3h7v3.5h-6.5c-.3,0-.5-.2-.5-.5ZM19,21.5h-6v-3.5h6.5v3c0,.3-.2.5-.5.5Z"})),y=(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Path,{d:"M9 20h6V9H9v11zM4 4v1.5h16V4H4z"})),S=(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Path,{d:"M20 11h-5V4H9v7H4v1.5h5V20h6v-7.5h5z"})),C=(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Path,{d:"M15 4H9v11h6V4zM4 18.5V20h16v-1.5H4z"})),I=(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Path,{d:"M15.8,8.3h-3v-3s-1.5,0-1.5,0v3h-3s0,1.5,0,1.5h3v3s1.5,0,1.5,0v-3h3s0-1.5,0-1.5ZM4,2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2V4c0-1.1.9-2,2-2ZM20.5,14.5V4c0-.3-.2-.5-.5-.5H4c-.3,0-.5.2-.5.5v10.5s17,0,17,0ZM20.4,20v-4s-4.7,0-4.7,0v4.5s4.3,0,4.3,0c.3,0,.5-.2.4-.5ZM14.2,20.5v-4.5s-4.5,0-4.5,0v4.5s4.5,0,4.5,0ZM8.2,20.5v-4.5s-4.8,0-4.8,0v4c0,.3.2.5.5.5h4.2s.1,0,.1,0Z"})),E=(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Path,{d:"M8.2,15.7h3v3s1.5,0,1.5,0v-3h3s0-1.5,0-1.5h-3v-3s-1.5,0-1.5,0v3h-3s0,1.5,0,1.5ZM20,22H4c-1.1,0-2-.9-2-2V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2ZM3.5,9.5v10.5c0,.3.2.5.5.5h16c.3,0,.5-.2.5-.5v-10.5s-17,0-17,0ZM3.6,4v4s4.7,0,4.7,0V3.5s-4.3,0-4.3,0c-.3,0-.5.2-.4.5ZM9.8,3.5v4.5s4.5,0,4.5,0V3.5s-4.5,0-4.5,0ZM15.8,3.5v4.5s4.8,0,4.8,0v-4c0-.3-.2-.5-.5-.5h-4.2s-.1,0-.1,0Z"})),k=(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Path,{d:"M8.3,8.2v3h-3s0,1.5,0,1.5h3v3s1.5,0,1.5,0v-3h3s0-1.5,0-1.5h-3v-3s-1.5,0-1.5,0ZM2,20V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2ZM14.5,3.5H4c-.3,0-.5.2-.5.5v16c0,.3.2.5.5.5h10.5s0-17,0-17ZM20,3.6h-4s0,4.7,0,4.7h4.5s0-4.3,0-4.3c0-.3-.2-.5-.5-.4ZM20.5,9.8h-4.5s0,4.5,0,4.5h4.5s0-4.5,0-4.5ZM20.5,15.8h-4.5s0,4.8,0,4.8h4c.3,0,.5-.2.5-.5v-4.2s0-.1,0-.1Z"})),M=(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Path,{d:"M15.8,15.8v-3h3v-1.5h-3v-3h-1.5v3h-3v1.5h3v3h1.5ZM22,4v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2ZM9.5,20.5h10.5c.3,0,.5-.2.5-.5V4c0-.3-.2-.5-.5-.5h-10.5v17ZM4,20.4h4v-4.7H3.5v4.3c0,.3.2.5.5.4ZM3.5,14.2h4.5v-4.5H3.5v4.5ZM3.5,8.2h4.5V3.4h-4c-.3,0-.5.2-.5.5v4.2h0Z"})),N=(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Path,{d:"M20,2H4c-1.1,0-2,.9-2,2v16c0,1.1.9,2,2,2h16c1.1,0,2-.9,2-2V4c0-1.1-.9-2-2-2ZM20.5,4v4.4h-4.1l.6.7-.6.8h4.1v4.2h-4.1l.6.8-.6.8h4.1v4.4c0,.3-.2.5-.5.5H4c-.3,0-.5-.3-.5-.6v-4.3h4.1l-.6-.8.6-.8H3.5v-4.2h4.1l-.6-.8.6-.7H3.5v-4.4c0-.3.2-.5.5-.5h16c.3,0,.5.2.5.5ZM8.1,14.8l2.8-2.8-2.8-2.8,1.1-1.1,2.8,2.8,2.8-2.8,1.1,1.1-2.8,2.8,2.8,2.8-1.1,1.1-2.8-2.8-2.8,2.8-1.1-1.1Z"})),H=(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Path,{d:"M2,4v16c0,1.1.9,2,2,2h16c1.1,0,2-.9,2-2V4c0-1.1-.9-2-2-2H4c-1.1,0-2,.9-2,2ZM4,3.5h4.4v4.1s.7-.6.7-.6l.8.6V3.5h4.2v4.1s.7-.6.7-.6l.7.6V3.5h4.4c.3,0,.5.2.5.5v16c0,.3-.3.5-.6.5h-4.3v-4.1s-.7.6-.7.6l-.7-.6v4.1h-4.2v-4.1s-.8.6-.8.6l-.7-.6v4.1h-4.4c-.3,0-.5-.2-.5-.5V4c0-.3.2-.5.5-.5ZM14.8,15.9l-2.8-2.8-2.8,2.8-1.1-1.1,2.8-2.8-2.8-2.8,1.1-1.1,2.8,2.8,2.8-2.8,1.1,1.1-2.8,2.8,2.8,2.8-1.1,1.1Z"})),V=(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Path,{d:"M2,20V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2ZM8.2,3.5h-4.2c-.3,0-.5.2-.5.5v3.5h4.7V3.5ZM14.2,3.5h-4.5v4h4.5s0-4,0-4ZM20,3.5h-4.3v4h4.8v-3.5c0-.3-.2-.5-.5-.5ZM19,10.5H5v3h14v-3ZM8.2,16.5H3.5v3.5c0,.3.2.5.5.5h4.2v-4ZM14.2,16.5h-4.5v4h4.5s0-4,0-4ZM20.5,16.5h-4.8v4h4.3c.3,0,.5-.2.5-.5v-3.5Z"})),B=(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Path,{d:"M2,20V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2ZM4,3.5c-.3,0-.5.2-.5.5v3.5h17v-3.5c0-.3-.2-.5-.5-.5H4ZM15.2,13.5h3.8v-3h-3.8v3ZM10.2,10.5v3h3.5v-3h-3.5ZM8.7,10.5h-3.7v3h3.7v-3ZM20,20.5c.3,0,.5-.2.5-.5v-3.5H3.5v3.5c0,.3.2.5.5.5h16Z"})),Z=((0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Path,{d:"M9.2,3h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM9.2,9.8h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z"}),(0,n.createElement)(f.Path,{d:"M19,3h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM19,9.8h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z"}),(0,n.createElement)(f.Path,{d:"M9.2,12.8h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM9.2,19.5h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z"}),(0,n.createElement)(f.Path,{d:"M19,12.7h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM19,19.5h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z"})),(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Path,{d:"M19,3H5c-1.1,0-2,.9-2,2v14c0,1.1.9,2,2,2h14c1.1,0,2-.9,2-2V5c0-1.1-.9-2-2-2ZM5,19.5c-.3,0-.5-.2-.5-.5v-6.2h6.8v6.8M11.2,11.2h-6.8v-6.2c0-.3.2-.5.5-.5h6.2v6.8ZM19.5,19c0,.3-.2.5-.5.5h-6.2v-6.8h6.8v6.2c.1,0,0,0,0,0ZM19.5,11.2h-6.8v-6.8h6.2c.3,0,.5.2.5.5v6.2Z"})),(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)("path",{d:"M4,11.2h16v1.5H4v-1.5Z"})),(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Circle,{cx:"6",cy:"12",r:"2"}),(0,n.createElement)(f.Circle,{cx:"18",cy:"12",r:"2"}),(0,n.createElement)(f.Circle,{cx:"12",cy:"12",r:"2"})),(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Path,{d:"M4,11.2h4v1.5h-4v-1.5Z"}),(0,n.createElement)(f.Path,{d:"M16,11.2h4v1.5h-4v-1.5Z"}),(0,n.createElement)(f.Path,{d:"M10,11.2h4v1.5h-4v-1.5Z"})),(0,n.createElement)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(f.Path,{d:"M4,9.2h16v1.5H4v-1.5Z"}),(0,n.createElement)(f.Path,{d:"M4,13.2h16v1.5H4v-1.5Z"})),"comet"),P=["%","px","em","rem"],O={head:(0,l.__)("Header cell text","comet"),body:(0,l.__)("Body cell text","comet"),foot:(0,l.__)("Footer cell text","comet")},T=[{icon:h,label:(0,l.__)("Justify table left","comet"),value:"left"},{icon:v,label:(0,l.__)("Justify table center","comet"),value:"center"},{icon:b,label:(0,l.__)("Justify table right","comet"),value:"right"}],A=[{icon:x,label:(0,l.__)("Align left","comet"),value:"left"},{icon:g,label:(0,l.__)("Align center","comet"),value:"center"},{icon:w,label:(0,l.__)("Align right","comet"),value:"right"}],j=[{icon:y,label:(0,l.__)("Align top","comet"),value:"top"},{icon:S,label:(0,l.__)("Align middle","comet"),value:"middle"},{icon:C,label:(0,l.__)("Align bottom","comet"),value:"bottom"}],F=[{label:(0,l._x)("none","Fixed headers","comet"),value:"none"},{label:(0,l.__)("Fixed header row","comet"),value:"header"},{label:(0,l.__)("Fixed first column","comet"),value:"first-column"}],G=[{label:(0,l.__)("Header (<th>)","comet"),value:"th"},{label:(0,l.__)("Data (<td>)","comet"),value:"td"}],R=[{label:(0,l.__)("row","comet"),value:"row"},{label:(0,l.__)("col","comet"),value:"col"},{label:(0,l.__)("rowgroup","comet"),value:"rowgroup"},{label:(0,l.__)("colgroup","comet"),value:"colgroup"}],z=[{label:(0,l.__)("Top","comet"),value:"top"},{label:(0,l.__)("Bottom","comet"),value:"bottom"}],D=((0,l.__)("Vertical","comet"),(0,l.__)("Horizontal","comet"),(0,l.__)("Top","comet"),(0,l.__)("Right","comet"),(0,l.__)("Bottom","comet"),(0,l.__)("Left","comet"),{options:{}}),L={getOptions:e=>({type:"GET_OPTIONS",path:e}),setOptions:e=>({type:"SET_OPTIONS",options:e})},q={getOptions(e){const{options:t}=e;return t}},$={GET_OPTIONS:e=>d()({path:e.path})},J={*getOptions(){const e=yield L.getOptions("/comet/v1/options");return L.setOptions(e)}},U=(0,m.createReduxStore)(Z,{reducer:(e=D,t)=>"SET_OPTIONS"===t.type?{...e,options:t.options}:e,controls:$,selectors:q,resolvers:J,actions:L});(0,m.register)(U);const K={attributes:{head:[{cells:[{content:(0,l.__)("Version","flexible-table-block"),tag:"th"},{content:(0,l.__)("Jazz Musician","flexible-table-block"),tag:"th"},{content:(0,l.__)("Release Date","flexible-table-block"),tag:"th"}]}],body:[{cells:[{content:"5.9",tag:"td"},{content:"Joséphine Baker",tag:"td"},{content:(0,l.__)("January 25, 2022","flexible-table-block"),tag:"td"}]},{cells:[{content:"5.8",tag:"td"},{content:"Art Tatum",tag:"td"},{content:(0,l.__)("July 20, 2021","flexible-table-block"),tag:"td"}]},{cells:[{content:"5.7",tag:"td"},{content:"Esperanza Spalding",tag:"td"},{content:(0,l.__)("March 9, 2021","flexible-table-block"),tag:"td"}]}]}},W=window.wp.element,Y=(0,p.jsx)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(u.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})}),Q=window.wp.notices;function X(e){return e?e.split(";").filter((e=>e.split(":")[0]&&e.split(":")[1])).map((e=>[e.split(":")[0].trim().replace(/-./g,(e=>e.substr(1).toUpperCase())),e.split(":")[1].trim()])).reduce(((e,t)=>({...e,[t[0]]:t[1]})),{}):{}}function ee(e){return Object.keys(e).reduce(((t,o)=>{const n=o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),l=e[o];return void 0===l||"string"!=typeof l&&0!==l||t.push(`${n}:${l};`),t}),[]).join("")}function te(e,t){var o;const n=String(e).trim();let l=parseFloat(n);if(isNaN(l))return"";if(l<0)return"";if(0===l)return"0";t?.minNum&&(l=Math.max(t.minNum,l)),t?.maxNum&&(l=Math.min(t.maxNum,l));const a=10**(t?.precision||4);return l=Math.round(l*a)/a,`${l}${(null!==(o=n.match(/[\d.\-+]*\s*(.*)/)?.[1])&&void 0!==o?o:"").toLowerCase()}`}function oe(e,t=0){if(!e)return t;const o=parseInt(String(e),10);return isNaN(o)?t:o||t}function ne(e){const t=parseInt(e,10);if(Number.isInteger(t))return t<0||1===t?void 0:t.toString()}function le(e,{sectionName:t,rowIndex:o}){const n=e.body[0].cells.length,l=ue(e),a={cells:Array.from({length:n}).map(((e,n)=>{const a=l.reduce(((e,t)=>e.concat(t.cells)),[]).filter((e=>e.sectionName===t&&e.rowIndex<o&&e.rowIndex+e.rowSpan-1>=o&&e.vColIndex<=n&&n<=e.vColIndex+e.colSpan-1));return{content:"",tag:"head"===t?"th":"td",rowSpan:1,colSpan:1,sectionName:t,rowIndex:o,vColIndex:n,isFirstSelected:!1,isHidden:!!a.length}}))};return{...e,[t]:[...e[t].slice(0,o),a,...e[t].slice(o).map((({cells:e})=>({cells:e.map((e=>({...e,rowIndex:e.rowIndex+1})))})))].map((({cells:e},n)=>({cells:e.map((e=>e.sectionName===t&&e.rowSpan>1&&n<=o&&n+e.rowSpan-1>=o?{...e,sectionName:t,rowIndex:n,rowSpan:e.rowSpan+1}:e))})))}}function ae(e,{sectionName:t,rowIndex:o}){const n=e[t][o].cells.filter((e=>e.rowSpan>1)).length;if(n)for(let l=0;l<n;l++){const n=e[t].reduce(((e,t)=>e.concat(t.cells)),[]).filter((e=>e.rowSpan>1&&e.rowIndex===o));n.length&&(e=se(e,n[0]))}return{...e,[t]:e[t].reduce(((e,t,n)=>(n===o||e.push({cells:t.cells.map((e=>e.rowSpan>1&&n<o&&n+e.rowSpan-1>=o?{...e,rowSpan:e.rowSpan-1}:n>o?{...e,rowIndex:e.rowIndex-1}:e))}),e)),[])}}function re(e,{vColIndex:t}){const o=e.body[0].cells.length===t,n=ue(e);return Object.entries(e).reduce(((e,[l,a])=>a.length?(e[l]=a.map((({cells:e},a)=>({cells:e.reduce(((e,r,c)=>{if(r.colSpan>1&&c<t&&c+r.colSpan-1>=t)return e.push({...r,colSpan:r.colSpan+1}),e;if(o&&c+1===t)return e.push(r,{content:"",tag:"head"===l?"th":"td",rowSpan:1,colSpan:1,sectionName:r.sectionName,rowIndex:r.rowIndex,vColIndex:t+1,isHidden:!1}),e;if(c===t){const o=n.reduce(((e,t)=>e.concat(t.cells)),[]).filter((e=>e.sectionName===l&&e.colSpan>1&&e.rowIndex<=a&&e.rowIndex+e.rowSpan-1>=a&&e.vColIndex<t&&t<=e.vColIndex+e.colSpan-1));return e.push({content:"",tag:"head"===l?"th":"td",rowSpan:1,colSpan:1,sectionName:r.sectionName,rowIndex:r.rowIndex,vColIndex:t,isHidden:!!o.length},{...r,vColIndex:t+1}),e}return t<=c?(e.push({...r,vColIndex:c+1}),e):(e.push(r),e)}),[])}))),e):e),{head:[],body:[],foot:[]})}function ce(e,{vColIndex:t}){const o=ue(e).reduce(((e,t)=>e.concat(t.cells)),[]).filter((e=>e.colSpan>1&&e.vColIndex===t));return o.length&&o.forEach((t=>e=se(e,t))),Object.entries(e).reduce(((e,[o,n])=>n.length?(e[o]=n.map((({cells:e})=>({cells:e.reduce(((e,o)=>o.vColIndex===t?e:o.colSpan>1&&o.vColIndex<t&&o.vColIndex+o.colSpan-1>=t?(e.push({...o,colSpan:o.colSpan-1}),e):o.vColIndex>t?(e.push({...o,vColIndex:o.vColIndex-1}),e):(e.push(o),e)),[])}))),e):e),{head:[],body:[],foot:[]})}function se(e,t){const{sectionName:o,rowIndex:n,vColIndex:l,rowSpan:a,colSpan:r}=t,c=e[o];if(c[n].cells[l]={...c[n].cells[l],rowSpan:1,colSpan:1},r>1)for(let e=1;e<r;e++)c[n].cells[l+e]={...c[n].cells[l],content:"",vColIndex:l+e,isHidden:!1};if(a>1)for(let e=1;e<a;e++)if(c[n+e].cells[l]={...c[n].cells[l],content:"",rowIndex:n+e,isHidden:!1},r>1)for(let t=1;t<r;t++)c[n+e].cells[l+t]={...c[n].cells[l],content:"",rowIndex:n+e,vColIndex:l+e,isHidden:!1};return{...e,[o]:c}}function ie(e){return!e||!e.length||e.every((({cells:e})=>!(e&&e.length)))}function de(e){const{head:t,body:o,foot:n}=e,l={head:t,body:o,foot:n};return Object.entries(l).reduce(((e,[t,o])=>{if(!o.length)return e;const n=o.length,l=o[0].cells.reduce(((e,t)=>e+oe(t.colSpan,1)),0),a=Array.from({length:n}).map(((e,o)=>({cells:Array.from({length:l}).map(((e,n)=>({content:"",tag:"head"===t?"th":"td",rowSpan:1,colSpan:1,sectionName:t,isHidden:!1,isFilled:!1,rowIndex:o,vColIndex:n})))})));return o.forEach(((e,o)=>{e.cells.forEach((e=>{const n=a[o].cells.findIndex((({isFilled:e})=>!e)),l=oe(e.rowSpan,1),r=oe(e.colSpan,1);if(a[o].cells[n]={...e,isFilled:!0,sectionName:t,rowSpan:l,colSpan:r,rowIndex:o,vColIndex:n,isHidden:!1},r>1)for(let e=1;e<r;e++)a[o].cells[n+e].isFilled=!0,a[o].cells[n+e].isHidden=!0;if(l>1)for(let e=1;e<l;e++)if(a[o+e].cells[n].isFilled=!0,a[o+e].cells[n].isHidden=!0,r>1)for(let t=1;t<r;t++)a[o+e].cells[n+t].isFilled=!0,a[o+e].cells[n+t].isHidden=!0}))})),e[t]=a,e}),{head:[],body:[],foot:[]})}function me(e){return Object.entries(e).reduce(((e,[t,o])=>o.length?(e[t]=o.map((({cells:e})=>({cells:e.filter((e=>!e.isHidden)).map((e=>({content:e.content,styles:e.styles,tag:e.tag,className:e.className,id:e.id,headers:e.headers,scope:e.scope,rowSpan:e.rowSpan>1?String(e.rowSpan):void 0,colSpan:e.colSpan>1?String(e.colSpan):void 0})))}))),e):e),{head:[],body:[],foot:[]})}function ue(e){return Object.keys(e).reduce(((t,o)=>(ie(e[o])||t.push(...e[o]),t)),[])}function pe(e){return e.reduce((({minRowIndex:e,maxRowIndex:t,minColIndex:o,maxColIndex:n},l)=>{const a=l.rowSpan>1?l.rowIndex+l.rowSpan-1:l.rowIndex,r=l.colSpan>1?l.vColIndex+l.colSpan-1:l.vColIndex;return{minRowIndex:e<l.rowIndex?e:l.rowIndex,maxRowIndex:t>a?t:a,minColIndex:o<l.vColIndex?o:l.vColIndex,maxColIndex:n>r?n:r}}),{minRowIndex:e[0].rowIndex,maxRowIndex:e[0].rowIndex,minColIndex:e[0].vColIndex,maxColIndex:e[0].vColIndex})}function he(e){if(!e)return!1;if(e.length<=1)return!1;if(function(e){return e.reduce(((e,t)=>(e.includes(t.sectionName)||e.push(t.sectionName),e)),[]).length>1}(e))return!1;const t=pe(e),o=[];for(let e=t.minRowIndex;e<=t.maxRowIndex;e++){o[e]=[];for(let n=t.minColIndex;n<=t.maxColIndex;n++)o[e][n]=!1}return e.forEach((e=>{if(e.rowIndex in o&&e.vColIndex in o[e.rowIndex]){if(o[e.rowIndex][e.vColIndex]=!0,e.colSpan>1)for(let t=1;t<e.colSpan;t++)o[e.rowIndex][e.vColIndex+t]=!0;if(e.rowSpan>1)for(let t=1;t<e.rowSpan;t++)if(o[e.rowIndex+t][e.vColIndex]=!0,e.colSpan>1)for(let n=1;n<e.colSpan;n++)o[e.rowIndex+t][e.vColIndex+n]=!0}})),o.reduce(((e,t)=>e.concat(t)),[]).every((e=>e))}function ve(e){return!!e&&e.some((({rowSpan:e,colSpan:t})=>e>1||t>1))}function be(e,t){if(!ie(e[t]))return{...e,[t]:[]};const o=e.body[0].cells.length,n={cells:Array.from({length:o}).map(((e,o)=>({content:"",tag:"head"===t?"th":"td",rowSpan:1,colSpan:1,sectionName:t,rowIndex:0,vColIndex:o,isHidden:!1,isFirstSelected:!1})))};return{...e,[t]:[n]}}function xe({attributes:e,setAttributes:t,vTable:o,setSelectedCells:a,setSelectedLine:r}){const{isStackedOnMobile:c,sticky:s,head:i,foot:d}=e;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(f.ToggleControl,{label:(0,l.__)("Header section (<thead>)","comet"),checked:!(!i||!i.length),onChange:()=>{const e=be(o,"head");t(me(e)),a(void 0),r(void 0)},__nextHasNoMarginBottom:!0}),(0,n.createElement)(f.ToggleControl,{label:(0,l.__)("Footer section (<tfoot>)","comet"),checked:!(!d||!d.length),onChange:()=>{const e=be(o,"foot");t(me(e)),a(void 0),r(void 0)},__nextHasNoMarginBottom:!0}),(0,n.createElement)(f.ToggleControl,{label:(0,l.__)("Stack when adapting to a narrow container or viewport","comet"),className:"ftb-toggle-control",checked:c,onChange:()=>{t({isStackedOnMobile:!c})},__nextHasNoMarginBottom:!0}),(0,n.createElement)(f.SelectControl,{label:(0,l.__)("Fixed headers","comet"),value:s,options:F.map((({label:e,value:t})=>({label:e,value:t}))),onChange:e=>{var o;o=e,(!e||F.some((e=>e.value===o)))&&t({sticky:"none"===e?void 0:e})},size:"__unstable-large",__nextHasNoMarginBottom:!0}))}function ge({attributes:e,setAttributes:t,captionStylesObj:o}){const{captionPosition:a}=e;return(0,n.createElement)(f.Flex,{wrap:!1,align:"flex-start"},(0,n.createElement)(f.__experimentalToggleGroupControl,{label:(0,l.__)("Position","comet"),value:a,onChange:e=>{var o;o=e,z.some((e=>e.value===o))&&t({captionPosition:e})},isBlock:!0},z.map((({label:e,value:t})=>(0,n.createElement)(f.__experimentalToggleGroupControlOption,{key:t,value:t,label:e})))),(0,n.createElement)(f.__experimentalToggleGroupControl,{label:(0,l.__)("Text alignment","comet"),value:o?.textAlign,isDeselectable:!0,onChange:e=>{if(n=e,!e||A.some((e=>e.value===n))){const n={...o,textAlign:e===o.textAlign?void 0:e};t({captionStyles:ee(n)})}var n},isBlock:!0},A.map((({icon:e,label:t,value:o})=>(0,n.createElement)(f.__experimentalToggleGroupControlOptionIcon,{key:o,value:o,icon:e,label:t})))))}function we(e){var t,o,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(o=we(e[t]))&&(n&&(n+=" "),n+=o)}else for(o in e)e[o]&&(n&&(n+=" "),n+=o);return n}const fe=function(){for(var e,t,o=0,n="",l=arguments.length;o<l;o++)(e=arguments[o])&&(t=we(e))&&(n&&(n+=" "),n+=t);return n};function _e({label:e,value:t,isNone:o,isTransparent:a,isMixed:r=!1,onClick:c}){return(0,n.createElement)(f.Button,{label:e,className:fe("ftb-color-indicator-button",{"is-none":o,"is-mixed":r,"is-transparent":a}),onClick:c},r?(0,l.__)("Mixed","flexible-table-block"):(0,n.createElement)(f.ColorIndicator,{colorValue:t||""}))}function ye({label:e=(0,l.__)("Color","flexible-table-block"),help:t,onChange:o,colors:a=[],value:c}){const i=`${(0,s.useInstanceId)(ye,"ftb-color-control")}-heading`,d=(0,m.useSelect)((e=>{var t;const o=e(r.store).getSettings();return null!==(t=o?.colors)&&void 0!==t?t:[]}),[]),[u,p]=(0,W.useState)(!1);return(0,n.createElement)(f.BaseControl,{className:"ftb-color-control",help:t,__nextHasNoMarginBottom:!0},(0,n.createElement)(f.__experimentalVStack,{"aria-labelledby":i,role:"group"},(0,n.createElement)(f.Flex,null,(0,n.createElement)(f.__experimentalText,{id:i,upperCase:!0,size:"11",weight:"500",as:f.FlexBlock},e),(0,n.createElement)(f.FlexItem,null,(0,n.createElement)(f.Button,{variant:"secondary",onClick:()=>o(void 0),size:"small"},(0,l.__)("Reset","flexible-table-block")))),(0,n.createElement)(_e,{label:(0,l.__)("Color","flexible-table-block"),value:c,onClick:()=>p(!0),isNone:!c,isTransparent:"transparent"===c})),u&&(0,n.createElement)(f.Popover,{placement:"left-start",shift:!0,offset:36,onClose:()=>p(!1)},(0,n.createElement)(f.__experimentalSpacer,{padding:4,marginBottom:0},(0,n.createElement)(f.ColorPalette,{colors:[...d,...a],value:c||"",onChange:e=>o(e)}))))}function Se({setAttributes:e,vTable:t,selectedCells:o=[]}){const a=(0,f.__experimentalUseCustomUnits)({availableUnits:P});if(!o.length)return null;const{sectionName:r,rowIndex:c,vColIndex:s}=o[0],i=t[r][c].cells[s];if(!i)return null;const d=o.reduce(((e,o)=>{const{tag:n}=t[o.sectionName][o.rowIndex].cells[o.vColIndex];return e.includes(n)||e.push(n),e}),[]),m=X(i.styles),u=n=>{const l=function(e,t,o){return Object.entries(e).reduce(((e,[n,l])=>l.length?(e[n]=l.map((({cells:e},l)=>({cells:e.map(((e,a)=>{if(!o.some((e=>e.sectionName===n&&e.rowIndex===l&&e.vColIndex===a)))return e;let r=X(e?.styles);return t.styles&&(r={...r,...t.styles}),{...e,styles:ee(r),tag:t.tag||e.tag,className:"className"in t?t.className:e.className,id:"id"in t?t.id:e.id,headers:"headers"in t?t.headers:e.headers,scope:"scope"in t?t.scope:e.scope}}),[])}))),e):e),{head:[],body:[],foot:[]})}(t,n,o);e(me(l))};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(f.__experimentalToggleGroupControl,{label:(0,l.__)("Cell type","comet"),value:i.tag,isBlock:!0,onChange:e=>{var t;t=e,G.some((e=>e.value===t))&&u({tag:e,id:void 0,headers:void 0,scope:void 0})}},G.map((({label:e,value:t})=>(0,n.createElement)(f.__experimentalToggleGroupControlOption,{key:t,value:t,label:e})))),1===d.length&&(0,n.createElement)(n.Fragment,null,d.includes("th")&&(0,n.createElement)(f.SelectControl,{label:(0,l.__)("Scope","comet"),value:i.scope,options:R.map((({label:e,value:t})=>({label:e,value:t}))),onChange:e=>{u({scope:e===i.scope?void 0:e})},help:"Does this label its row or column?",__next40pxDefaultSize:!0}),d.includes("th")&&(0,n.createElement)(f.__experimentalUnitControl,{label:(0,l.__)("Column width","comet"),value:m?.width,units:a,min:0,onChange:e=>{u({styles:{width:te(e)}})},__next40pxDefaultSize:!0}),d.includes("th")&&(0,n.createElement)(f.TextControl,{label:(0,l.__)("Unique ID","comet"),autoComplete:"off",value:i.id||"",onChange:e=>{u({id:""!==e?e:void 0})},help:"No spaces; must start with a letter",__next40pxDefaultSize:!0}),d.includes("td")&&(0,n.createElement)(f.TextControl,{label:(0,W.createInterpolateElement)((0,l.__)("<code>headers</code> attribute","comet"),{code:(0,n.createElement)("code",null)}),autoComplete:"off",value:i.headers||"",onChange:e=>{u({headers:""!==e?e:void 0})},help:"Unique ID of a header cell to associate with this cell"})),(0,n.createElement)("hr",null),(0,n.createElement)(f.BaseControl,{id:"comet-cell-text-align"},(0,n.createElement)("div",{"aria-labelledby":"comet-cell-text-align-heading",role:"group"},(0,n.createElement)(f.Flex,{style:{marginBottom:"-16px"},justify:"start",align:"start"},(0,n.createElement)(f.__experimentalToggleGroupControl,{label:(0,l.__)("Text alignment","comet"),value:m?.textAlign,isDeselectable:!0,onChange:e=>{u({styles:{textAlign:e===m.textAlign?void 0:e}})}},A.map((({icon:e,label:t,value:o})=>(0,n.createElement)(f.__experimentalToggleGroupControlOptionIcon,{key:o,value:o,icon:e,label:t})))),(0,n.createElement)(f.__experimentalToggleGroupControl,{label:(0,l.__)("Vertical alignment","comet"),value:m?.verticalAlign,isDeselectable:!0,onChange:e=>{u({styles:{verticalAlign:e===m.verticalAlign?void 0:e}})}},j.map((({icon:e,label:t,value:o})=>(0,n.createElement)(f.__experimentalToggleGroupControlOptionIcon,{key:o,value:o,icon:e,label:t}))))))),(0,n.createElement)("hr",null),(0,n.createElement)(ye,{label:(0,l.__)("Cell background","comet"),value:m.backgroundColor,onChange:e=>{u({styles:{backgroundColor:e}})}}),(0,n.createElement)(f.TextControl,{label:(0,l.__)("Cell CSS class(es)","comet"),autoComplete:"off",value:i.className||"",onChange:e=>{u({className:""!==e?e:void 0})},help:(0,l.__)("Separate multiple classes with spaces.","comet")}))}const Ce=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})}),Ie=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})}),Ee=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})}),ke=(0,p.jsx)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(u.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})});function Me(e){const{name:t,...o}=e,l=`t${t}`;return(0,n.createElement)(l,{...o})}function Ne(e){const{name:t,...o}=e,l=t;return(0,n.createElement)(l,{...o})}function He({attributes:e,setAttributes:t,isSelected:o,vTable:a,tableStylesObj:c,selectedCells:s,setSelectedCells:i,selectedLine:d,setSelectedLine:u,isContentOnlyMode:p}){const{hasFixedLayout:h,isStackedOnMobile:v,sticky:b}=e,x=(0,r.__experimentalUseColorProps)(e),[g,w]=(0,W.useState)(!1),[_,y]=(0,W.useState)(!1);(0,W.useEffect)((()=>y(!0)),[]);const S=(0,W.useRef)(null),{createWarningNotice:C}=(0,m.useDispatch)(Q.store);let I=!1;const E=d&&"sectionName"in d&&"rowIndex"in d,k=d&&"vColIndex"in d,M=(e,o)=>{const n=le(a,{sectionName:e,rowIndex:o});t(me(n)),i(void 0),u(void 0)},N=(e,o)=>{const n=0===o?e.vColIndex:e.vColIndex+o+e.colSpan-1,l=re(a,{vColIndex:n});t(me(l)),i(void 0),u(void 0)},H=Object.keys(a).reduce(((e,t)=>ie(a[t])?e:{...e,[t]:a[t].map((e=>({cells:e.cells.filter((e=>!e.isHidden))})))}),{});if(!H)return null;const V=Object.keys(H);return(0,n.createElement)("table",{className:fe(x.className,{"has-fixed-layout":h,"is-stacked-on-mobile":v,[`is-sticky-${b}`]:b}),style:{...c,...x.style},ref:S,onKeyDown:e=>{const{key:t}=e;if("Shift"===t||"Control"===t||"Meta"===t)w(!0);else if("Tab"===t&&S.current){if(null===e.target.closest(".wp-block-comet-table"))return;I=!0;const t=S.current,{ownerDocument:o}=t,{activeElement:n}=o,l=t.querySelector('th.is-selected > [contenteditable="true"], td.is-selected > [contenteditable="true"]'),a=n&&null!==n.closest(".components-popover"),r=!!o.querySelector(".block-editor-link-control");if(!l||a||r)return;const c=t.querySelectorAll('th > [contenteditable="true"], td > [contenteditable="true"]'),s=[].slice.call(c),i=s.findIndex((e=>e===l));if(-1===i)return;let d=e.shiftKey?i-1:i+1;d<0?d=s.length-1:d>=s.length&&(d=0);const m=s[d];if(!m)return;e.preventDefault(),w(!1),m.focus();const u=o.getSelection(),p=o.createRange();u&&m.innerText.trim().length&&(p.selectNodeContents(m),u.removeAllRanges(),u.addRange(p))}},onKeyUp:e=>{const{key:t}=e;if("Shift"===t||"Control"===t||"Meta"===t){if(null===e.target.closest(".wp-block-comet-table"))return;w(!1)}}},V.map(((e,c)=>(0,n.createElement)(Me,{name:e,key:c},H[e].map(((m,h)=>(0,n.createElement)("tr",{key:h},m.cells.map((m=>{const{content:v,tag:b,className:x,id:w,headers:y,scope:S,styles:V,rowSpan:B,colSpan:Z,vColIndex:P}=m,T=(s||[]).some((t=>t.sectionName===e&&t.rowIndex===h&&t.vColIndex===P)),A=X(V);return(0,n.createElement)(Ne,{key:P,name:b,className:fe(x,{"is-selected":T}),rowSpan:B>1?B:void 0,colSpan:Z>1?Z:void 0,style:A,id:w,headers:y,scope:S,onClick:e=>((e,t)=>{const{shiftKey:o,ctrlKey:n,metaKey:r}=e;if(null===e.target.closest(".wp-block-comet-table"))return;const{sectionName:c,rowIndex:d,vColIndex:m}=t;if(o)if(s){const e=s.find((({isFirstSelected:e})=>e));if(!e)return;if(e.sectionName!==c)return void C((0,l.__)("Cannot select range cells from different sections.","comet"),{id:"comet-range-sections",type:"snackbar"});i(function(e,{fromCell:t,toCell:o}){if(!t||!o)return[];if(t.sectionName!==o.sectionName)return[];const n=pe([t,o]);let l=!1,{minRowIndex:a,maxRowIndex:r,minColIndex:c,maxColIndex:s}=n;const i=e[t.sectionName],d=i.length,m=i[0].cells.length,u=i.reduce(((e,t)=>e.concat(t.cells)),[]).map((e=>(e.rowIndex===t.rowIndex&&e.vColIndex===t.vColIndex&&(e.isFirstSelected=!0),e))).filter((e=>!e.isHidden));for(;!l;){const e=u.filter((e=>(e.vColIndex+e.colSpan-1>=c&&e.vColIndex+e.colSpan-1<=s||e.vColIndex>=c&&e.vColIndex<=s)&&e.rowIndex<a&&e.rowIndex+e.rowSpan-1>=a&&e.rowSpan>1)),t=0===a||!e.length;t||a--;const o=u.filter((e=>(e.rowIndex+e.rowSpan-1>=a&&e.rowIndex+e.rowSpan-1<=r||e.rowIndex>=a&&e.rowIndex<=r)&&e.vColIndex<=s&&e.vColIndex+e.colSpan-1>s&&e.colSpan>1)),n=s===m-1||!o.length;n||s++;const i=u.filter((e=>(e.vColIndex+e.colSpan-1>=c&&e.vColIndex+e.colSpan-1<=s||e.vColIndex>=c&&e.vColIndex<=s)&&e.rowIndex<=r&&e.rowIndex+e.rowSpan-1>r&&e.rowSpan-1)),p=r===d-1||!i.length;p||r++;const h=u.filter((e=>(e.rowIndex+e.rowSpan-1>=a&&e.rowIndex+e.rowSpan-1<=r||e.rowIndex>=a&&e.rowIndex<=r)&&e.vColIndex<c&&e.vColIndex+e.colSpan-1>=c&&e.colSpan>1)),v=s===m-1||!h.length;v||c--,l=t&&n&&p&&v}return u.filter((e=>e.rowIndex>=a&&e.rowIndex<=r&&e.vColIndex>=c&&e.vColIndex<=s))}(a,{fromCell:e,toCell:t}))}else i([{...t,isFirstSelected:!0}]);else if(n||r){const e=s?[...s]:[],o=e.findIndex((e=>e.sectionName===c&&e.rowIndex===d&&e.vColIndex===m));if(e.length&&c!==e[0].sectionName)return void C((0,l.__)("Cannot select multi cells from difference sections.","comet"),{id:"comet-multi-sections",type:"snackbar"});-1===o?e.push(t):e.splice(o,1),i(e)}else i([{...t,isFirstSelected:!0}])})(e,m)},o&&!p&&0===h&&0===P&&(0,n.createElement)(f.Button,{className:"ftb-table-cell-label",tabIndex:0,variant:"primary",onClick:t=>{(e=>{i(a[e].reduce(((e,t)=>e.concat(t.cells.filter((e=>!e.isHidden)))),[])),u(void 0)})(e),t.stopPropagation()}},`t${e}`),o&&!p&&(0,n.createElement)(n.Fragment,null,0===h&&0===P&&(0,n.createElement)(f.Button,{className:fe("ftb-row-before-inserter",{"ftb-row-before-inserter--has-prev-section":c>0}),label:(0,l.__)("Insert row before","comet"),tabIndex:0,icon:Ce,iconSize:18,onClick:t=>{M(e,h),t.stopPropagation()}}),0===P&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(f.Button,{className:"ftb-row-selector",label:(0,l.__)("Select row","comet"),tabIndex:0,icon:Ie,iconSize:16,variant:E&&d.sectionName===e&&d.rowIndex===h?"primary":void 0,onClick:t=>{((e,t)=>{E&&d.sectionName===e&&d.rowIndex===t?(u(void 0),i(void 0)):(u({sectionName:e,rowIndex:t}),i(a[e].reduce(((e,o)=>e.concat(o.cells.filter((e=>e.rowIndex===t&&!e.isHidden)))),[])))})(e,h),t.stopPropagation()}}),E&&d.sectionName===e&&d.rowIndex===h&&(0,n.createElement)(f.Button,{className:"ftb-row-deleter",label:(0,l.__)("Delete row","comet"),tabIndex:0,icon:Ee,iconSize:20,onClick:o=>{((e,o)=>{if(!("body"!==e||1!==a.body.length||ie(a.head)&&ie(a.foot)))return void C((0,l.__)("The table body must have one or more rows.","comet"),{id:"comet-body-row",type:"snackbar"});const n=ae(a,{sectionName:e,rowIndex:o});t(me(n)),i(void 0),u(void 0)})(e,h),o.stopPropagation()}})),0===c&&0===h&&0===P&&(0,n.createElement)(f.Button,{className:"ftb-column-before-inserter",label:(0,l.__)("Insert column before","comet"),tabIndex:0,icon:Ce,iconSize:18,onClick:e=>{N(m,0),e.stopPropagation()}}),0===c&&0===h&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(f.Button,{className:"ftb-column-selector",label:(0,l.__)("Select column","comet"),tabIndex:0,icon:ke,iconSize:18,variant:k&&d.vColIndex===P?"primary":void 0,onClick:e=>{(e=>{if(k&&d.vColIndex&&d.vColIndex===e)u(void 0),i(void 0);else{const t=ue(a);i(t.reduce(((t,o)=>t.concat(o.cells.filter((t=>t.vColIndex===e&&!t.isHidden)))),[])),u({vColIndex:e})}})(P),e.stopPropagation()}}),k&&d.vColIndex===P&&(0,n.createElement)(f.Button,{className:"ftb-column-deleter",label:(0,l.__)("Delete column","comet"),tabIndex:0,icon:Ee,iconSize:20,onClick:e=>{(e=>{const o=ce(a,{vColIndex:e});t(me(o)),i(void 0),u(void 0)})(P),e.stopPropagation()}})),0===P&&(0,n.createElement)(f.Button,{className:fe("ftb-row-after-inserter",{"ftb-row-after-inserter--has-next-section":c<Object.keys(H).length-1&&h+B-1==H[e].length-1}),label:(0,l.__)("Insert row after","comet"),tabIndex:0,icon:Ce,iconSize:18,onClick:t=>{M(e,h+B),t.stopPropagation()}})),(0,n.createElement)(r.RichText,{key:P,value:v,onChange:e=>((e,o)=>{if(!_)return;const{sectionName:n,rowIndex:l,vColIndex:r}=o;i([{...o,isFirstSelected:!0}]);const c={...a,[n]:a[n].map(((t,o)=>o!==l?{cells:t.cells.filter((e=>!e.isHidden))}:{cells:t.cells.map(((t,n)=>o!==l||n!==r?t:{...t,content:e}))}))};t(me(c))})(e,m),...(!g||I)&&{onFocus:()=>{I=!1,u(void 0),i([{...m,isFirstSelected:!0}])}},"aria-label":O[e]}),o&&!p&&0===c&&0===h&&(0,n.createElement)(f.Button,{className:"ftb-column-after-inserter",label:(0,l.__)("Insert column after","comet"),tabIndex:0,icon:Ce,iconSize:18,onClick:e=>{N(m,1),e.stopPropagation()}}))})))))))))}const Ve=(0,p.jsx)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(u.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z"})});function Be({attributes:e,setAttributes:t,insertBlocksAfter:o,setSelectedLine:c,setSelectedCells:i,captionStylesObj:d,isSelected:m}){const{caption:u=""}=e,p=(0,s.usePrevious)(u),h=r.RichText.isEmpty(u),v=r.RichText.isEmpty(p||""),[b,x]=(0,W.useState)(!h),g=e=>t({caption:e});(0,W.useEffect)((()=>{!h&&v&&x(!0)}),[h,v]),(0,W.useEffect)((()=>{!m&&h&&x(!1)}),[m,h]);const w=(0,W.useCallback)((e=>{e&&h&&e?.focus()}),[h]);return(0,n.createElement)(n.Fragment,null,m&&(0,n.createElement)(r.BlockControls,{group:"block"},(0,n.createElement)(f.ToolbarButton,{onClick:()=>{x(!b),b&&u&&g(void 0)},icon:Ve,isPressed:b,label:b?(0,l.__)("Remove caption","flexible-table-block"):(0,l.__)("Add caption","flexible-table-block")})),b&&(!r.RichText.isEmpty(u)||m)&&(0,n.createElement)(r.RichText,{"aria-label":(0,l.__)("Table caption text","flexible-table-block"),placeholder:(0,l.__)("Add caption","flexible-table-block"),tagName:"figcaption",style:d,value:u,ref:w,onChange:g,onFocus:()=>{c(void 0),i(void 0)},__unstableOnSplitAtEnd:()=>o((0,a.createBlock)("core/paragraph"))}))}const Ze=window.wp.keycodes;function Pe({setAttributes:e}){const[t,o]=(0,W.useState)(3),[a,c]=(0,W.useState)(3),[s,i]=(0,W.useState)(!1),[d,m]=(0,W.useState)(!1),u=t?t+Number(s)+Number(d):void 0,p=u?Number(150/Math.min(10,u)):void 0,h=fe("ftb-placeholder__table",{"is-overflow-row":u&&u>10,"is-overflow-col":a&&a>10});return(0,n.createElement)(f.Placeholder,{label:(0,l.__)("Flexible Table","flexible-table-block"),className:"ftb-placeholder",icon:(0,n.createElement)(r.BlockIcon,{icon:_,showColors:!0})},(0,n.createElement)("div",{className:"components-placeholder__instructions"},(0,W.createInterpolateElement)((0,Ze.isAppleOS)()?(0,l.__)("Hint: Hold <code>Command</code> key to select multiple cells. Hold <code>Shift</code> key to select the range.","flexible-table-block"):(0,l.__)("Hint: Hold <code>Ctrl</code> key to select multiple cells. Hold <code>Shift</code> key to select the range.","flexible-table-block"),{code:(0,n.createElement)("code",null)})),(0,n.createElement)(f.__experimentalSpacer,{as:f.__experimentalVStack,className:"ftb-placeholder__table-wrap",style:{minHeight:150},alignment:"center",padding:4,marginBottom:0},(0,n.createElement)(f.__experimentalText,{align:"center",isBlock:!0,weight:"500"},(0,l.__)("Preview","flexible-table-block")),t&&a&&(0,n.createElement)("table",{className:h},s&&(0,n.createElement)("thead",null,(0,n.createElement)("tr",null,Array.from({length:Math.min(a,10)}).map(((e,t)=>(0,n.createElement)("th",{key:t,style:{height:p}}))))),(0,n.createElement)("tbody",null,Array.from({length:Math.min(t,10)}).map(((e,t)=>(0,n.createElement)("tr",{key:t},Array.from({length:Math.min(a,10)}).map(((e,t)=>(0,n.createElement)("td",{key:t,style:{height:p}}))))))),d&&(0,n.createElement)("tfoot",null,(0,n.createElement)("tr",null,Array.from({length:Math.min(a,10)}).map(((e,t)=>(0,n.createElement)("td",{key:t,style:{height:p}}))))))),(0,n.createElement)(f.__experimentalVStack,{as:"form",onSubmit:o=>{if(o.preventDefault(),!t||!a)return;const n=function({rowCount:e,colCount:t,headerSection:o,footerSection:n}){const l=(e,t,o)=>Array.from({length:e}).map(((e,n)=>({cells:Array.from({length:t}).map(((e,t)=>({content:"",tag:"head"===o?"th":"td",rowSpan:1,colSpan:1,sectionName:o,rowIndex:n,vColIndex:t,isFirstSelected:!1,isHidden:!1})))})));return{head:l(Number(o),t,"head"),body:l(e,t,"body"),foot:l(Number(n),t,"foot")}}({rowCount:Math.min(t,50),colCount:Math.min(a,50),headerSection:s,footerSection:d});e(me(n))}},(0,n.createElement)(f.__experimentalHStack,{wrap:!0,justify:"start"},(0,n.createElement)(f.ToggleControl,{label:(0,l.__)("Header section","flexible-table-block"),checked:!!s,onChange:e=>i(e),__nextHasNoMarginBottom:!0}),(0,n.createElement)(f.ToggleControl,{label:(0,l.__)("Footer section","flexible-table-block"),checked:!!d,onChange:e=>m(e),__nextHasNoMarginBottom:!0})),(0,n.createElement)(f.__experimentalHStack,{wrap:!0,alignment:"end",justify:"start"},(0,n.createElement)(f.TextControl,{label:(0,l.__)("Column count","flexible-table-block"),className:"ftb-placeholder__input",type:"number",min:"1",max:50,value:a||"",onChange:e=>{const t=parseInt(e,10);isNaN(t)?c(void 0):c(Math.max(1,Math.min(50,t)))},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,n.createElement)(f.TextControl,{label:(0,l.__)("Row count","flexible-table-block"),className:"ftb-placeholder__input",type:"number",min:"1",max:50,value:t||"",onChange:e=>{const t=parseInt(e);isNaN(t)?o(void 0):o(Math.max(1,Math.min(50,t)))},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,n.createElement)(f.Button,{variant:"primary",type:"submit",disabled:!t||!a,__next40pxDefaultSize:!0},(0,l.__)("Create Table","flexible-table-block")))))}const Oe={from:[{type:"block",blocks:["core/table"],transform:e=>{const{hasFixedLayout:t,head:o,body:n,foot:l,caption:r,style:c}=e,s=e=>e.length?e.map((e=>e.cells.length?{cells:e.cells.map((e=>{const{content:t,tag:o,colspan:n,rowspan:l}=e;return{content:t,tag:o,colSpan:ne(n),rowSpan:ne(l)}}))}:e)):e;return(0,a.createBlock)("flexible-table-block/table",{head:s(o),body:s(n),foot:s(l),hasFixedLayout:t,caption:r,style:c})}}],to:[{type:"block",blocks:["core/table"],transform:e=>{const{getBlockType:t}=(0,m.select)(a.store),o=t("core/table"),n=!!o.attributes.head.query.cells.query.rowspan&&!!o.attributes.head.query.cells.query.colspan;let l=de(e);const r=ue(l).reduce(((e,t)=>e.concat(t.cells)),[]).filter((({rowSpan:e,colSpan:t})=>e>1||t>1));r.length&&!n&&r.forEach((e=>{l=se(l,e)}));const c=Object.entries(l).reduce(((e,[t,o])=>{if(!o.length)return e;const l=o.map((({cells:e})=>({cells:e.filter((e=>!e.isHidden)).map((e=>({content:e.content,tag:"head"===e.sectionName?"th":"td",rowspan:n?ne(e.rowSpan):void 0,colspan:n?ne(e.colSpan):void 0})))})));return e[t]=l,e}),{});return(0,a.createBlock)("core/table",{...c,hasFixedLayout:e.hasFixedLayout,caption:e.caption,style:e.style})}}]},Te=[{attributes:{contentJustification:{type:"string"},hasFixedLayout:{type:"boolean",default:!0},isScrollOnPc:{type:"boolean",default:!1},isScrollOnMobile:{type:"boolean",default:!1},isStackedOnMobile:{type:"boolean",default:!1},sticky:{type:"string"},tableStyles:{type:"string",source:"attribute",selector:"table",attribute:"style"},captionPosition:{type:"string",default:"bottom"},caption:{type:"string",source:"html",selector:"figcaption"},captionStyles:{type:"string",source:"attribute",selector:"figcaption",attribute:"style"},head:{type:"array",default:[],source:"query",selector:"thead tr",query:{cells:{type:"array",default:[],source:"query",selector:"td,th",query:{content:{type:"string",source:"html"},styles:{type:"string",source:"attribute",attribute:"style"},tag:{type:"string",default:"td",source:"tag"},className:{type:"string",source:"attribute",attribute:"class"},id:{type:"string",source:"attribute",attribute:"id"},headers:{type:"string",source:"attribute",attribute:"headers"},scope:{enum:["row","col","rowgroup","colgroup"],source:"attribute",attribute:"scope"},rowSpan:{type:"string",source:"attribute",attribute:"rowspan"},colSpan:{type:"string",source:"attribute",attribute:"colspan"}}}}},body:{type:"array",default:[],source:"query",selector:"tbody tr",query:{cells:{type:"array",default:[],source:"query",selector:"td,th",query:{content:{type:"string",source:"html"},styles:{type:"string",source:"attribute",attribute:"style"},tag:{type:"string",default:"td",source:"tag"},className:{type:"string",source:"attribute",attribute:"class"},id:{type:"string",source:"attribute",attribute:"id"},headers:{type:"string",source:"attribute",attribute:"headers"},scope:{enum:["row","col","rowgroup","colgroup"],source:"attribute",attribute:"scope"},rowSpan:{type:"string",source:"attribute",attribute:"rowspan"},colSpan:{type:"string",source:"attribute",attribute:"colspan"}}}}},foot:{type:"array",default:[],source:"query",selector:"tfoot tr",query:{cells:{type:"array",default:[],source:"query",selector:"td,th",query:{content:{type:"string",source:"html"},styles:{type:"string",source:"attribute",attribute:"style"},tag:{type:"string",default:"td",source:"tag"},className:{type:"string",source:"attribute",attribute:"class"},id:{type:"string",source:"attribute",attribute:"id"},headers:{type:"string",source:"attribute",attribute:"headers"},scope:{enum:["row","col","rowgroup","colgroup"],source:"attribute",attribute:"scope"},rowSpan:{type:"string",source:"attribute",attribute:"rowspan"},colSpan:{type:"string",source:"attribute",attribute:"colspan"}}}}}},supports:{anchor:!0,align:["left","right","wide","full"],color:{__experimentalSkipSerialization:!0,gradients:!0,link:!0},typography:{fontSize:!0,lineHeight:!0,__experimentalFontFamily:!0,__experimentalTextTransform:!0,__experimentalFontStyle:!0,__experimentalFontWeight:!0,__experimentalLetterSpacing:!0},spacing:{margin:!0},__experimentalSelector:".wp-block-flexible-table-block-table > table"},save({attributes:e}){const{contentJustification:t,tableStyles:o,hasFixedLayout:l,isStackedOnMobile:a,isScrollOnPc:c,isScrollOnMobile:s,sticky:i,head:d,body:m,foot:u,caption:p,captionPosition:h,captionStyles:v}=e;if(!d.length&&!m.length&&!u.length)return null;const b=X(o),x=X(v),g=(0,r.__experimentalGetColorClassesAndStyles)(e),w=r.useBlockProps.save({className:fe({[`is-content-justification-${t}`]:t,"is-scroll-on-pc":c,"is-scroll-on-mobile":s})}),f=fe(g.className,{"has-fixed-layout":l,"is-stacked-on-mobile":a,[`is-sticky-${i}`]:i}),_=!r.RichText.isEmpty(p||""),y=({type:e,rows:t})=>{if(!t.length)return null;const o=`t${e}`;return(0,n.createElement)(o,null,t.map((({cells:e},t)=>(0,n.createElement)("tr",{key:t},e.map((({content:e,tag:t,className:o,id:l,headers:a,scope:c,rowSpan:s,colSpan:i,styles:d},m)=>(0,n.createElement)(r.RichText.Content,{key:m,tagName:t,className:o||void 0,id:"th"===t&&l||void 0,headers:a||void 0,scope:"th"===t&&c||void 0,value:e,rowSpan:oe(s)>1?oe(s):void 0,colSpan:oe(i)>1?oe(i):void 0,style:X(d)})))))))},S=()=>(0,n.createElement)(r.RichText.Content,{tagName:"figcaption",value:p||"",style:x});return(0,n.createElement)("figure",{...w},_&&"top"===h&&(0,n.createElement)(S,null),(0,n.createElement)("table",{className:null!=f?f:void 0,style:{...b,...g.style}},(0,n.createElement)(y,{type:"head",rows:d}),(0,n.createElement)(y,{type:"body",rows:m}),(0,n.createElement)(y,{type:"foot",rows:u})),_&&"bottom"===h&&(0,n.createElement)(S,null))}}],Ae={title:(0,l.__)("Table","comet"),category:"text",description:(0,l.__)("Create structured content in rows and columns to display tabular data.","comet"),icon:_,example:K,transforms:Oe,edit:function(e){const{attributes:t,setAttributes:o,isSelected:a,insertBlocksAfter:c}=e,{contentJustification:s,tableStyles:i,captionStyles:d,captionPosition:u}=t,[p,v]=(0,W.useState)(void 0),[b,x]=(0,W.useState)(void 0),g=X(i),w=X(d),_=(0,m.useSelect)((e=>{const{getOptions:t}=e(Z);return t()}),[]),{createWarningNotice:y}=(0,m.useDispatch)(Q.store),S="contentOnly"===(0,r.useBlockEditingMode)();(0,W.useEffect)((()=>{a||(v(void 0),x(void 0))}),[a]);const C=de(t),P=e=>{if(!p||1!==p.length)return;const{sectionName:t,rowIndex:n,rowSpan:l}=p[0],a=le(C,{sectionName:t,rowIndex:0===e?n:n+e+l-1});o(me(a)),v(void 0),x(void 0)},O=e=>{if(!p||1!==p.length)return;const{vColIndex:t,colSpan:n}=p[0],l=re(C,{vColIndex:0===e?t:t+e+n-1});o(me(l)),v(void 0),x(void 0)},A=T.map((({icon:e,label:t,value:n})=>({icon:e,title:t,isActive:s===n,value:n,onClick:()=>(e=>{o({contentJustification:s===e?void 0:e})})(n)}))),j=[{icon:I,title:(0,l.__)("Insert row before","comet"),isDisabled:1!==(p||[]).length,onClick:()=>P(0)},{icon:E,title:(0,l.__)("Insert row after","comet"),isDisabled:1!==(p||[]).length,onClick:()=>P(1)},{icon:N,title:(0,l.__)("Delete row","comet"),isDisabled:1!==(p||[]).length,onClick:()=>(()=>{if(!p||1!==p.length)return;const{sectionName:e,rowIndex:t}=p[0];if(!("body"!==e||1!==C.body.length||ie(C.head)&&ie(C.foot)))return void y((0,l.__)("The table body must have one or more rows.","comet"),{id:"comet-body-row",type:"snackbar"});const n=ae(C,{sectionName:e,rowIndex:t});o(me(n)),v(void 0),x(void 0)})()},{icon:k,title:(0,l.__)("Insert column before","comet"),isDisabled:1!==(p||[]).length,onClick:()=>O(0)},{icon:M,title:(0,l.__)("Insert column after","comet"),isDisabled:1!==(p||[]).length,onClick:()=>O(1)},{icon:H,title:(0,l.__)("Delete column","comet"),isDisabled:1!==(p||[]).length,onClick:()=>(()=>{if(!p||1!==p.length)return;const{vColIndex:e}=p[0],t=ce(C,{vColIndex:e});o(me(t)),v(void 0),x(void 0)})()},{icon:B,title:(0,l.__)("Split merged cells","comet"),isDisabled:!p||!ve(p),onClick:()=>(()=>{const e=function(e,t){if(!t)return e;const o=t.filter((({rowSpan:e,colSpan:t})=>e>1||t>1));return o.length&&o.forEach((t=>{e=se(e,t)})),e}(C,p);o(me(e)),v(void 0),x(void 0)})()},{icon:V,title:(0,l.__)("Merge cells","comet"),isDisabled:!p||!he(p),onClick:()=>(()=>{const e=function(e,t){if(!t||!t.length)return e;const o=t[0].sectionName,n=pe(t),{minRowIndex:l,maxRowIndex:a,minColIndex:r,maxColIndex:c}=n,s=t.filter((({rowSpan:e,colSpan:t})=>e>1||t>1)).length;if(s)for(let t=0;t<s;t++){const t=e[o].reduce(((e,t)=>e.concat(t.cells)),[]).filter((e=>(e.rowSpan>1||e.colSpan>1)&&l<=e.rowIndex&&a>=e.rowIndex&&r<=e.vColIndex&&c>=e.vColIndex));t.length&&(e=se(e,t[0]))}const i=e[o].reduce(((e,t)=>e.concat(t.cells)),[]).reduce(((e,t)=>(t.rowIndex>=l&&t.rowIndex<=a&&t.vColIndex>=r&&t.vColIndex<=c&&t.content&&e.push(t.content),e)),[]).join("<br>");return{...e,[o]:e[o].map(((e,t)=>t<l||t>a?e:{cells:e.cells.map(((e,o)=>o===r&&t===l?{...e,rowSpan:Math.abs(a-l)+1,colSpan:Math.abs(c-r)+1,content:i}:t>=l&&t<=a&&o>=r&&o<=c?{...e,isHidden:!0}:e))}))}}(C,p);o(me(e)),v(void 0),x(void 0)})()}],F=!["head","body","foot"].filter((e=>!ie(C[e]))).length,G=(0,r.useBlockProps)({}),R=(0,r.useBlockProps)({}),z={attributes:t,setAttributes:o,isSelected:a,options:_,vTable:C,tableStylesObj:g,selectedCells:p,setSelectedCells:v,selectedLine:b,setSelectedLine:x,isContentOnlyMode:S},D={attributes:t,setAttributes:o,vTable:C,setSelectedCells:v,setSelectedLine:x,tableStylesObj:g},L={setAttributes:o,vTable:C,selectedCells:p},q=p&&p.length>1?(0,l.__)("Celected cells","comet"):(0,l.__)("Selected cell","comet"),$={attributes:t,setAttributes:o,insertBlocksAfter:c,setSelectedLine:x,setSelectedCells:v,captionStylesObj:w,isSelected:a},J={attributes:t,setAttributes:o,captionStylesObj:w};return(0,n.createElement)(n.Fragment,null,F&&(0,n.createElement)("div",{...G},(0,n.createElement)(Pe,{...e})),!F&&(0,n.createElement)("figure",{...R},!S&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(r.BlockControls,{group:"block"},(0,n.createElement)(f.ToolbarDropdownMenu,{label:(0,l.__)("Change table justification","comet"),icon:s&&A.find((e=>e.value===s))?.icon||h,controls:A}),(0,n.createElement)(f.ToolbarDropdownMenu,{label:(0,l.__)("Edit table","comet"),icon:Y,controls:j}))),(0,n.createElement)(r.InspectorControls,null,(0,n.createElement)(f.PanelBody,{title:(0,l.__)("Table layout","comet"),initialOpen:!1},(0,n.createElement)(xe,{...D})),(0,n.createElement)(f.PanelBody,{title:(0,l.__)("Table caption","comet"),initialOpen:!1},(0,n.createElement)(ge,{...J})),p&&!!p.length&&(0,n.createElement)(f.PanelBody,{title:q,initialOpen:!1},(0,n.createElement)(Se,{...L}))),"top"===u&&(0,n.createElement)(Be,{...$}),(0,n.createElement)(He,{...z}),"bottom"===u&&(0,n.createElement)(Be,{...$})))},save:function({attributes:e}){const{tableStyles:t,isStackedOnMobile:o,sticky:l,head:a,body:c,foot:s,caption:i,captionPosition:d,captionStyles:m}=e;if(!a.length&&!c.length&&!s.length)return null;const u=X(t),p=X(m),h=(0,r.__experimentalGetColorClassesAndStyles)(e),v=r.useBlockProps.save(),b=fe(h.className,{"is-stacked-on-mobile":o,[`is-sticky-${l}`]:l}),x=!r.RichText.isEmpty(i||""),g=({type:e,rows:t})=>{if(!t.length)return null;const o=`t${e}`;return(0,n.createElement)(o,null,t.map((({cells:e},t)=>(0,n.createElement)("tr",{key:t},e.map((({content:e,tag:t,className:o,id:l,headers:a,scope:c,rowSpan:s,colSpan:i,styles:d},m)=>(0,n.createElement)(r.RichText.Content,{key:m,tagName:t,className:o||void 0,id:"th"===t&&l||void 0,headers:a||void 0,scope:"th"===t&&c||void 0,value:e,rowSpan:oe(s)>1?oe(s):void 0,colSpan:oe(i)>1?oe(i):void 0,style:X(d)})))))))},w=()=>(0,n.createElement)(r.RichText.Content,{tagName:"figcaption",value:i||"",style:p});return(0,n.createElement)("figure",{...v},x&&"top"===d&&(0,n.createElement)(w,null),(0,n.createElement)("table",{className:null!=b?b:void 0,style:{...u,...h.style}},(0,n.createElement)(g,{type:"head",rows:a}),(0,n.createElement)(g,{type:"body",rows:c}),(0,n.createElement)(g,{type:"foot",rows:s})),x&&"bottom"===d&&(0,n.createElement)(w,null))},deprecated:Te,styles:[{name:"stripes",label:(0,l.__)("Stripes","comet")}]};(0,a.registerBlockType)("comet/table",Ae);const je=(0,s.createHigherOrderComponent)((e=>t=>{const{name:o}=t;return"comet/table"!==o?(0,n.createElement)(e,{...t}):(0,n.createElement)(n.Fragment,null,(0,n.createElement)(r.InspectorControls,null),(0,n.createElement)(e,{...t}))}),"withInspectorControl");(0,c.addFilter)("editor.BlockEdit","comet/tableWithInspectorControls",je)},609:e=>{e.exports=window.React},848:(e,t,o)=>{e.exports=o(20)}},o={};function n(e){var l=o[e];if(void 0!==l)return l.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,o,l,a)=>{if(!o){var r=1/0;for(d=0;d<e.length;d++){for(var[o,l,a]=e[d],c=!0,s=0;s<o.length;s++)(!1&a||r>=a)&&Object.keys(n.O).every((e=>n.O[e](o[s])))?o.splice(s--,1):(c=!1,a<r&&(r=a));if(c){e.splice(d--,1);var i=l();void 0!==i&&(t=i)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,l,a]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var l,a,[r,c,s]=o,i=0;if(r.some((t=>0!==e[t]))){for(l in c)n.o(c,l)&&(n.m[l]=c[l]);if(s)var d=s(n)}for(t&&t(o);i<r.length;i++)a=r[i],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},o=globalThis.webpackChunkcomet_table_block=globalThis.webpackChunkcomet_table_block||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=n.O(void 0,[350],(()=>n(210)));l=n.O(l)})();
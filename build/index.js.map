{"version":3,"file":"index.js","mappings":"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AACA;AACA;AACA,iGAAiG,eAAe;AAChH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;AACA,KAAK,GAAG;;AAER,kDAAkD;AAClD;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,4BAA4B;AAC5B;AACA,qCAAqC;;AAErC,gCAAgC;AAChC;AACA;;AAEA,gCAAgC;;AAEhC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;;AAGF;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;;AAEvC;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,sBAAsB;AACtB;AACA,SAAS;AACT,uBAAuB;AACvB;AACA,SAAS;AACT,uBAAuB;AACvB;AACA,SAAS;AACT,wBAAwB;AACxB;AACA,SAAS;AACT,wBAAwB;AACxB;AACA,SAAS;AACT,iCAAiC;AACjC;AACA,SAAS;AACT,2BAA2B;AAC3B;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;;;AAGN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,2DAA2D;;AAE3D;AACA;;AAEA;AACA,yDAAyD;AACzD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;;AAGT;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,kBAAkB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;;AAEA;AACA;AACA,gFAAgF;AAChF;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB;;;AAGlB;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAI;;;AAGJ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2HAA2H;AAC3H;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA;AACA;;AAEA,oEAAoE;;AAEpE;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,WAAW,GAAG;AACd,WAAW,eAAe;AAC1B,WAAW,GAAG;AACd,WAAW,GAAG;AACd;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK,GAAG;;AAER;AACA;AACA;AACA;AACA;AACA,KAAK,GAAG;AACR;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;;AAEA;AACA;AACA,kBAAkB;;AAElB;AACA;AACA,oBAAoB;AACpB,2DAA2D,UAAU;AACrE,yBAAyB,UAAU;AACnC;AACA,aAAa,UAAU;AACvB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,SAAS;AACrB;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,GAAG;AACd;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,6DAA6D;AAC7D;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,GAAG;AACd;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,iBAAiB;AACvC;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN,4CAA4C;;AAE5C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;;;AAGA;AACA;AACA;;AAEA,oBAAoB,iBAAiB;AACrC;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8CAA8C;AAC9C;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;;AAEA,0DAA0D;AAC1D;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,4BAA4B,qBAAqB;AACjD;AACA;;AAEA;AACA;AA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A;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEjDA;UACA;UACA;UACA;UACA","sources":["webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/align-center.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/align-left.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/align-right.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/block-table.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/caption.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/chevron-down.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/chevron-right.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/justify-center.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/justify-left.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/justify-right.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/plus.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/trash.js","webpack://comet-table-block/./node_modules/clsx/dist/clsx.mjs","webpack://comet-table-block/./node_modules/react/cjs/react-jsx-runtime.development.js","webpack://comet-table-block/./node_modules/react/jsx-runtime.js","webpack://comet-table-block/./src/constants.ts","webpack://comet-table-block/./src/controls/color-control.tsx","webpack://comet-table-block/./src/controls/color-indicator-button.tsx","webpack://comet-table-block/./src/controls/index.ts","webpack://comet-table-block/./src/deprecated.tsx","webpack://comet-table-block/./src/edit.tsx","webpack://comet-table-block/./src/editor.scss?0339","webpack://comet-table-block/./src/elements/index.ts","webpack://comet-table-block/./src/elements/table-caption.tsx","webpack://comet-table-block/./src/elements/table-placeholder.tsx","webpack://comet-table-block/./src/elements/table.tsx","webpack://comet-table-block/./src/example.ts","webpack://comet-table-block/./src/icons.tsx","webpack://comet-table-block/./src/index.js","webpack://comet-table-block/./src/save.tsx","webpack://comet-table-block/./src/settings/index.ts","webpack://comet-table-block/./src/settings/table-caption-settings.tsx","webpack://comet-table-block/./src/settings/table-cell-settings.tsx","webpack://comet-table-block/./src/settings/table-settings.tsx","webpack://comet-table-block/./src/store.ts","webpack://comet-table-block/./src/style.scss?75bd","webpack://comet-table-block/./src/transforms.tsx","webpack://comet-table-block/./src/utils/helper.ts","webpack://comet-table-block/./src/utils/style-converter.ts","webpack://comet-table-block/./src/utils/table-state.ts","webpack://comet-table-block/external window [\"wp\",\"apiFetch\"]","webpack://comet-table-block/external window [\"wp\",\"blockEditor\"]","webpack://comet-table-block/external window [\"wp\",\"blocks\"]","webpack://comet-table-block/external window [\"wp\",\"components\"]","webpack://comet-table-block/external window [\"wp\",\"compose\"]","webpack://comet-table-block/external window [\"wp\",\"data\"]","webpack://comet-table-block/external window [\"wp\",\"element\"]","webpack://comet-table-block/external window [\"wp\",\"hooks\"]","webpack://comet-table-block/external window [\"wp\",\"i18n\"]","webpack://comet-table-block/external window [\"wp\",\"keycodes\"]","webpack://comet-table-block/external window [\"wp\",\"notices\"]","webpack://comet-table-block/external window [\"wp\",\"primitives\"]","webpack://comet-table-block/external window \"React\"","webpack://comet-table-block/webpack/bootstrap","webpack://comet-table-block/webpack/runtime/chunk loaded","webpack://comet-table-block/webpack/runtime/compat get default export","webpack://comet-table-block/webpack/runtime/define property getters","webpack://comet-table-block/webpack/runtime/hasOwnProperty shorthand","webpack://comet-table-block/webpack/runtime/make namespace object","webpack://comet-table-block/webpack/runtime/jsonp chunk loading","webpack://comet-table-block/webpack/before-startup","webpack://comet-table-block/webpack/startup","webpack://comet-table-block/webpack/after-startup"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst alignCenter = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z\"\n  })\n});\nexport default alignCenter;\n//# sourceMappingURL=align-center.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst alignLeft = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z\"\n  })\n});\nexport default alignLeft;\n//# sourceMappingURL=align-left.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst alignRight = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z\"\n  })\n});\nexport default alignRight;\n//# sourceMappingURL=align-right.js.map","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst blockTable = /*#__PURE__*/_jsx(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z\"\n  })\n});\nexport default blockTable;\n//# sourceMappingURL=block-table.js.map","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst caption = /*#__PURE__*/_jsx(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsx(Path, {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z\"\n  })\n});\nexport default caption;\n//# sourceMappingURL=caption.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst chevronDown = /*#__PURE__*/_jsx(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z\"\n  })\n});\nexport default chevronDown;\n//# sourceMappingURL=chevron-down.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst chevronRight = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z\"\n  })\n});\nexport default chevronRight;\n//# sourceMappingURL=chevron-right.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst justifyCenter = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M12.5 15v5H11v-5H4V9h7V4h1.5v5h7v6h-7Z\"\n  })\n});\nexport default justifyCenter;\n//# sourceMappingURL=justify-center.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst justifyLeft = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M9 9v6h11V9H9zM4 20h1.5V4H4v16z\"\n  })\n});\nexport default justifyLeft;\n//# sourceMappingURL=justify-left.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst justifyRight = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M4 15h11V9H4v6zM18.5 4v16H20V4h-1.5z\"\n  })\n});\nexport default justifyRight;\n//# sourceMappingURL=justify-right.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst plus = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z\"\n  })\n});\nexport default plus;\n//# sourceMappingURL=plus.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst trash = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z\"\n  })\n});\nexport default trash;\n//# sourceMappingURL=trash.js.map","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nvar React = require('react');\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        var provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n\n      // eslint-disable-next-line no-fallthrough\n    }\n  }\n\n  return null;\n}\n\nvar assign = Object.assign;\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if ( !fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  var control;\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      var Fake = function () {\n        throw Error();\n      }; // $FlowFixMe\n\n\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        }\n      });\n\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sample.stack.split('\\n');\n      var controlLines = control.stack.split('\\n');\n      var s = sampleLines.length - 1;\n      var c = controlLines.length - 1;\n\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar loggedTypeFailures = {};\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n  {\n    // $FlowFixMe This is okay but Flow doesn't know it.\n    var has = Function.call.bind(hasOwnProperty);\n\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            // eslint-disable-next-line react-internal/prod-error-codes\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n        } catch (ex) {\n          error$1 = ex;\n        }\n\n        if (error$1 && !(error$1 instanceof Error)) {\n          setCurrentlyValidatingElement(element);\n\n          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n          setCurrentlyValidatingElement(null);\n        }\n\n        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error$1.message] = true;\n          setCurrentlyValidatingElement(element);\n\n          error('Failed %s type: %s', location, error$1.message);\n\n          setCurrentlyValidatingElement(null);\n        }\n      }\n    }\n  }\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n/*\n * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object';\n    return type;\n  }\n} // $FlowFixMe only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingRef = function () {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingRef.isReactWarning = true;\n    Object.defineProperty(props, 'ref', {\n      get: warnAboutAccessingRef,\n      configurable: true\n    });\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV(type, config, maybeKey, source, self) {\n  {\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      ref = config.ref;\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n  }\n}\n\nvar ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement$1(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n    }\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner$1.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner$1.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  {\n    if (source !== undefined) {\n      var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n      var lineNumber = source.lineNumber;\n      return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n    }\n\n    return '';\n  }\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner$1.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement$1(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement$1(null);\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object') {\n      return;\n    }\n\n    if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else if (node) {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      // Intentionally inside to avoid triggering lazy initializers:\n      var name = getComponentNameFromType(type);\n      checkPropTypes(propTypes, element.props, 'prop', name, element);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n      var _name = getComponentNameFromType(type);\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement$1(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement$1(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement$1(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement$1(null);\n    }\n  }\n}\n\nvar didWarnAboutKeySpread = {};\nfunction jsxWithValidation(type, props, key, isStaticChildren, source, self) {\n  {\n    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n\n    if (!validType) {\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var sourceInfo = getSourceInfoErrorAddendum(source);\n\n      if (sourceInfo) {\n        info += sourceInfo;\n      } else {\n        info += getDeclarationErrorAddendum();\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n\n    var element = jsxDEV(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n\n    if (element == null) {\n      return element;\n    } // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n\n\n    if (validType) {\n      var children = props.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    }\n\n    {\n      if (hasOwnProperty.call(props, 'key')) {\n        var componentName = getComponentNameFromType(type);\n        var keys = Object.keys(props).filter(function (k) {\n          return k !== 'key';\n        });\n        var beforeExample = keys.length > 0 ? '{key: someKey, ' + keys.join(': ..., ') + ': ...}' : '{key: someKey}';\n\n        if (!didWarnAboutKeySpread[componentName + beforeExample]) {\n          var afterExample = keys.length > 0 ? '{' + keys.join(': ..., ') + ': ...}' : '{}';\n\n          error('A props object containing a \"key\" prop is being spread into JSX:\\n' + '  let props = %s;\\n' + '  <%s {...props} />\\n' + 'React keys must be passed directly to JSX without using spread:\\n' + '  let props = %s;\\n' + '  <%s key={someKey} {...props} />', beforeExample, componentName, afterExample, componentName);\n\n          didWarnAboutKeySpread[componentName + beforeExample] = true;\n        }\n      }\n    }\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    } else {\n      validatePropTypes(element);\n    }\n\n    return element;\n  }\n} // These two functions exist to still get child warnings in dev\n// even with the prod transform. This means that jsxDEV is purely\n// opt-in behavior for better messages but that we won't stop\n// giving you warnings if you use production apis.\n\nfunction jsxWithValidationStatic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, true);\n  }\n}\nfunction jsxWithValidationDynamic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, false);\n  }\n}\n\nvar jsx =  jsxWithValidationDynamic ; // we may want to special case jsxs internally to take advantage of static children.\n// for now we can ship identical prod functions\n\nvar jsxs =  jsxWithValidationStatic ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsx;\nexports.jsxs = jsxs;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __, _x } from '@wordpress/i18n';\r\nimport {\r\n\tjustifyLeft,\r\n\tjustifyCenter,\r\n\tjustifyRight,\r\n\talignLeft,\r\n\talignCenter,\r\n\talignRight,\r\n} from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\talignTop,\r\n\talignMiddle,\r\n\talignBottom\r\n} from './icons';\r\n\r\n// Custom store name.\r\nexport const STORE_NAME = 'comet' as const;\r\n\r\n// Rest API routes.\r\nexport const REST_API_ROUTE = '/comet/v1/options' as const;\r\n\r\n// Table placeholder default settings.\r\nexport const DEFAULT_PREVIEW_ROWS = 3 as const;\r\nexport const DEFAULT_PREVIEW_COLUMNS = 3 as const;\r\nexport const MIN_PREVIEW_TABLE_HEIGHT = 150 as const;\r\nexport const MAX_PREVIEW_TABLE_COL = 50 as const;\r\nexport const MAX_PREVIEW_TABLE_ROW = 50 as const;\r\nexport const THRESHOLD_PREVIEW_TABLE_COL = 10 as const;\r\nexport const THRESHOLD_PREVIEW_TABLE_ROW = 10 as const;\r\n\r\n// Upper and lower limits.\r\nexport const MAX_BORDER_RADIUS = {\r\n\tpx: 200,\r\n\tem: 20,\r\n\trem: 20,\r\n} as const;\r\n\r\nexport const MAX_BORDER_WIDTH = {\r\n\tpx: 50,\r\n\tem: 5,\r\n\trem: 5,\r\n} as const;\r\n\r\nexport const MAX_BORDER_SPACING = {\r\n\tpx: 50,\r\n\tem: 5,\r\n\trem: 5,\r\n} as const;\r\n\r\n// Responsive breakpoint settings.\r\nexport const DEFAULT_RESPONSIVE_BREAKPOINT = 768 as const;\r\nexport const MIN_RESPONSIVE_BREAKPOINT = 200 as const;\r\nexport const MAX_RESPONSIVE_BREAKPOINT = 1200 as const;\r\n\r\n// Available units on UnitControl component.\r\nexport const CELL_WIDTH_UNITS = ['%', 'px', 'em', 'rem'];\r\n\r\n// Cell label & text variations.\r\nexport const CELL_ARIA_LABEL = {\r\n\thead: __('Header cell text', 'comet'),\r\n\tbody: __('Body cell text', 'comet'),\r\n\tfoot: __('Footer cell text', 'comet'),\r\n} as const;\r\n\r\n// Controls variations.\r\nexport const CONTENT_JUSTIFY_CONTROLS = [\r\n\t{\r\n\t\ticon: justifyLeft,\r\n\t\tlabel: __('Justify table left', 'comet'),\r\n\t\tvalue: 'left',\r\n\t},\r\n\t{\r\n\t\ticon: justifyCenter,\r\n\t\tlabel: __('Justify table center', 'comet'),\r\n\t\tvalue: 'center',\r\n\t},\r\n\t{\r\n\t\ticon: justifyRight,\r\n\t\tlabel: __('Justify table right', 'comet'),\r\n\t\tvalue: 'right',\r\n\t},\r\n];\r\n\r\nexport const TEXT_ALIGNMENT_CONTROLS = [\r\n\t{\r\n\t\ticon: alignLeft,\r\n\t\tlabel: __('Align left', 'comet'),\r\n\t\tvalue: 'left',\r\n\t},\r\n\t{\r\n\t\ticon: alignCenter,\r\n\t\tlabel: __('Align center', 'comet'),\r\n\t\tvalue: 'center',\r\n\t},\r\n\t{\r\n\t\ticon: alignRight,\r\n\t\tlabel: __('Align right', 'comet'),\r\n\t\tvalue: 'right',\r\n\t},\r\n] as const;\r\n\r\nexport const VERTICAL_ALIGNMENT_CONTROLS = [\r\n\t{\r\n\t\ticon: alignTop,\r\n\t\tlabel: __('Align top', 'comet'),\r\n\t\tvalue: 'top',\r\n\t},\r\n\t{\r\n\t\ticon: alignMiddle,\r\n\t\tlabel: __('Align middle', 'comet'),\r\n\t\tvalue: 'middle',\r\n\t},\r\n\t{\r\n\t\ticon: alignBottom,\r\n\t\tlabel: __('Align bottom', 'comet'),\r\n\t\tvalue: 'bottom',\r\n\t},\r\n] as const;\r\n\r\nexport const STICKY_CONTROLS = [\r\n\t{\r\n\t\tlabel: _x('none', 'Fixed headers', 'comet'),\r\n\t\tvalue: 'none',\r\n\t},\r\n\t{\r\n\t\tlabel: __('Fixed header row', 'comet'),\r\n\t\tvalue: 'header',\r\n\t},\r\n\t{\r\n\t\tlabel: __('Fixed first column', 'comet'),\r\n\t\tvalue: 'first-column',\r\n\t},\r\n] as const;\r\n\r\nexport const CELL_TAG_CONTROLS = [\r\n\t{\r\n\t\tlabel: __('Header (<th>)', 'comet'),\r\n\t\tvalue: 'th',\r\n\t},\r\n\t{\r\n\t\tlabel: __('Data (<td>)', 'comet'),\r\n\t\tvalue: 'td',\r\n\t},\r\n] as const;\r\n\r\nexport const CELL_SCOPE_CONTROLS = [\r\n\t{\r\n\t\tlabel: __('row', 'comet'),\r\n\t\tvalue: 'row',\r\n\t},\r\n\t{\r\n\t\tlabel: __('col', 'comet'),\r\n\t\tvalue: 'col',\r\n\t},\r\n\t{\r\n\t\tlabel: __('rowgroup', 'comet'),\r\n\t\tvalue: 'rowgroup',\r\n\t},\r\n\t{\r\n\t\tlabel: __('colgroup', 'comet'),\r\n\t\tvalue: 'colgroup',\r\n\t},\r\n] as const;\r\n\r\nexport const CAPTION_POSITION_CONTROLS = [\r\n\t{\r\n\t\tlabel: __('Top', 'comet'),\r\n\t\tvalue: 'top',\r\n\t},\r\n\t{\r\n\t\tlabel: __('Bottom', 'comet'),\r\n\t\tvalue: 'bottom',\r\n\t},\r\n] as const;\r\n\r\nexport const DIRECTION_CONTROLS = [\r\n\t{\r\n\t\tlabel: __('Vertical', 'comet'),\r\n\t\tvalue: 'vertical',\r\n\t},\r\n\t{\r\n\t\tlabel: __('Horizontal', 'comet'),\r\n\t\tvalue: 'horizontal',\r\n\t},\r\n] as const;\r\n\r\nexport const SIDE_CONTROLS = [\r\n\t{\r\n\t\tlabel: __('Top', 'comet'),\r\n\t\tvalue: 'top',\r\n\t},\r\n\t{\r\n\t\tlabel: __('Right', 'comet'),\r\n\t\tvalue: 'right',\r\n\t},\r\n\t{\r\n\t\tlabel: __('Bottom', 'comet'),\r\n\t\tvalue: 'bottom',\r\n\t},\r\n\t{\r\n\t\tlabel: __('Left', 'comet'),\r\n\t\tvalue: 'left',\r\n\t},\r\n] as const;\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { Property } from 'csstype';\r\nimport type { ReactElement } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useState } from '@wordpress/element';\r\nimport {\r\n\tBaseControl,\r\n\tButton,\r\n\tFlex,\r\n\tFlexBlock,\r\n\tFlexItem,\r\n\tPopover,\r\n\tColorPalette,\r\n\t__experimentalVStack as VStack,\r\n\t__experimentalSpacer as Spacer,\r\n\t__experimentalText as Text,\r\n} from '@wordpress/components';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\nimport { useInstanceId } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport ColorIndicatorButton from './color-indicator-button';\r\n\r\ntype Props = {\r\n\tlabel: string | ReactElement;\r\n\thelp?: string;\r\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\tonChange: ( event: any ) => void;\r\n\tcolors?: {\r\n\t\tname: string;\r\n\t\tslug: string;\r\n\t\tcolor: Property.Color;\r\n\t}[];\r\n\tvalue: Property.Color | undefined;\r\n};\r\n\r\nexport default function ColorControl( {\r\n\tlabel = __( 'Color', 'flexible-table-block' ),\r\n\thelp,\r\n\tonChange,\r\n\tcolors: colorsProp = [],\r\n\tvalue,\r\n}: Props ) {\r\n\tconst instanceId = useInstanceId( ColorControl, 'ftb-color-control' );\r\n\tconst headingId = `${ instanceId }-heading`;\r\n\r\n\tconst colors = useSelect( ( select ) => {\r\n\t\tconst settings = select(\r\n\t\t\tblockEditorStore\r\n\t\t\t// @ts-ignore\r\n\t\t).getSettings();\r\n\r\n\t\treturn settings?.colors ?? [];\r\n\t}, [] );\r\n\r\n\tconst [ isPickerOpen, setIsPickerOpen ] = useState< boolean >( false );\r\n\r\n\tconst handleOnReset = () => onChange( undefined );\r\n\r\n\tconst handleOnChange = ( inputValue: Property.Color | undefined ) => onChange( inputValue );\r\n\r\n\tconst handleOnPickerOpen = () => setIsPickerOpen( true );\r\n\r\n\tconst handleOnPickerClose = () => setIsPickerOpen( false );\r\n\r\n\treturn (\r\n\t\t<BaseControl className=\"ftb-color-control\" help={ help } __nextHasNoMarginBottom>\r\n\t\t\t<VStack aria-labelledby={ headingId } role=\"group\">\r\n\t\t\t\t<Flex>\r\n\t\t\t\t\t<Text id={ headingId } upperCase size=\"11\" weight=\"500\" as={ FlexBlock }>\r\n\t\t\t\t\t\t{ label }\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t\t<FlexItem>\r\n\t\t\t\t\t\t<Button variant=\"secondary\" onClick={ handleOnReset } size=\"small\">\r\n\t\t\t\t\t\t\t{ __( 'Reset', 'flexible-table-block' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</FlexItem>\r\n\t\t\t\t</Flex>\r\n\t\t\t\t<ColorIndicatorButton\r\n\t\t\t\t\tlabel={ __( 'Color', 'flexible-table-block' ) }\r\n\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\tonClick={ handleOnPickerOpen }\r\n\t\t\t\t\tisNone={ ! value }\r\n\t\t\t\t\tisTransparent={ value === 'transparent' }\r\n\t\t\t\t/>\r\n\t\t\t</VStack>\r\n\t\t\t{ isPickerOpen && (\r\n\t\t\t\t<Popover placement=\"left-start\" shift offset={ 36 } onClose={ handleOnPickerClose }>\r\n\t\t\t\t\t<Spacer padding={ 4 } marginBottom={ 0 }>\r\n\t\t\t\t\t\t<ColorPalette\r\n\t\t\t\t\t\t\tcolors={ [ ...colors, ...colorsProp ] }\r\n\t\t\t\t\t\t\tvalue={ value || '' }\r\n\t\t\t\t\t\t\tonChange={ handleOnChange }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Spacer>\r\n\t\t\t\t</Popover>\r\n\t\t\t) }\r\n\t\t</BaseControl>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\nimport type { Property } from 'csstype';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { Button, ColorIndicator } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\ntype Props = {\r\n\tlabel: string;\r\n\tvalue?: Property.Color;\r\n\tisNone: boolean;\r\n\tisTransparent: boolean;\r\n\tisMixed?: boolean;\r\n\tonClick: () => void;\r\n};\r\n\r\nexport default function ColorIndicatorButton( {\r\n\tlabel,\r\n\tvalue,\r\n\tisNone,\r\n\tisTransparent,\r\n\tisMixed = false,\r\n\tonClick,\r\n}: Props ) {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tlabel={ label }\r\n\t\t\tclassName={ clsx( 'ftb-color-indicator-button', {\r\n\t\t\t\t'is-none': isNone,\r\n\t\t\t\t'is-mixed': isMixed,\r\n\t\t\t\t'is-transparent': isTransparent,\r\n\t\t\t} ) }\r\n\t\t\tonClick={ onClick }\r\n\t\t>\r\n\t\t\t{ isMixed ? (\r\n\t\t\t\t__( 'Mixed', 'flexible-table-block' )\r\n\t\t\t) : (\r\n\t\t\t\t<ColorIndicator colorValue={ value || '' } />\r\n\t\t\t) }\r\n\t\t</Button>\r\n\t);\r\n}\r\n","export { default as ColorControl } from './color-control';\r\n","/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\nimport type { Properties } from 'csstype';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\tuseBlockProps,\r\n\t// @ts-ignore: has no exported member\r\n\t__experimentalGetColorClassesAndStyles as getColorClassesAndStyles,\r\n} from '@wordpress/block-editor';\r\nimport type { BlockSaveProps } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { convertToObject } from './utils/style-converter';\r\nimport { toInteger } from './utils/helper';\r\nimport type { BlockAttributes, SectionName, Row } from './BlockAttributes';\r\n\r\n// To fix a problem with link colors not being applied\r\nconst v1 = {\r\n\tattributes: {\r\n\t\tcontentJustification: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\thasFixedLayout: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\tisScrollOnPc: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\tisScrollOnMobile: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\tisStackedOnMobile: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\tsticky: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\ttableStyles: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'table',\r\n\t\t\tattribute: 'style',\r\n\t\t},\r\n\t\tcaptionPosition: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'bottom',\r\n\t\t},\r\n\t\tcaption: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'figcaption',\r\n\t\t},\r\n\t\tcaptionStyles: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figcaption',\r\n\t\t\tattribute: 'style',\r\n\t\t},\r\n\t\thead: {\r\n\t\t\ttype: 'array',\r\n\t\t\tdefault: [],\r\n\t\t\tsource: 'query',\r\n\t\t\tselector: 'thead tr',\r\n\t\t\tquery: {\r\n\t\t\t\tcells: {\r\n\t\t\t\t\ttype: 'array',\r\n\t\t\t\t\tdefault: [],\r\n\t\t\t\t\tsource: 'query',\r\n\t\t\t\t\tselector: 'td,th',\r\n\t\t\t\t\tquery: {\r\n\t\t\t\t\t\tcontent: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'html',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tstyles: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'style',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttag: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tdefault: 'td',\r\n\t\t\t\t\t\t\tsource: 'tag',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tclassName: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'class',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tid: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'id',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'headers',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tscope: {\r\n\t\t\t\t\t\t\tenum: [ 'row', 'col', 'rowgroup', 'colgroup' ],\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'scope',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\trowSpan: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'rowspan',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcolSpan: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'colspan',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tbody: {\r\n\t\t\ttype: 'array',\r\n\t\t\tdefault: [],\r\n\t\t\tsource: 'query',\r\n\t\t\tselector: 'tbody tr',\r\n\t\t\tquery: {\r\n\t\t\t\tcells: {\r\n\t\t\t\t\ttype: 'array',\r\n\t\t\t\t\tdefault: [],\r\n\t\t\t\t\tsource: 'query',\r\n\t\t\t\t\tselector: 'td,th',\r\n\t\t\t\t\tquery: {\r\n\t\t\t\t\t\tcontent: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'html',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tstyles: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'style',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttag: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tdefault: 'td',\r\n\t\t\t\t\t\t\tsource: 'tag',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tclassName: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'class',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tid: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'id',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'headers',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tscope: {\r\n\t\t\t\t\t\t\tenum: [ 'row', 'col', 'rowgroup', 'colgroup' ],\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'scope',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\trowSpan: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'rowspan',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcolSpan: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'colspan',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tfoot: {\r\n\t\t\ttype: 'array',\r\n\t\t\tdefault: [],\r\n\t\t\tsource: 'query',\r\n\t\t\tselector: 'tfoot tr',\r\n\t\t\tquery: {\r\n\t\t\t\tcells: {\r\n\t\t\t\t\ttype: 'array',\r\n\t\t\t\t\tdefault: [],\r\n\t\t\t\t\tsource: 'query',\r\n\t\t\t\t\tselector: 'td,th',\r\n\t\t\t\t\tquery: {\r\n\t\t\t\t\t\tcontent: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'html',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tstyles: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'style',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttag: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tdefault: 'td',\r\n\t\t\t\t\t\t\tsource: 'tag',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tclassName: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'class',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tid: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'id',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'headers',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tscope: {\r\n\t\t\t\t\t\t\tenum: [ 'row', 'col', 'rowgroup', 'colgroup' ],\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'scope',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\trowSpan: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'rowspan',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcolSpan: {\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\t\t\tattribute: 'colspan',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\tanchor: true,\r\n\t\talign: [ 'left', 'right', 'wide', 'full' ],\r\n\t\tcolor: {\r\n\t\t\t__experimentalSkipSerialization: true,\r\n\t\t\tgradients: true,\r\n\t\t\tlink: true,\r\n\t\t},\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\tlineHeight: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t\t__experimentalTextTransform: true,\r\n\t\t\t__experimentalFontStyle: true,\r\n\t\t\t__experimentalFontWeight: true,\r\n\t\t\t__experimentalLetterSpacing: true,\r\n\t\t},\r\n\t\tspacing: {\r\n\t\t\tmargin: true,\r\n\t\t},\r\n\t\t__experimentalSelector: '.wp-block-flexible-table-block-table > table',\r\n\t},\r\n\tsave( { attributes }: BlockSaveProps< BlockAttributes > ) {\r\n\t\tconst {\r\n\t\t\tcontentJustification,\r\n\t\t\ttableStyles,\r\n\t\t\thasFixedLayout,\r\n\t\t\tisStackedOnMobile,\r\n\t\t\tisScrollOnPc,\r\n\t\t\tisScrollOnMobile,\r\n\t\t\tsticky,\r\n\t\t\thead,\r\n\t\t\tbody,\r\n\t\t\tfoot,\r\n\t\t\tcaption,\r\n\t\t\tcaptionPosition,\r\n\t\t\tcaptionStyles,\r\n\t\t} = attributes;\r\n\r\n\t\tconst isEmpty: boolean = ! head.length && ! body.length && ! foot.length;\r\n\r\n\t\tif ( isEmpty ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst tableStylesObj: Properties = convertToObject( tableStyles );\r\n\t\tconst captionStylesObj: Properties = convertToObject( captionStyles );\r\n\r\n\t\tconst colorProps = getColorClassesAndStyles( attributes );\r\n\r\n\t\tconst blockProps = useBlockProps.save( {\r\n\t\t\tclassName: clsx( {\r\n\t\t\t\t[ `is-content-justification-${ contentJustification }` ]: contentJustification,\r\n\t\t\t\t'is-scroll-on-pc': isScrollOnPc,\r\n\t\t\t\t'is-scroll-on-mobile': isScrollOnMobile,\r\n\t\t\t} ),\r\n\t\t} );\r\n\r\n\t\tconst tableClasses: string = clsx( colorProps.className, {\r\n\t\t\t'has-fixed-layout': hasFixedLayout,\r\n\t\t\t'is-stacked-on-mobile': isStackedOnMobile,\r\n\t\t\t[ `is-sticky-${ sticky }` ]: sticky,\r\n\t\t} );\r\n\r\n\t\tconst hasCaption: boolean = ! RichText.isEmpty( caption || '' );\r\n\r\n\t\tconst Section = ( { type, rows }: { type: SectionName; rows: Row[] } ) => {\r\n\t\t\tif ( ! rows.length ) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\tconst Tag = `t${ type }` as const;\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Tag>\r\n\t\t\t\t\t{ rows.map( ( { cells }, rowIndex ) => (\r\n\t\t\t\t\t\t<tr key={ rowIndex }>\r\n\t\t\t\t\t\t\t{ cells.map(\r\n\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\t{ content, tag, className, id, headers, scope, rowSpan, colSpan, styles },\r\n\t\t\t\t\t\t\t\t\tcellIndex\r\n\t\t\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\t\t\t\t\tkey={ cellIndex }\r\n\t\t\t\t\t\t\t\t\t\ttagName={ tag }\r\n\t\t\t\t\t\t\t\t\t\tclassName={ className || undefined }\r\n\t\t\t\t\t\t\t\t\t\tid={ ( tag === 'th' && id ) || undefined }\r\n\t\t\t\t\t\t\t\t\t\theaders={ headers || undefined }\r\n\t\t\t\t\t\t\t\t\t\tscope={ ( tag === 'th' && scope ) || undefined }\r\n\t\t\t\t\t\t\t\t\t\tvalue={ content }\r\n\t\t\t\t\t\t\t\t\t\trowSpan={ toInteger( rowSpan ) > 1 ? toInteger( rowSpan ) : undefined }\r\n\t\t\t\t\t\t\t\t\t\tcolSpan={ toInteger( colSpan ) > 1 ? toInteger( colSpan ) : undefined }\r\n\t\t\t\t\t\t\t\t\t\tstyle={ convertToObject( styles ) }\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t) ) }\r\n\t\t\t\t</Tag>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tconst Caption = () => (\r\n\t\t\t<RichText.Content tagName=\"figcaption\" value={ caption || '' } style={ captionStylesObj } />\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<figure { ...blockProps }>\r\n\t\t\t\t{ hasCaption && 'top' === captionPosition && <Caption /> }\r\n\t\t\t\t<table\r\n\t\t\t\t\tclassName={ tableClasses ?? undefined }\r\n\t\t\t\t\tstyle={ { ...tableStylesObj, ...colorProps.style } }\r\n\t\t\t\t>\r\n\t\t\t\t\t<Section type=\"head\" rows={ head } />\r\n\t\t\t\t\t<Section type=\"body\" rows={ body } />\r\n\t\t\t\t\t<Section type=\"foot\" rows={ foot } />\r\n\t\t\t\t</table>\r\n\t\t\t\t{ hasCaption && 'bottom' === captionPosition && <Caption /> }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n};\r\n\r\nexport default [ v1 ];\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { Properties } from 'csstype';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useEffect, useState } from '@wordpress/element';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport {\r\n\tInspectorControls,\r\n\tBlockControls,\r\n\tuseBlockProps,\r\n\t// @ts-ignore: has no exported member\r\n\tuseBlockEditingMode,\r\n} from '@wordpress/block-editor';\r\nimport { ToolbarDropdownMenu, PanelBody } from '@wordpress/components';\r\nimport { blockTable, justifyLeft } from '@wordpress/icons';\r\nimport { store as noticesStore } from '@wordpress/notices';\r\nimport type { BlockEditProps } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport './editor.scss';\r\nimport { CONTENT_JUSTIFY_CONTROLS } from './constants';\r\nimport { STORE_NAME, type StoreOptions } from './store';\r\nimport { TableSettings, TableCaptionSettings, TableCellSettings } from './settings';\r\nimport { Table, TablePlaceholder, TableCaption } from './elements';\r\nimport {\r\n\tinsertRow,\r\n\tdeleteRow,\r\n\tinsertColumn,\r\n\tdeleteColumn,\r\n\tmergeCells,\r\n\tsplitMergedCells,\r\n\thasMergedCells,\r\n\tisRectangleSelected,\r\n\ttoTableAttributes,\r\n\ttoVirtualTable,\r\n\tisEmptySection,\r\n\ttype VTable,\r\n\ttype VSelectedLine,\r\n\ttype VSelectedCells,\r\n} from './utils/table-state';\r\nimport { convertToObject } from './utils/style-converter';\r\nimport {\r\n\ttableRowAfter,\r\n\ttableRowBefore,\r\n\ttableColumnBefore,\r\n\ttableColumnAfter,\r\n\ttableColumnDelete,\r\n\ttableRowDelete,\r\n\ttableMergeCell,\r\n\ttableSplitCell,\r\n} from './icons';\r\nimport type { BlockAttributes, SectionName, ContentJustifyValue } from './BlockAttributes';\r\n\r\nfunction TableEdit(props: BlockEditProps<BlockAttributes>) {\r\n\tconst {\r\n\t\tattributes,\r\n\t\tsetAttributes,\r\n\t\tisSelected: isSingleSelected,\r\n\t\t// @ts-ignore: `insertBlocksAfter` prop is not exist at @types\r\n\t\tinsertBlocksAfter,\r\n\t} = props;\r\n\tconst { contentJustification, tableStyles, captionStyles, captionPosition } = attributes;\r\n\tconst [selectedCells, setSelectedCells] = useState<VSelectedCells>(undefined);\r\n\tconst [selectedLine, setSelectedLine] = useState<VSelectedLine>(undefined);\r\n\r\n\tconst tableStylesObj: Properties = convertToObject(tableStyles);\r\n\tconst captionStylesObj: Properties = convertToObject(captionStyles);\r\n\tconst options = useSelect((select) => {\r\n\t\tconst { getOptions }: { getOptions: () => StoreOptions } = select(STORE_NAME);\r\n\r\n\t\treturn getOptions();\r\n\t}, []);\r\n\tconst { createWarningNotice } = useDispatch(noticesStore);\r\n\tconst blockEditingMode = useBlockEditingMode();\r\n\tconst isContentOnlyMode = blockEditingMode === 'contentOnly';\r\n\r\n\t// Release cell selection.\r\n\tuseEffect(() => {\r\n\t\tif (!isSingleSelected) {\r\n\t\t\tsetSelectedCells(undefined);\r\n\t\t\tsetSelectedLine(undefined);\r\n\t\t}\r\n\t}, [isSingleSelected]);\r\n\r\n\t// Create virtual table object with the cells placed in positions based on how they actually look.\r\n\tconst vTable: VTable = toVirtualTable(attributes);\r\n\r\n\tconst onChangeContentJustification = (value: ContentJustifyValue) => {\r\n\t\tconst newValue = contentJustification === value ? undefined : value;\r\n\t\tsetAttributes({ contentJustification: newValue });\r\n\t};\r\n\r\n\tconst onInsertRow = (offset: number) => {\r\n\t\tif (!selectedCells || selectedCells.length !== 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { sectionName, rowIndex, rowSpan } = selectedCells[0];\r\n\r\n\t\t// Calculate row index to be inserted considering rowspan of the selected cell.\r\n\t\tconst insertRowIndex = offset === 0 ? rowIndex : rowIndex + offset + rowSpan - 1;\r\n\r\n\t\tconst newVTable = insertRow(vTable, { sectionName, rowIndex: insertRowIndex });\r\n\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onDeleteRow = () => {\r\n\t\tif (!selectedCells || selectedCells.length !== 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { sectionName, rowIndex } = selectedCells[0];\r\n\r\n\t\t// Do not allow tbody to be empty for table with thead /tfoot sections.\r\n\t\tif (\r\n\t\t\tsectionName === 'body' &&\r\n\t\t\tvTable.body.length === 1 &&\r\n\t\t\t(!isEmptySection(vTable.head) || !isEmptySection(vTable.foot))\r\n\t\t) {\r\n\t\t\t// @ts-ignore\r\n\t\t\tcreateWarningNotice(\r\n\t\t\t\t__('The table body must have one or more rows.', 'comet'),\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 'comet-body-row',\r\n\t\t\t\t\ttype: 'snackbar',\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst newVTable = deleteRow(vTable, { sectionName, rowIndex });\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onInsertColumn = (offset: number) => {\r\n\t\tif (!selectedCells || selectedCells.length !== 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { vColIndex, colSpan } = selectedCells[0];\r\n\r\n\t\t// Calculate column index to be inserted considering colspan of the selected cell.\r\n\t\tconst insertVColIndex = offset === 0 ? vColIndex : vColIndex + offset + colSpan - 1;\r\n\r\n\t\tconst newVTable = insertColumn(vTable, { vColIndex: insertVColIndex });\r\n\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onDeleteColumn = () => {\r\n\t\tif (!selectedCells || selectedCells.length !== 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { vColIndex } = selectedCells[0];\r\n\r\n\t\tconst newVTable = deleteColumn(vTable, { vColIndex });\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onMergeCells = () => {\r\n\t\tconst newVTable = mergeCells(vTable, selectedCells);\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onSplitMergedCells = () => {\r\n\t\tconst newVTable = splitMergedCells(vTable, selectedCells);\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst TableJustifyControls = CONTENT_JUSTIFY_CONTROLS.map(({ icon, label, value }) => ({\r\n\t\ticon,\r\n\t\ttitle: label,\r\n\t\tisActive: contentJustification === value,\r\n\t\tvalue,\r\n\t\tonClick: () => onChangeContentJustification(value),\r\n\t}));\r\n\r\n\tconst TableEditControls = [\r\n\t\t{\r\n\t\t\ticon: tableRowBefore,\r\n\t\t\ttitle: __('Insert row before', 'comet'),\r\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\r\n\t\t\tonClick: () => onInsertRow(0),\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableRowAfter,\r\n\t\t\ttitle: __('Insert row after', 'comet'),\r\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\r\n\t\t\tonClick: () => onInsertRow(1),\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableRowDelete,\r\n\t\t\ttitle: __('Delete row', 'comet'),\r\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\r\n\t\t\tonClick: () => onDeleteRow(),\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableColumnBefore,\r\n\t\t\ttitle: __('Insert column before', 'comet'),\r\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\r\n\t\t\tonClick: () => onInsertColumn(0),\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableColumnAfter,\r\n\t\t\ttitle: __('Insert column after', 'comet'),\r\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\r\n\t\t\tonClick: () => onInsertColumn(1),\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableColumnDelete,\r\n\t\t\ttitle: __('Delete column', 'comet'),\r\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\r\n\t\t\tonClick: () => onDeleteColumn(),\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableSplitCell,\r\n\t\t\ttitle: __('Split merged cells', 'comet'),\r\n\t\t\tisDisabled: !selectedCells || !hasMergedCells(selectedCells),\r\n\t\t\tonClick: () => onSplitMergedCells(),\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableMergeCell,\r\n\t\t\ttitle: __('Merge cells', 'comet'),\r\n\t\t\tisDisabled: !selectedCells || !isRectangleSelected(selectedCells),\r\n\t\t\tonClick: () => onMergeCells(),\r\n\t\t},\r\n\t];\r\n\r\n\tconst isEmpty: boolean = !['head', 'body', 'foot'].filter(\r\n\t\t(sectionName) => !isEmptySection(vTable[sectionName as SectionName])\r\n\t).length;\r\n\r\n\tconst tablePlaceholderProps = useBlockProps({});\r\n\r\n\tconst tableFigureProps = useBlockProps({});\r\n\r\n\tconst tableProps = {\r\n\t\tattributes,\r\n\t\tsetAttributes,\r\n\t\tisSelected: isSingleSelected,\r\n\t\toptions,\r\n\t\tvTable,\r\n\t\ttableStylesObj,\r\n\t\tselectedCells,\r\n\t\tsetSelectedCells,\r\n\t\tselectedLine,\r\n\t\tsetSelectedLine,\r\n\t\tisContentOnlyMode,\r\n\t};\r\n\r\n\tconst tableSettingsProps = {\r\n\t\tattributes,\r\n\t\tsetAttributes,\r\n\t\tvTable,\r\n\t\tsetSelectedCells,\r\n\t\tsetSelectedLine,\r\n\t\ttableStylesObj,\r\n\t};\r\n\r\n\tconst tableCellSettingsProps = {\r\n\t\tsetAttributes,\r\n\t\tvTable,\r\n\t\tselectedCells,\r\n\t};\r\n\r\n\tconst tableCellSettingsLabel: string =\r\n\t\tselectedCells && selectedCells.length > 1\r\n\t\t\t? __('Celected cells', 'comet')\r\n\t\t\t: __('Selected cell', 'comet');\r\n\r\n\tconst tableCaptionProps = {\r\n\t\tattributes,\r\n\t\tsetAttributes,\r\n\t\tinsertBlocksAfter,\r\n\t\tsetSelectedLine,\r\n\t\tsetSelectedCells,\r\n\t\tcaptionStylesObj,\r\n\t\tisSelected: isSingleSelected,\r\n\t};\r\n\r\n\tconst tableCaptionSettingProps = {\r\n\t\tattributes,\r\n\t\tsetAttributes,\r\n\t\tcaptionStylesObj,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{isEmpty && (\r\n\t\t\t\t<div {...tablePlaceholderProps}>\r\n\t\t\t\t\t<TablePlaceholder {...props} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{!isEmpty && (\r\n\t\t\t\t<figure {...tableFigureProps}>\r\n\t\t\t\t\t{!isContentOnlyMode && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t\t\t\t\t<ToolbarDropdownMenu\r\n\t\t\t\t\t\t\t\t\tlabel={__('Change table justification', 'comet')}\r\n\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\t(contentJustification &&\r\n\t\t\t\t\t\t\t\t\t\t\tTableJustifyControls.find(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(control) => control.value === contentJustification\r\n\t\t\t\t\t\t\t\t\t\t\t)?.icon) ||\r\n\t\t\t\t\t\t\t\t\t\tjustifyLeft\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tcontrols={TableJustifyControls}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<ToolbarDropdownMenu\r\n\t\t\t\t\t\t\t\t\tlabel={__('Edit table', 'comet')}\r\n\t\t\t\t\t\t\t\t\ticon={blockTable}\r\n\t\t\t\t\t\t\t\t\tcontrols={TableEditControls}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</BlockControls>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<InspectorControls>\r\n\t\t\t\t\t\t<PanelBody\r\n\t\t\t\t\t\t\ttitle={__('Table layout', 'comet')}\r\n\t\t\t\t\t\t\tinitialOpen={false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableSettings {...tableSettingsProps} />\r\n\t\t\t\t\t\t</PanelBody>\r\n\t\t\t\t\t\t<PanelBody\r\n\t\t\t\t\t\t\ttitle={__('Table caption', 'comet')}\r\n\t\t\t\t\t\t\tinitialOpen={false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableCaptionSettings {...tableCaptionSettingProps} />\r\n\t\t\t\t\t\t</PanelBody>\r\n\t\t\t\t\t\t{selectedCells && !!selectedCells.length && (\r\n\t\t\t\t\t\t\t<PanelBody title={tableCellSettingsLabel} initialOpen={false}>\r\n\t\t\t\t\t\t\t\t<TableCellSettings {...tableCellSettingsProps} />\r\n\t\t\t\t\t\t\t</PanelBody>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</InspectorControls>\r\n\t\t\t\t\t{'top' === captionPosition && <TableCaption {...tableCaptionProps} />}\r\n\t\t\t\t\t<Table {...tableProps} />\r\n\t\t\t\t\t{'bottom' === captionPosition && <TableCaption {...tableCaptionProps} />}\r\n\t\t\t\t</figure>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default TableEdit;\r\n","// extracted by mini-css-extract-plugin\nexport {};","export { default as Table } from './table';\r\nexport { default as TableCaption } from './table-caption';\r\nexport { default as TablePlaceholder } from './table-placeholder';\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { Properties } from 'csstype';\r\nimport type { Dispatch, SetStateAction } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { BlockControls, RichText } from '@wordpress/block-editor';\r\nimport { createBlock, type BlockInstance } from '@wordpress/blocks';\r\nimport { ToolbarButton } from '@wordpress/components';\r\nimport { caption as captionIcon } from '@wordpress/icons';\r\nimport { useState, useEffect, useCallback } from '@wordpress/element';\r\nimport { usePrevious } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport type { BlockAttributes } from '../BlockAttributes';\r\nimport type { VSelectedCells, VSelectedLine } from '../utils/table-state';\r\n\r\ntype Props = {\r\n\tattributes: BlockAttributes;\r\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\r\n\tinsertBlocksAfter: (blocks: BlockInstance[]) => void;\r\n\tsetSelectedLine: Dispatch<SetStateAction<VSelectedLine>>;\r\n\tsetSelectedCells: Dispatch<SetStateAction<VSelectedCells>>;\r\n\tcaptionStylesObj: Properties;\r\n\tisSelected?: boolean;\r\n};\r\n\r\nexport default function TableCaption({\r\n\tattributes,\r\n\tsetAttributes,\r\n\tinsertBlocksAfter,\r\n\tsetSelectedLine,\r\n\tsetSelectedCells,\r\n\tcaptionStylesObj,\r\n\tisSelected,\r\n}: Props) {\r\n\tconst { caption = '' } = attributes;\r\n\tconst prevCaption = usePrevious(caption);\r\n\tconst isCaptionEmpty = RichText.isEmpty(caption);\r\n\tconst isPrevCaptionEmpty = RichText.isEmpty(prevCaption || '');\r\n\tconst [showCaption, setShowCaption] = useState(!isCaptionEmpty);\r\n\r\n\tconst onChange = (value: string | undefined) => setAttributes({ caption: value });\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isCaptionEmpty && isPrevCaptionEmpty) {\r\n\t\t\tsetShowCaption(true);\r\n\t\t}\r\n\t}, [isCaptionEmpty, isPrevCaptionEmpty]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isSelected && isCaptionEmpty) {\r\n\t\t\tsetShowCaption(false);\r\n\t\t}\r\n\t}, [isSelected, isCaptionEmpty]);\r\n\r\n\tconst ref = useCallback(\r\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\t\t(node: any) => {\r\n\t\t\tif (node && isCaptionEmpty) {\r\n\t\t\t\tnode?.focus();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[isCaptionEmpty]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{isSelected && (\r\n\t\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t\t<ToolbarButton\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetShowCaption(!showCaption);\r\n\t\t\t\t\t\t\tif (showCaption && caption) {\r\n\t\t\t\t\t\t\t\tonChange(undefined);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\ticon={captionIcon}\r\n\t\t\t\t\t\tisPressed={showCaption}\r\n\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\tshowCaption\r\n\t\t\t\t\t\t\t\t? __('Remove caption', 'flexible-table-block')\r\n\t\t\t\t\t\t\t\t: __('Add caption', 'flexible-table-block')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</BlockControls>\r\n\t\t\t)}\r\n\t\t\t{showCaption && (!RichText.isEmpty(caption) || isSelected) && (\r\n\t\t\t\t<RichText\r\n\t\t\t\t\taria-label={__('Table caption text', 'flexible-table-block')}\r\n\t\t\t\t\tplaceholder={__('Add caption', 'flexible-table-block')}\r\n\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\tstyle={captionStylesObj}\r\n\t\t\t\t\tvalue={caption}\r\n\t\t\t\t\tref={ref}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tonFocus={() => {\r\n\t\t\t\t\t\tsetSelectedLine(undefined);\r\n\t\t\t\t\t\tsetSelectedCells(undefined);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t// @ts-ignore: `__unstableOnSplitAtEnd` prop is not exist at @types\r\n\t\t\t\t\t__unstableOnSplitAtEnd={() => insertBlocksAfter(createBlock('core/paragraph'))}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\nimport type { FormEvent } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useState, createInterpolateElement } from '@wordpress/element';\r\nimport { BlockIcon } from '@wordpress/block-editor';\r\nimport {\r\n\tButton,\r\n\tPlaceholder,\r\n\tTextControl,\r\n\tToggleControl,\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalVStack as VStack,\r\n\t__experimentalSpacer as Spacer,\r\n\t__experimentalText as Text,\r\n} from '@wordpress/components';\r\nimport { isAppleOS } from '@wordpress/keycodes';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tDEFAULT_PREVIEW_ROWS,\r\n\tDEFAULT_PREVIEW_COLUMNS,\r\n\tMIN_PREVIEW_TABLE_HEIGHT,\r\n\tMAX_PREVIEW_TABLE_COL,\r\n\tMAX_PREVIEW_TABLE_ROW,\r\n\tTHRESHOLD_PREVIEW_TABLE_COL,\r\n\tTHRESHOLD_PREVIEW_TABLE_ROW,\r\n} from '../constants';\r\nimport { createTable, toTableAttributes, type VTable } from '../utils/table-state';\r\nimport { blockIcon as icon } from '../icons';\r\nimport type { BlockAttributes } from '../BlockAttributes';\r\n\r\ntype Props = {\r\n\tsetAttributes: ( attrs: Partial< BlockAttributes > ) => void;\r\n};\r\n\r\nexport default function TablePlaceholder( { setAttributes }: Props ) {\r\n\tconst [ rowCount, setRowCount ] = useState< number | undefined >( DEFAULT_PREVIEW_ROWS );\r\n\tconst [ colCount, setColCount ] = useState< number | undefined >( DEFAULT_PREVIEW_COLUMNS );\r\n\tconst [ headerSection, setHeaderSection ] = useState< boolean >( false );\r\n\tconst [ footerSection, setFooterSection ] = useState< boolean >( false );\r\n\r\n\tconst totalRowCount: number | undefined = rowCount\r\n\t\t? rowCount + Number( headerSection ) + Number( footerSection )\r\n\t\t: undefined;\r\n\tconst cellHeight: number | undefined = totalRowCount\r\n\t\t? Number( MIN_PREVIEW_TABLE_HEIGHT / Math.min( THRESHOLD_PREVIEW_TABLE_ROW, totalRowCount ) )\r\n\t\t: undefined;\r\n\r\n\tconst onCreateTable = ( event: FormEvent ) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif ( ! rowCount || ! colCount ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst vTable: VTable = createTable( {\r\n\t\t\trowCount: Math.min( rowCount, MAX_PREVIEW_TABLE_ROW ),\r\n\t\t\tcolCount: Math.min( colCount, MAX_PREVIEW_TABLE_COL ),\r\n\t\t\theaderSection,\r\n\t\t\tfooterSection,\r\n\t\t} );\r\n\r\n\t\tsetAttributes( toTableAttributes( vTable ) );\r\n\t};\r\n\r\n\tconst onChangeColumnCount = ( value: string ) => {\r\n\t\tconst parsedValue = parseInt( value, 10 );\r\n\t\tif ( isNaN( parsedValue ) ) {\r\n\t\t\tsetColCount( undefined );\r\n\t\t}\n\t\telse {\r\n\t\t\tsetColCount( Math.max( 1, Math.min( MAX_PREVIEW_TABLE_COL, parsedValue ) ) );\r\n\t\t}\r\n\t};\r\n\r\n\tconst onChangeRowCount = ( value: string ) => {\r\n\t\tconst parsedValue = parseInt( value );\r\n\t\tif ( isNaN( parsedValue ) ) {\r\n\t\t\tsetRowCount( undefined );\r\n\t\t}\n\t\telse {\r\n\t\t\tsetRowCount( Math.max( 1, Math.min( MAX_PREVIEW_TABLE_ROW, parsedValue ) ) );\r\n\t\t}\r\n\t};\r\n\r\n\tconst onToggleHeaderSection = ( section: boolean ) => setHeaderSection( section );\r\n\r\n\tconst onToggleFooterSection = ( section: boolean ) => setFooterSection( section );\r\n\r\n\tconst tableClasses: string = clsx( 'ftb-placeholder__table', {\r\n\t\t'is-overflow-row': totalRowCount && totalRowCount > THRESHOLD_PREVIEW_TABLE_ROW,\r\n\t\t'is-overflow-col': colCount && colCount > THRESHOLD_PREVIEW_TABLE_COL,\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<Placeholder\r\n\t\t\tlabel={ __( 'Flexible Table', 'flexible-table-block' ) }\r\n\t\t\tclassName=\"ftb-placeholder\"\r\n\t\t\ticon={ <BlockIcon icon={ icon } showColors /> }\r\n\t\t>\r\n\t\t\t<div className=\"components-placeholder__instructions\">\r\n\t\t\t\t{ createInterpolateElement(\r\n\t\t\t\t\tisAppleOS()\r\n\t\t\t\t\t\t? __(\r\n\t\t\t\t\t\t\t\t'Hint: Hold <code>Command</code> key to select multiple cells. Hold <code>Shift</code> key to select the range.',\r\n\t\t\t\t\t\t\t\t'flexible-table-block'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t: __(\r\n\t\t\t\t\t\t\t\t'Hint: Hold <code>Ctrl</code> key to select multiple cells. Hold <code>Shift</code> key to select the range.',\r\n\t\t\t\t\t\t\t\t'flexible-table-block'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t{ code: <code /> }\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t\t<Spacer\r\n\t\t\t\tas={ VStack }\r\n\t\t\t\tclassName=\"ftb-placeholder__table-wrap\"\r\n\t\t\t\tstyle={ { minHeight: MIN_PREVIEW_TABLE_HEIGHT } }\r\n\t\t\t\talignment=\"center\"\r\n\t\t\t\tpadding={ 4 }\r\n\t\t\t\tmarginBottom={ 0 }\r\n\t\t\t>\r\n\t\t\t\t<Text align=\"center\" isBlock weight=\"500\">\r\n\t\t\t\t\t{ __( 'Preview', 'flexible-table-block' ) }\r\n\t\t\t\t</Text>\r\n\t\t\t\t{ rowCount && colCount && (\r\n\t\t\t\t\t<table className={ tableClasses }>\r\n\t\t\t\t\t\t{ headerSection && (\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t{ Array.from( {\r\n\t\t\t\t\t\t\t\t\t\tlength: Math.min( colCount, THRESHOLD_PREVIEW_TABLE_COL ),\r\n\t\t\t\t\t\t\t\t\t} ).map( ( _col, colIndex ) => (\r\n\t\t\t\t\t\t\t\t\t\t<th key={ colIndex } style={ { height: cellHeight } } />\r\n\t\t\t\t\t\t\t\t\t) ) }\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{ Array.from( { length: Math.min( rowCount, THRESHOLD_PREVIEW_TABLE_ROW ) } ).map(\r\n\t\t\t\t\t\t\t\t( _row, rowIndex ) => (\r\n\t\t\t\t\t\t\t\t\t<tr key={ rowIndex }>\r\n\t\t\t\t\t\t\t\t\t\t{ Array.from( {\r\n\t\t\t\t\t\t\t\t\t\t\tlength: Math.min( colCount, THRESHOLD_PREVIEW_TABLE_COL ),\r\n\t\t\t\t\t\t\t\t\t\t} ).map( ( _col, colIndex ) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<td key={ colIndex } style={ { height: cellHeight } } />\r\n\t\t\t\t\t\t\t\t\t\t) ) }\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t{ footerSection && (\r\n\t\t\t\t\t\t\t<tfoot>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t{ Array.from( {\r\n\t\t\t\t\t\t\t\t\t\tlength: Math.min( colCount, THRESHOLD_PREVIEW_TABLE_COL ),\r\n\t\t\t\t\t\t\t\t\t} ).map( ( _col, colIndex ) => (\r\n\t\t\t\t\t\t\t\t\t\t<td key={ colIndex } style={ { height: cellHeight } } />\r\n\t\t\t\t\t\t\t\t\t) ) }\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</tfoot>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</table>\r\n\t\t\t\t) }\r\n\t\t\t</Spacer>\r\n\t\t\t<VStack as=\"form\" onSubmit={ onCreateTable }>\r\n\t\t\t\t<HStack wrap justify=\"start\">\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\tlabel={ __( 'Header section', 'flexible-table-block' ) }\r\n\t\t\t\t\t\tchecked={ !! headerSection }\r\n\t\t\t\t\t\tonChange={ onToggleHeaderSection }\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\tlabel={ __( 'Footer section', 'flexible-table-block' ) }\r\n\t\t\t\t\t\tchecked={ !! footerSection }\r\n\t\t\t\t\t\tonChange={ onToggleFooterSection }\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t/>\r\n\t\t\t\t</HStack>\r\n\t\t\t\t<HStack wrap alignment=\"end\" justify=\"start\">\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\tlabel={ __( 'Column count', 'flexible-table-block' ) }\r\n\t\t\t\t\t\tclassName=\"ftb-placeholder__input\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\tmax={ MAX_PREVIEW_TABLE_COL }\r\n\t\t\t\t\t\tvalue={ colCount || '' }\r\n\t\t\t\t\t\tonChange={ onChangeColumnCount }\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\tlabel={ __( 'Row count', 'flexible-table-block' ) }\r\n\t\t\t\t\t\tclassName=\"ftb-placeholder__input\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\tmax={ MAX_PREVIEW_TABLE_ROW }\r\n\t\t\t\t\t\tvalue={ rowCount || '' }\r\n\t\t\t\t\t\tonChange={ onChangeRowCount }\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tdisabled={ ! rowCount || ! colCount }\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'Create Table', 'flexible-table-block' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</HStack>\r\n\t\t\t</VStack>\r\n\t\t</Placeholder>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\nimport type { Properties } from 'csstype';\r\nimport type { Dispatch, SetStateAction, MouseEvent, KeyboardEvent } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useState, useEffect, useRef } from '@wordpress/element';\r\nimport {\r\n\tRichText,\r\n\t// @ts-ignore: has no exported member\r\n\t__experimentalUseColorProps as useColorProps,\r\n} from '@wordpress/block-editor';\r\nimport { Button } from '@wordpress/components';\r\nimport { plus, trash, chevronRight, chevronDown } from '@wordpress/icons';\r\nimport { store as noticesStore } from '@wordpress/notices';\r\nimport { useDispatch } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { CELL_ARIA_LABEL } from '../constants';\r\nimport {\r\n\tinsertRow,\r\n\tdeleteRow,\r\n\tinsertColumn,\r\n\tdeleteColumn,\r\n\ttoRectangledSelectedCells,\r\n\ttoVirtualRows,\r\n\ttoTableAttributes,\r\n\tisEmptySection,\r\n\ttype VTable,\r\n\ttype VCell,\r\n\ttype VRow,\r\n\ttype VSelectedLine,\r\n\ttype VSelectedCells,\r\n} from '../utils/table-state';\r\nimport { convertToObject } from '../utils/style-converter';\r\n\r\nimport type { SectionName, CellTagValue, BlockAttributes } from '../BlockAttributes';\r\nimport type { StoreOptions } from '../store';\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction TSection(props: any) {\r\n\tconst { name, ...restProps } = props;\r\n\tconst TagName = `t${name}`;\r\n\r\n\treturn <TagName {...restProps} />;\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction Cell(props: any) {\r\n\tconst { name, ...restProps } = props;\r\n\tconst TagName: CellTagValue = name;\r\n\r\n\treturn <TagName {...restProps} />;\r\n}\r\n\r\ntype Props = {\r\n\tattributes: BlockAttributes;\r\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\r\n\tisSelected: boolean;\r\n\toptions: StoreOptions;\r\n\tvTable: VTable;\r\n\ttableStylesObj: Properties;\r\n\tselectedCells: VSelectedCells;\r\n\tsetSelectedCells: Dispatch<SetStateAction<VSelectedCells>>;\r\n\tselectedLine: VSelectedLine;\r\n\tsetSelectedLine: Dispatch<SetStateAction<VSelectedLine>>;\r\n\tisContentOnlyMode: boolean;\r\n};\r\n\r\nexport default function Table({\r\n\tattributes,\r\n\tsetAttributes,\r\n\tisSelected,\r\n\tvTable,\r\n\ttableStylesObj,\r\n\tselectedCells,\r\n\tsetSelectedCells,\r\n\tselectedLine,\r\n\tsetSelectedLine,\r\n\tisContentOnlyMode,\r\n}: Props) {\r\n\tconst { hasFixedLayout, isStackedOnMobile, sticky } = attributes;\r\n\r\n\tconst colorProps = useColorProps(attributes);\r\n\r\n\tconst [isSelectMode, setIsSelectMode] = useState<boolean>(false);\r\n\r\n\t// Manage rendering status as state since some processing may be performed before rendering components.\r\n\tconst [isReady, setIdReady] = useState<boolean>(false);\r\n\tuseEffect(() => setIdReady(true), []);\r\n\r\n\tconst tableRef = useRef(null);\r\n\tconst { createWarningNotice } = useDispatch(noticesStore);\r\n\r\n\tlet isTabMove: boolean = false;\r\n\r\n\tconst isRowSelected = selectedLine && 'sectionName' in selectedLine && 'rowIndex' in selectedLine;\r\n\tconst isColumnSelected = selectedLine && 'vColIndex' in selectedLine;\r\n\r\n\tconst onInsertRow = (sectionName: SectionName, rowIndex: number) => {\r\n\t\tconst newVTable = insertRow(vTable, { sectionName, rowIndex });\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onDeleteRow = (sectionName: SectionName, rowIndex: number) => {\r\n\t\t// Do not allow tbody to be empty for table with thead /tfoot sections.\r\n\t\tif (\r\n\t\t\tsectionName === 'body' &&\r\n\t\t\tvTable.body.length === 1 &&\r\n\t\t\t(!isEmptySection(vTable.head) || !isEmptySection(vTable.foot))\r\n\t\t) {\r\n\t\t\t// @ts-ignore\r\n\t\t\tcreateWarningNotice(\r\n\t\t\t\t__('The table body must have one or more rows.', 'comet'),\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 'comet-body-row',\r\n\t\t\t\t\ttype: 'snackbar',\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst newVTable = deleteRow(vTable, { sectionName, rowIndex });\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onInsertColumn = (vTargetCell: VCell, offset: number) => {\r\n\t\t// Calculate column index to be inserted considering colspan of the target cell.\r\n\t\tconst vColIndex =\r\n\t\t\toffset === 0\r\n\t\t\t\t? vTargetCell.vColIndex\r\n\t\t\t\t: vTargetCell.vColIndex + offset + vTargetCell.colSpan - 1;\r\n\r\n\t\tconst newVTable = insertColumn(vTable, { vColIndex });\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onDeleteColumn = (vColIndex: number) => {\r\n\t\tconst newVTable = deleteColumn(vTable, { vColIndex });\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onSelectSectionCells = (sectionName: SectionName) => {\r\n\t\tsetSelectedCells(\r\n\t\t\tvTable[sectionName].reduce((cells: VCell[], row) => {\r\n\t\t\t\treturn cells.concat(row.cells.filter((cell) => !cell.isHidden));\r\n\t\t\t}, [])\r\n\t\t);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onSelectRow = (sectionName: SectionName, rowIndex: number) => {\r\n\t\tif (\r\n\t\t\tisRowSelected &&\r\n\t\t\tselectedLine.sectionName === sectionName &&\r\n\t\t\tselectedLine.rowIndex === rowIndex\r\n\t\t) {\r\n\t\t\tsetSelectedLine(undefined);\r\n\t\t\tsetSelectedCells(undefined);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetSelectedLine({ sectionName, rowIndex });\r\n\t\t\tsetSelectedCells(\r\n\t\t\t\tvTable[sectionName].reduce((cells: VCell[], row) => {\r\n\t\t\t\t\treturn cells.concat(\r\n\t\t\t\t\t\trow.cells.filter((cell) => cell.rowIndex === rowIndex && !cell.isHidden)\r\n\t\t\t\t\t);\r\n\t\t\t\t}, [])\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onSelectColumn = (vColIndex: number) => {\r\n\t\tif (isColumnSelected && selectedLine.vColIndex && selectedLine.vColIndex === vColIndex) {\r\n\t\t\tsetSelectedLine(undefined);\r\n\t\t\tsetSelectedCells(undefined);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconst vRows = toVirtualRows(vTable);\r\n\r\n\t\t\tsetSelectedCells(\r\n\t\t\t\tvRows.reduce(\r\n\t\t\t\t\t(cells: VCell[], row) =>\r\n\t\t\t\t\t\tcells.concat(\r\n\t\t\t\t\t\t\trow.cells.filter((cell) => cell.vColIndex === vColIndex && !cell.isHidden)\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t[]\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tsetSelectedLine({ vColIndex });\r\n\t\t}\r\n\t};\r\n\r\n\tconst onChangeCellContent = (content: string, targetCell: VCell) => {\r\n\t\t// If inline highlight is applied to the RichText, this process is performed before rendering the component, causing a warning error.\r\n\t\t// Therefore, nothing is performed if the component has not yet been rendered.\r\n\t\tif (!isReady) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { sectionName, rowIndex: selectedRowIndex, vColIndex: selectedVColIndex } = targetCell;\r\n\t\tsetSelectedCells([{ ...targetCell, isFirstSelected: true }]);\r\n\r\n\t\tconst newVTable = {\r\n\t\t\t...vTable,\r\n\t\t\t[sectionName]: vTable[sectionName].map((row, rowIndex) => {\r\n\t\t\t\tif (rowIndex !== selectedRowIndex) {\r\n\t\t\t\t\treturn { cells: row.cells.filter((cell) => !cell.isHidden) };\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcells: row.cells.map((cell, vColIndex) => {\r\n\t\t\t\t\t\tif (rowIndex !== selectedRowIndex || vColIndex !== selectedVColIndex) {\r\n\t\t\t\t\t\t\treturn cell;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}),\r\n\t\t\t\t};\r\n\t\t\t}),\r\n\t\t};\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t};\r\n\r\n\t// Monitor pressed key to determine whether multi-select mode or range-select mode.\r\n\t// Also the next cell will be focused if tab key navigation is enabled.\r\n\tconst onKeyDown = (event: KeyboardEvent) => {\r\n\t\tconst { key } = event;\r\n\r\n\t\tif (key === 'Shift' || key === 'Control' || key === 'Meta') {\r\n\t\t\t// range-select mode or multi-select mode.\r\n\t\t\tsetIsSelectMode(true);\r\n\t\t}\r\n\t\telse if (key === 'Tab' && tableRef.current) {\r\n\t\t\tconst isInsideTableBlock =\r\n\t\t\t\t(event.target as HTMLElement).closest('.wp-block-comet-table') !== null;\r\n\r\n\t\t\tif (!isInsideTableBlock) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// Focus on the next cell.\r\n\t\t\tisTabMove = true;\r\n\r\n\t\t\tconst tableElement: HTMLElement = tableRef.current;\r\n\t\t\tconst { ownerDocument } = tableElement;\r\n\t\t\tconst { activeElement } = ownerDocument;\r\n\r\n\t\t\tconst activeCell = tableElement.querySelector(\r\n\t\t\t\t'th.is-selected > [contenteditable=\"true\"], td.is-selected > [contenteditable=\"true\"]'\r\n\t\t\t);\r\n\t\t\tconst isInsidePopover =\r\n\t\t\t\tactiveElement && activeElement.closest('.components-popover') !== null;\r\n\t\t\tconst hasLinkControl = !!ownerDocument.querySelector('.block-editor-link-control');\r\n\r\n\t\t\tif (!activeCell || isInsidePopover || hasLinkControl) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst tabbableNodes = tableElement.querySelectorAll(\r\n\t\t\t\t'th > [contenteditable=\"true\"], td > [contenteditable=\"true\"]'\r\n\t\t\t);\r\n\r\n\t\t\tconst tabbableElements = [].slice.call(tabbableNodes);\r\n\t\t\tconst activeCellIndex = tabbableElements.findIndex(\r\n\t\t\t\t(element: Node) => element === activeCell\r\n\t\t\t);\r\n\r\n\t\t\tif (activeCellIndex === -1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet nextCellIndex = event.shiftKey ? activeCellIndex - 1 : activeCellIndex + 1;\r\n\r\n\t\t\tif (nextCellIndex < 0) {\r\n\t\t\t\tnextCellIndex = tabbableElements.length - 1;\r\n\t\t\t}\r\n\t\t\telse if (nextCellIndex >= tabbableElements.length) {\r\n\t\t\t\tnextCellIndex = 0;\r\n\t\t\t}\r\n\r\n\t\t\tconst focusbleElement: HTMLElement = tabbableElements[nextCellIndex];\r\n\r\n\t\t\tif (!focusbleElement) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\tsetIsSelectMode(false);\r\n\t\t\tfocusbleElement.focus();\r\n\r\n\t\t\t// Select all text if the next cell is not empty.\r\n\t\t\tconst selection = ownerDocument.getSelection();\r\n\t\t\tconst range = ownerDocument.createRange();\r\n\r\n\t\t\tif (selection && focusbleElement.innerText.trim().length) {\r\n\t\t\t\trange.selectNodeContents(focusbleElement);\r\n\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\tselection.addRange(range);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst onKeyUp = (event: KeyboardEvent) => {\r\n\t\tconst { key } = event;\r\n\r\n\t\tif (key === 'Shift' || key === 'Control' || key === 'Meta') {\r\n\t\t\tconst isInsideTableBlock =\r\n\t\t\t\t(event.target as HTMLElement).closest('.wp-block-comet-table') !== null;\r\n\r\n\t\t\tif (!isInsideTableBlock) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tsetIsSelectMode(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onClickCell = (event: MouseEvent, clickedCell: VCell) => {\r\n\t\tconst { shiftKey, ctrlKey, metaKey } = event;\r\n\t\tconst isInsideTableBlock =\r\n\t\t\t(event.target as HTMLElement).closest('.wp-block-comet-table') !== null;\r\n\r\n\t\tif (!isInsideTableBlock) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { sectionName, rowIndex, vColIndex } = clickedCell;\r\n\r\n\t\tif (shiftKey) {\r\n\t\t\t// Range select.\r\n\t\t\tif (!selectedCells) {\r\n\t\t\t\tsetSelectedCells([{ ...clickedCell, isFirstSelected: true }]);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconst fromCell = selectedCells.find(({ isFirstSelected }) => isFirstSelected);\r\n\r\n\t\t\t\tif (!fromCell) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (fromCell.sectionName !== sectionName) {\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tcreateWarningNotice(\r\n\t\t\t\t\t\t__('Cannot select range cells from different sections.', 'comet'),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 'comet-range-sections',\r\n\t\t\t\t\t\t\ttype: 'snackbar',\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tsetSelectedCells(toRectangledSelectedCells(vTable, { fromCell, toCell: clickedCell }));\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (ctrlKey || metaKey) {\r\n\t\t\t// Multple select.\r\n\t\t\tconst newSelectedCells = selectedCells ? [...selectedCells] : [];\r\n\t\t\tconst existCellIndex = newSelectedCells.findIndex((cell) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tcell.sectionName === sectionName &&\r\n\t\t\t\t\tcell.rowIndex === rowIndex &&\r\n\t\t\t\t\tcell.vColIndex === vColIndex\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\t\tif (newSelectedCells.length && sectionName !== newSelectedCells[0].sectionName) {\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tcreateWarningNotice(\r\n\t\t\t\t\t__('Cannot select multi cells from difference sections.', 'comet'),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 'comet-multi-sections',\r\n\t\t\t\t\t\ttype: 'snackbar',\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (existCellIndex === -1) {\r\n\t\t\t\tnewSelectedCells.push(clickedCell);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tnewSelectedCells.splice(existCellIndex, 1);\r\n\t\t\t}\r\n\r\n\t\t\tsetSelectedCells(newSelectedCells);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Select cell for the first time.\r\n\t\t\tsetSelectedCells([{ ...clickedCell, isFirstSelected: true }]);\r\n\t\t}\r\n\t};\r\n\r\n\t// Remove cells from the virtual table that are not needed for dom rendering.\r\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\tconst filteredVTable = Object.keys(vTable).reduce((result: any, sectionName) => {\r\n\t\tif (isEmptySection(vTable[sectionName as SectionName])) {\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\t...result,\r\n\t\t\t[sectionName]: vTable[sectionName as SectionName].map((row) => ({\r\n\t\t\t\tcells: row.cells.filter((cell) => !cell.isHidden),\r\n\t\t\t})),\r\n\t\t};\r\n\t}, {});\r\n\r\n\tif (!filteredVTable) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst filteredSections = Object.keys(filteredVTable) as SectionName[];\r\n\r\n\treturn (\r\n\t\t<table\r\n\t\t\tclassName={clsx(colorProps.className, {\r\n\t\t\t\t'has-fixed-layout': hasFixedLayout,\r\n\t\t\t\t'is-stacked-on-mobile': isStackedOnMobile,\r\n\t\t\t\t[`is-sticky-${sticky}`]: sticky,\r\n\t\t\t})}\r\n\t\t\tstyle={{ ...tableStylesObj, ...colorProps.style }}\r\n\t\t\tref={tableRef}\r\n\t\t\tonKeyDown={onKeyDown}\r\n\t\t\tonKeyUp={onKeyUp}\r\n\t\t>\r\n\t\t\t{filteredSections.map((sectionName: SectionName, sectionIndex) => (\r\n\t\t\t\t<TSection name={sectionName} key={sectionIndex}>\r\n\t\t\t\t\t{filteredVTable[sectionName].map((row: VRow, rowIndex: number) => (\r\n\t\t\t\t\t\t<tr key={rowIndex}>\r\n\t\t\t\t\t\t\t{row.cells.map((cell: VCell) => {\r\n\t\t\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\t\t\t\ttag,\r\n\t\t\t\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\t\theaders,\r\n\t\t\t\t\t\t\t\t\tscope,\r\n\t\t\t\t\t\t\t\t\tstyles,\r\n\t\t\t\t\t\t\t\t\trowSpan,\r\n\t\t\t\t\t\t\t\t\tcolSpan,\r\n\t\t\t\t\t\t\t\t\tvColIndex,\r\n\t\t\t\t\t\t\t\t} = cell;\r\n\r\n\t\t\t\t\t\t\t\t// Whether or not the current cell is included in the selected cells.\r\n\t\t\t\t\t\t\t\tconst isCellSelected = (selectedCells || []).some(\r\n\t\t\t\t\t\t\t\t\t(targetCell) =>\r\n\t\t\t\t\t\t\t\t\t\ttargetCell.sectionName === sectionName &&\r\n\t\t\t\t\t\t\t\t\t\ttargetCell.rowIndex === rowIndex &&\r\n\t\t\t\t\t\t\t\t\t\ttargetCell.vColIndex === vColIndex\r\n\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t\tconst cellStylesObj = convertToObject(styles);\r\n\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\t\t\t\tkey={vColIndex}\r\n\t\t\t\t\t\t\t\t\t\tname={tag}\r\n\t\t\t\t\t\t\t\t\t\tclassName={clsx(className, { 'is-selected': isCellSelected })}\r\n\t\t\t\t\t\t\t\t\t\trowSpan={rowSpan > 1 ? rowSpan : undefined}\r\n\t\t\t\t\t\t\t\t\t\tcolSpan={colSpan > 1 ? colSpan : undefined}\r\n\t\t\t\t\t\t\t\t\t\tstyle={cellStylesObj}\r\n\t\t\t\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\t\t\t\theaders={headers}\r\n\t\t\t\t\t\t\t\t\t\tscope={scope}\r\n\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => onClickCell(event, cell)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{isSelected &&\r\n\t\t\t\t\t\t\t\t\t\t\t!isContentOnlyMode &&\r\n\t\t\t\t\t\t\t\t\t\t\trowIndex === 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\tvColIndex === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ftb-table-cell-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonSelectSectionCells(sectionName);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{`t${sectionName}`}\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{isSelected && !isContentOnlyMode && (\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{rowIndex === 0 && vColIndex === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx('ftb-row-before-inserter', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'ftb-row-before-inserter--has-prev-section': sectionIndex > 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={__('Insert row before', 'comet')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={plus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonSize={18}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInsertRow(sectionName, rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{vColIndex === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ftb-row-selector\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={__('Select row', 'comet')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={chevronRight}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonSize={16}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisRowSelected &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedLine.sectionName === sectionName &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedLine.rowIndex === rowIndex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSelectRow(sectionName, rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isRowSelected &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedLine.sectionName === sectionName &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedLine.rowIndex === rowIndex && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ftb-row-deleter\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={__('Delete row', 'comet')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={trash}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonSize={20}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonDeleteRow(sectionName, rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{sectionIndex === 0 && rowIndex === 0 && vColIndex === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ftb-column-before-inserter\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={__('Insert column before', 'comet')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={plus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonSize={18}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInsertColumn(cell, 0);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{sectionIndex === 0 && rowIndex === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ftb-column-selector\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={__('Select column', 'comet')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={chevronDown}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonSize={18}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisColumnSelected && selectedLine.vColIndex === vColIndex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSelectColumn(vColIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isColumnSelected && selectedLine.vColIndex === vColIndex && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ftb-column-deleter\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={__('Delete column', 'comet')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={trash}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonSize={20}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonDeleteColumn(vColIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{vColIndex === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx('ftb-row-after-inserter', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'ftb-row-after-inserter--has-next-section':\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsectionIndex < Object.keys(filteredVTable).length - 1 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trowIndex + rowSpan - 1 === filteredVTable[sectionName].length - 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={__('Insert row after', 'comet')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={plus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonSize={18}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInsertRow(sectionName, rowIndex + rowSpan);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t<RichText\r\n\t\t\t\t\t\t\t\t\t\t\tkey={vColIndex}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={content}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => onChangeCellContent(value, cell)}\r\n\t\t\t\t\t\t\t\t\t\t\t{...((!isSelectMode || isTabMove) && {\r\n\t\t\t\t\t\t\t\t\t\t\t\tonFocus: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisTabMove = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedLine(undefined);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedCells([{ ...cell, isFirstSelected: true }]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\taria-label={CELL_ARIA_LABEL[sectionName as SectionName]}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t{isSelected &&\r\n\t\t\t\t\t\t\t\t\t\t\t!isContentOnlyMode &&\r\n\t\t\t\t\t\t\t\t\t\t\tsectionIndex === 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\trowIndex === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ftb-column-after-inserter\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={__('Insert column after', 'comet')}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={plus}\r\n\t\t\t\t\t\t\t\t\t\t\t\ticonSize={18}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonInsertColumn(cell, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</TSection>\r\n\t\t\t))}\r\n\t\t</table>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nexport default {\r\n\tattributes: {\r\n\t\thead: [\r\n\t\t\t{\r\n\t\t\t\tcells: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: __( 'Version', 'flexible-table-block' ),\r\n\t\t\t\t\t\ttag: 'th',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: __( 'Jazz Musician', 'flexible-table-block' ),\r\n\t\t\t\t\t\ttag: 'th',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: __( 'Release Date', 'flexible-table-block' ),\r\n\t\t\t\t\t\ttag: 'th',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t],\r\n\t\tbody: [\r\n\t\t\t{\r\n\t\t\t\tcells: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: '5.9',\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: 'Joséphine Baker',\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: __( 'January 25, 2022', 'flexible-table-block' ),\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcells: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: '5.8',\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: 'Art Tatum',\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: __( 'July 20, 2021', 'flexible-table-block' ),\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcells: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: '5.7',\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: 'Esperanza Spalding',\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: __( 'March 9, 2021', 'flexible-table-block' ),\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n};\r\n","/* eslint-disable max-len */\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG, Circle, Polygon } from '@wordpress/components';\r\n\r\nexport const blockIcon = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Polygon points=\"17.5 1 7.8 5.6 10.8 6 6.5 10 16.5 5.5 13.4 5 17.5 1\" />\r\n\t\t<Path d=\"M19,11H5c-1.1,0-2,.9-2,2v8c0,1.1.9,2,2,2h14c1.1,0,2-.9,2-2v-8c0-1.1-.9-2-2-2ZM11.5,16.5h-7v-3.5c0-.3.2-.5.5-.5h6.5v4ZM13,12.5h6c.3,0,.5.2.5.5v3.5h-6.5v-4ZM4.5,21v-3h7v3.5h-6.5c-.3,0-.5-.2-.5-.5ZM19,21.5h-6v-3.5h6.5v3c0,.3-.2.5-.5.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const alignTop = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M9 20h6V9H9v11zM4 4v1.5h16V4H4z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const alignMiddle = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M20 11h-5V4H9v7H4v1.5h5V20h6v-7.5h5z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const alignBottom = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M15 4H9v11h6V4zM4 18.5V20h16v-1.5H4z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const tableRowBefore = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M15.8,8.3h-3v-3s-1.5,0-1.5,0v3h-3s0,1.5,0,1.5h3v3s1.5,0,1.5,0v-3h3s0-1.5,0-1.5ZM4,2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2V4c0-1.1.9-2,2-2ZM20.5,14.5V4c0-.3-.2-.5-.5-.5H4c-.3,0-.5.2-.5.5v10.5s17,0,17,0ZM20.4,20v-4s-4.7,0-4.7,0v4.5s4.3,0,4.3,0c.3,0,.5-.2.4-.5ZM14.2,20.5v-4.5s-4.5,0-4.5,0v4.5s4.5,0,4.5,0ZM8.2,20.5v-4.5s-4.8,0-4.8,0v4c0,.3.2.5.5.5h4.2s.1,0,.1,0Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const tableRowAfter = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M8.2,15.7h3v3s1.5,0,1.5,0v-3h3s0-1.5,0-1.5h-3v-3s-1.5,0-1.5,0v3h-3s0,1.5,0,1.5ZM20,22H4c-1.1,0-2-.9-2-2V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2ZM3.5,9.5v10.5c0,.3.2.5.5.5h16c.3,0,.5-.2.5-.5v-10.5s-17,0-17,0ZM3.6,4v4s4.7,0,4.7,0V3.5s-4.3,0-4.3,0c-.3,0-.5.2-.4.5ZM9.8,3.5v4.5s4.5,0,4.5,0V3.5s-4.5,0-4.5,0ZM15.8,3.5v4.5s4.8,0,4.8,0v-4c0-.3-.2-.5-.5-.5h-4.2s-.1,0-.1,0Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const tableColumnBefore = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M8.3,8.2v3h-3s0,1.5,0,1.5h3v3s1.5,0,1.5,0v-3h3s0-1.5,0-1.5h-3v-3s-1.5,0-1.5,0ZM2,20V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2ZM14.5,3.5H4c-.3,0-.5.2-.5.5v16c0,.3.2.5.5.5h10.5s0-17,0-17ZM20,3.6h-4s0,4.7,0,4.7h4.5s0-4.3,0-4.3c0-.3-.2-.5-.5-.4ZM20.5,9.8h-4.5s0,4.5,0,4.5h4.5s0-4.5,0-4.5ZM20.5,15.8h-4.5s0,4.8,0,4.8h4c.3,0,.5-.2.5-.5v-4.2s0-.1,0-.1Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const tableColumnAfter = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M15.8,15.8v-3h3v-1.5h-3v-3h-1.5v3h-3v1.5h3v3h1.5ZM22,4v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2ZM9.5,20.5h10.5c.3,0,.5-.2.5-.5V4c0-.3-.2-.5-.5-.5h-10.5v17ZM4,20.4h4v-4.7H3.5v4.3c0,.3.2.5.5.4ZM3.5,14.2h4.5v-4.5H3.5v4.5ZM3.5,8.2h4.5V3.4h-4c-.3,0-.5.2-.5.5v4.2h0Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const tableRowDelete = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M20,2H4c-1.1,0-2,.9-2,2v16c0,1.1.9,2,2,2h16c1.1,0,2-.9,2-2V4c0-1.1-.9-2-2-2ZM20.5,4v4.4h-4.1l.6.7-.6.8h4.1v4.2h-4.1l.6.8-.6.8h4.1v4.4c0,.3-.2.5-.5.5H4c-.3,0-.5-.3-.5-.6v-4.3h4.1l-.6-.8.6-.8H3.5v-4.2h4.1l-.6-.8.6-.7H3.5v-4.4c0-.3.2-.5.5-.5h16c.3,0,.5.2.5.5ZM8.1,14.8l2.8-2.8-2.8-2.8,1.1-1.1,2.8,2.8,2.8-2.8,1.1,1.1-2.8,2.8,2.8,2.8-1.1,1.1-2.8-2.8-2.8,2.8-1.1-1.1Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const tableColumnDelete = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M2,4v16c0,1.1.9,2,2,2h16c1.1,0,2-.9,2-2V4c0-1.1-.9-2-2-2H4c-1.1,0-2,.9-2,2ZM4,3.5h4.4v4.1s.7-.6.7-.6l.8.6V3.5h4.2v4.1s.7-.6.7-.6l.7.6V3.5h4.4c.3,0,.5.2.5.5v16c0,.3-.3.5-.6.5h-4.3v-4.1s-.7.6-.7.6l-.7-.6v4.1h-4.2v-4.1s-.8.6-.8.6l-.7-.6v4.1h-4.4c-.3,0-.5-.2-.5-.5V4c0-.3.2-.5.5-.5ZM14.8,15.9l-2.8-2.8-2.8,2.8-1.1-1.1,2.8-2.8-2.8-2.8,1.1-1.1,2.8,2.8,2.8-2.8,1.1,1.1-2.8,2.8,2.8,2.8-1.1,1.1Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const tableMergeCell = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M2,20V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2ZM8.2,3.5h-4.2c-.3,0-.5.2-.5.5v3.5h4.7V3.5ZM14.2,3.5h-4.5v4h4.5s0-4,0-4ZM20,3.5h-4.3v4h4.8v-3.5c0-.3-.2-.5-.5-.5ZM19,10.5H5v3h14v-3ZM8.2,16.5H3.5v3.5c0,.3.2.5.5.5h4.2v-4ZM14.2,16.5h-4.5v4h4.5s0-4,0-4ZM20.5,16.5h-4.8v4h4.3c.3,0,.5-.2.5-.5v-3.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const tableSplitCell = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M2,20V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2ZM4,3.5c-.3,0-.5.2-.5.5v3.5h17v-3.5c0-.3-.2-.5-.5-.5H4ZM15.2,13.5h3.8v-3h-3.8v3ZM10.2,10.5v3h3.5v-3h-3.5ZM8.7,10.5h-3.7v3h3.7v-3ZM20,20.5c.3,0,.5-.2.5-.5v-3.5H3.5v3.5c0,.3.2.5.5.5h16Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const borderSeparate = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M9.2,3h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM9.2,9.8h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z\" />\r\n\t\t<Path d=\"M19,3h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM19,9.8h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z\" />\r\n\t\t<Path d=\"M9.2,12.8h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM9.2,19.5h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z\" />\r\n\t\t<Path d=\"M19,12.7h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM19,19.5h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const borderCollapse = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M19,3H5c-1.1,0-2,.9-2,2v14c0,1.1.9,2,2,2h14c1.1,0,2-.9,2-2V5c0-1.1-.9-2-2-2ZM5,19.5c-.3,0-.5-.2-.5-.5v-6.2h6.8v6.8M11.2,11.2h-6.8v-6.2c0-.3.2-.5.5-.5h6.2v6.8ZM19.5,19c0,.3-.2.5-.5.5h-6.2v-6.8h6.8v6.2c.1,0,0,0,0,0ZM19.5,11.2h-6.8v-6.8h6.2c.3,0,.5.2.5.5v6.2Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const borderSolid = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<path d=\"M4,11.2h16v1.5H4v-1.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const borderDotted = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Circle cx=\"6\" cy=\"12\" r=\"2\" />\r\n\t\t<Circle cx=\"18\" cy=\"12\" r=\"2\" />\r\n\t\t<Circle cx=\"12\" cy=\"12\" r=\"2\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const borderDashed = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M4,11.2h4v1.5h-4v-1.5Z\" />\r\n\t\t<Path d=\"M16,11.2h4v1.5h-4v-1.5Z\" />\r\n\t\t<Path d=\"M10,11.2h4v1.5h-4v-1.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const borderDouble = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M4,9.2h16v1.5H4v-1.5Z\" />\r\n\t\t<Path d=\"M4,13.2h16v1.5H4v-1.5Z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { registerBlockType } from '@wordpress/blocks';\r\nimport { InspectorControls } from '@wordpress/block-editor';\r\nimport { addFilter } from '@wordpress/hooks';\r\nimport { createHigherOrderComponent } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport './store';\r\nimport './style.scss';\r\nimport metadata from './block.json';\r\nimport example from './example';\r\nimport { blockIcon as icon } from './icons';\r\nimport edit from './edit';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\nimport deprecated from './deprecated';\r\n\r\n// Register block.\r\nconst config = {\r\n\ttitle: __('Table', 'comet'),\r\n\tcategory: 'text',\r\n\tdescription: __('Create structured content in rows and columns to display tabular data.', 'comet'),\r\n\ticon,\r\n\texample,\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n\tstyles: [\r\n\t\t{\r\n\t\t\tname: 'stripes',\r\n\t\t\tlabel: __('Stripes', 'comet'),\r\n\t\t},\r\n\t],\r\n};\r\nregisterBlockType(metadata.name, config);\r\n\r\nconst withInspectorControls = createHigherOrderComponent((BlockEdit) => {\r\n\treturn (props) => {\r\n\t\tconst { name } = props;\r\n\r\n\t\tif (name !== 'comet/table') {\r\n\t\t\treturn <BlockEdit {...props} />;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<InspectorControls/>\r\n\t\t\t\t<BlockEdit {...props} />\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n}, 'withInspectorControl');\r\n\r\naddFilter(\r\n\t'editor.BlockEdit',\r\n\t'comet/tableWithInspectorControls',\r\n\twithInspectorControls\r\n);\r\n","/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\nimport type { Properties } from 'csstype';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\tuseBlockProps,\r\n\t// @ts-ignore: has no exported member\r\n\t__experimentalGetColorClassesAndStyles as getColorClassesAndStyles,\r\n} from '@wordpress/block-editor';\r\nimport type { BlockSaveProps } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { convertToObject } from './utils/style-converter';\r\nimport { toInteger } from './utils/helper';\r\nimport type { BlockAttributes, SectionName, Row } from './BlockAttributes';\r\n\r\nexport default function save({ attributes }: BlockSaveProps<BlockAttributes>) {\r\n\tconst {\r\n\t\ttableStyles,\r\n\t\tisStackedOnMobile,\r\n\t\tsticky,\r\n\t\thead,\r\n\t\tbody,\r\n\t\tfoot,\r\n\t\tcaption,\r\n\t\tcaptionPosition,\r\n\t\tcaptionStyles,\r\n\t} = attributes;\r\n\r\n\tconst isEmpty: boolean = !head.length && !body.length && !foot.length;\r\n\r\n\tif (isEmpty) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst tableStylesObj: Properties = convertToObject(tableStyles);\r\n\tconst captionStylesObj: Properties = convertToObject(captionStyles);\r\n\r\n\tconst colorProps = getColorClassesAndStyles(attributes);\r\n\r\n\tconst blockProps = useBlockProps.save();\r\n\r\n\tconst tableClasses: string = clsx(colorProps.className, {\r\n\t\t'is-stacked-on-mobile': isStackedOnMobile,\r\n\t\t[`is-sticky-${sticky}`]: sticky,\r\n\t});\r\n\r\n\tconst hasCaption: boolean = !RichText.isEmpty(caption || '');\r\n\r\n\tconst Section = ({ type, rows }: { type: SectionName; rows: Row[] }) => {\r\n\t\tif (!rows.length) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst Tag = `t${type}` as const;\r\n\r\n\t\treturn (\r\n\t\t\t<Tag>\r\n\t\t\t\t{rows.map(({ cells }, rowIndex) => (\r\n\t\t\t\t\t<tr key={rowIndex}>\r\n\t\t\t\t\t\t{cells.map(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{ content, tag, className, id, headers, scope, rowSpan, colSpan, styles },\r\n\t\t\t\t\t\t\t\tcellIndex\r\n\t\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\t\t\t\tkey={cellIndex}\r\n\t\t\t\t\t\t\t\t\ttagName={tag}\r\n\t\t\t\t\t\t\t\t\tclassName={className || undefined}\r\n\t\t\t\t\t\t\t\t\tid={(tag === 'th' && id) || undefined}\r\n\t\t\t\t\t\t\t\t\theaders={headers || undefined}\r\n\t\t\t\t\t\t\t\t\tscope={(tag === 'th' && scope) || undefined}\r\n\t\t\t\t\t\t\t\t\tvalue={content}\r\n\t\t\t\t\t\t\t\t\trowSpan={toInteger(rowSpan) > 1 ? toInteger(rowSpan) : undefined}\r\n\t\t\t\t\t\t\t\t\tcolSpan={toInteger(colSpan) > 1 ? toInteger(colSpan) : undefined}\r\n\t\t\t\t\t\t\t\t\tstyle={convertToObject(styles)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t))}\r\n\t\t\t</Tag>\r\n\t\t);\r\n\t};\r\n\r\n\tconst Caption = () => (\r\n\t\t<RichText.Content tagName=\"figcaption\" value={caption || ''} style={captionStylesObj}/>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<figure {...blockProps}>\r\n\t\t\t{hasCaption && 'top' === captionPosition && <Caption/>}\r\n\t\t\t<table\r\n\t\t\t\tclassName={tableClasses ?? undefined}\r\n\t\t\t\tstyle={{ ...tableStylesObj, ...colorProps.style }}\r\n\t\t\t>\r\n\t\t\t\t<Section type=\"head\" rows={head}/>\r\n\t\t\t\t<Section type=\"body\" rows={body}/>\r\n\t\t\t\t<Section type=\"foot\" rows={foot}/>\r\n\t\t\t</table>\r\n\t\t\t{hasCaption && 'bottom' === captionPosition && <Caption/>}\r\n\t\t</figure>\r\n\t);\r\n}\r\n","export { default as TableSettings } from './table-settings';\r\nexport { default as TableCaptionSettings } from './table-caption-settings';\r\nexport { default as TableCellSettings } from './table-cell-settings';\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { Properties } from 'csstype';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tFlex,\r\n\t__experimentalToggleGroupControl as ToggleGroupControl,\r\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\r\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\r\n} from '@wordpress/components';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { TEXT_ALIGNMENT_CONTROLS, CAPTION_POSITION_CONTROLS } from '../constants';\r\nimport { convertToInline } from '../utils/style-converter';\r\nimport type { captionPositionValue, BlockAttributes } from '../BlockAttributes';\r\n\r\ntype Props = {\r\n\tattributes: BlockAttributes;\r\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\r\n\tcaptionStylesObj: Properties;\r\n};\r\n\r\nexport default function TableCaptionSettings({ attributes, setAttributes, captionStylesObj }: Props) {\r\n\tconst { captionPosition } = attributes;\r\n\r\n\tconst onChangePosition = (value: string | number | undefined) => {\r\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\t\tconst isAllowedValue = (_value: any): _value is captionPositionValue => {\r\n\t\t\treturn CAPTION_POSITION_CONTROLS.some((control) => control.value === _value);\r\n\t\t};\r\n\t\tif (isAllowedValue(value)) {\r\n\t\t\tsetAttributes({ captionPosition: value });\r\n\t\t}\r\n\t};\r\n\r\n\tconst onChangeAlign = (value: string | number | undefined) => {\r\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\t\tconst isAllowedValue = (_value: any): _value is Properties[ 'textAlign' ] => {\r\n\t\t\treturn !value || TEXT_ALIGNMENT_CONTROLS.some((control) => control.value === _value);\r\n\t\t};\r\n\t\tif (isAllowedValue(value)) {\r\n\t\t\tconst newStylesObj = {\r\n\t\t\t\t...captionStylesObj,\r\n\t\t\t\ttextAlign: value === captionStylesObj.textAlign ? undefined : value,\r\n\t\t\t};\r\n\t\t\tsetAttributes({\r\n\t\t\t\tcaptionStyles: convertToInline(newStylesObj),\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Flex wrap={false} align=\"flex-start\">\r\n\t\t\t<ToggleGroupControl\r\n\t\t\t\tlabel={__('Position', 'comet')}\r\n\t\t\t\tvalue={captionPosition}\r\n\t\t\t\tonChange={onChangePosition}\r\n\t\t\t\tisBlock\r\n\t\t\t>\r\n\t\t\t\t{CAPTION_POSITION_CONTROLS.map(({ label, value }) => (\r\n\t\t\t\t\t<ToggleGroupControlOption key={value} value={value} label={label}/>\r\n\t\t\t\t))}\r\n\t\t\t</ToggleGroupControl>\r\n\t\t\t<ToggleGroupControl\r\n\t\t\t\tlabel={__('Text alignment', 'comet')}\r\n\t\t\t\tvalue={captionStylesObj?.textAlign}\r\n\t\t\t\tisDeselectable\r\n\t\t\t\tonChange={onChangeAlign}\r\n\t\t\t\tisBlock\r\n\t\t\t>\r\n\t\t\t\t{TEXT_ALIGNMENT_CONTROLS.map(({ icon, label, value }) => (\r\n\t\t\t\t\t<ToggleGroupControlOptionIcon\r\n\t\t\t\t\t\tkey={value}\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</ToggleGroupControl>\r\n\t\t</Flex>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { Property } from 'csstype';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { createInterpolateElement } from '@wordpress/element';\r\nimport {\r\n\tBaseControl,\r\n\tFlex,\r\n\tTextControl,\r\n\t__experimentalToggleGroupControl as ToggleGroupControl,\r\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\r\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\r\n\t__experimentalUnitControl as UnitControl,\r\n\t__experimentalUseCustomUnits as useCustomUnits, SelectControl,\r\n} from '@wordpress/components';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tCELL_WIDTH_UNITS,\r\n\tCELL_TAG_CONTROLS,\r\n\tCELL_SCOPE_CONTROLS,\r\n\tTEXT_ALIGNMENT_CONTROLS,\r\n\tVERTICAL_ALIGNMENT_CONTROLS,\r\n} from '../constants';\r\nimport {\r\n\tColorControl,\r\n} from '../controls';\r\nimport {\r\n\ttoTableAttributes,\r\n\tupdateCells,\r\n\ttype VTable,\r\n\ttype VSelectedCells,\r\n} from '../utils/table-state';\r\nimport { convertToObject } from '../utils/style-converter';\r\nimport { sanitizeUnitValue } from '../utils/helper';\r\nimport type {\r\n\tCellTagValue,\r\n\tCellScopeValue,\r\n\tSectionName,\r\n\tBlockAttributes,\r\n} from '../BlockAttributes';\r\n\r\ntype Props = {\r\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\r\n\tvTable: VTable;\r\n\tselectedCells: VSelectedCells;\r\n};\r\n\r\nexport default function TableCellSettings({ setAttributes, vTable, selectedCells = [] }: Props) {\r\n\tconst cellWidthUnits = useCustomUnits({ availableUnits: CELL_WIDTH_UNITS });\r\n\r\n\tif (!selectedCells.length) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst { sectionName, rowIndex, vColIndex } = selectedCells[0];\r\n\r\n\tconst targetCell = vTable[sectionName as SectionName][rowIndex].cells[vColIndex];\r\n\r\n\tif (!targetCell) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst selectedCellTags = selectedCells.reduce((result: CellTagValue[], selectedCell) => {\r\n\t\tconst { tag } =\r\n\t\t\tvTable[selectedCell.sectionName][selectedCell.rowIndex].cells[selectedCell.vColIndex];\r\n\t\tif (!result.includes(tag)) {\r\n\t\t\tresult.push(tag);\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}, []);\r\n\r\n\tconst cellStylesObj = convertToObject(targetCell.styles);\r\n\r\n\tconst updateCellsState = (state: {\r\n\t\tstyles?: Object;\r\n\t\ttag?: CellTagValue;\r\n\t\tclassName?: string;\r\n\t\tid?: string;\r\n\t\theaders?: string;\r\n\t\tscope?: CellScopeValue;\r\n\t}) => {\r\n\t\tconst newVTable = updateCells(vTable, state, selectedCells);\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t};\r\n\r\n\tconst onChangeBackgroundColor = (value: Property.BackgroundColor) => {\r\n\t\tupdateCellsState({ styles: { backgroundColor: value } });\r\n\t};\r\n\r\n\tconst onChangeWidth = (value: string | number | undefined) => {\r\n\t\tupdateCellsState({ styles: { width: sanitizeUnitValue(value) } });\r\n\t};\r\n\r\n\tconst onChangeTextAlign = (value: string | number | undefined) => {\r\n\t\tupdateCellsState({\r\n\t\t\tstyles: { textAlign: value === cellStylesObj.textAlign ? undefined : value },\r\n\t\t});\r\n\t};\r\n\r\n\tconst onChangeVerticalAlign = (value: string | number | undefined) => {\r\n\t\tupdateCellsState({\r\n\t\t\tstyles: { verticalAlign: value === cellStylesObj.verticalAlign ? undefined : value },\r\n\t\t});\r\n\t};\r\n\r\n\tconst onChangeTag = (value: string | number | undefined) => {\r\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\t\tconst isAllowedTag = (_value: any): _value is CellTagValue => {\r\n\t\t\treturn CELL_TAG_CONTROLS.some((control) => control.value === _value);\r\n\t\t};\r\n\t\tif (isAllowedTag(value)) {\r\n\t\t\tupdateCellsState({ tag: value, id: undefined, headers: undefined, scope: undefined });\r\n\t\t}\r\n\t};\r\n\r\n\tconst onChangeClass = (value: string) => {\r\n\t\tupdateCellsState({ className: value !== '' ? value : undefined });\r\n\t};\r\n\r\n\tconst onChangeId = (value: string) => {\r\n\t\tupdateCellsState({ id: value !== '' ? value : undefined });\r\n\t};\r\n\r\n\tconst onChangeHeaders = (value: string) => {\r\n\t\tupdateCellsState({ headers: value !== '' ? value : undefined });\r\n\t};\r\n\r\n\tconst onChangeScope = (value: CellScopeValue) => {\r\n\t\tupdateCellsState({ scope: value === targetCell.scope ? undefined : value });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ToggleGroupControl\r\n\t\t\t\tlabel={__('Cell type', 'comet')}\r\n\t\t\t\tvalue={targetCell.tag}\r\n\t\t\t\tisBlock\r\n\t\t\t\tonChange={onChangeTag}\r\n\t\t\t>\r\n\t\t\t\t{CELL_TAG_CONTROLS.map(({ label, value }) => (\r\n\t\t\t\t\t<ToggleGroupControlOption key={value} value={value} label={label}/>\r\n\t\t\t\t))}\r\n\t\t\t</ToggleGroupControl>\r\n\t\t\t{selectedCellTags.length === 1 && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{selectedCellTags.includes('th') && (\r\n\t\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t\tlabel={__('Scope', 'comet')}\r\n\t\t\t\t\t\t\tvalue={targetCell.scope}\r\n\t\t\t\t\t\t\toptions={CELL_SCOPE_CONTROLS.map(({ label, value }) => {\r\n\t\t\t\t\t\t\t\treturn { label, value };\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t/** @ts-expect-error TS2322 Type string is not assignable to type \"col\" | \"colgroup\" | \"row\" | \"rowgroup\" */\r\n\t\t\t\t\t\t\tonChange={onChangeScope}\r\n\t\t\t\t\t\t\thelp=\"Does this label its row or column?\"\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{selectedCellTags.includes('th') && (\r\n\t\t\t\t\t\t<UnitControl\r\n\t\t\t\t\t\t\tlabel={__('Column width', 'comet')}\r\n\t\t\t\t\t\t\tvalue={cellStylesObj?.width}\r\n\t\t\t\t\t\t\tunits={cellWidthUnits}\r\n\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\tonChange={onChangeWidth}\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{selectedCellTags.includes('th') && (\r\n\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\tlabel={__('Unique ID', 'comet')}\r\n\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\tvalue={targetCell.id || ''}\r\n\t\t\t\t\t\t\tonChange={onChangeId}\r\n\t\t\t\t\t\t\thelp=\"No spaces; must start with a letter\"\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{selectedCellTags.includes('td') && (\r\n\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\tlabel={createInterpolateElement(\r\n\t\t\t\t\t\t\t\t__('<code>headers</code> attribute', 'comet'),\r\n\t\t\t\t\t\t\t\t{ code: <code/> }\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\tvalue={targetCell.headers || ''}\r\n\t\t\t\t\t\t\tonChange={onChangeHeaders}\r\n\t\t\t\t\t\t\thelp=\"Unique ID of a header cell to associate with this cell\"\r\n\t\t\t\t\t\t/>)}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t\t<hr/>\r\n\t\t\t<BaseControl id=\"comet-cell-text-align\">\r\n\t\t\t\t<div aria-labelledby=\"comet-cell-text-align-heading\" role=\"group\">\r\n\t\t\t\t\t<Flex style={{ marginBottom: '-16px' }} justify=\"start\" align=\"start\">\r\n\t\t\t\t\t\t<ToggleGroupControl\r\n\t\t\t\t\t\t\tlabel={__('Text alignment', 'comet')}\r\n\t\t\t\t\t\t\tvalue={cellStylesObj?.textAlign}\r\n\t\t\t\t\t\t\tisDeselectable\r\n\t\t\t\t\t\t\tonChange={onChangeTextAlign}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{TEXT_ALIGNMENT_CONTROLS.map(({ icon, label, value }) => (\r\n\t\t\t\t\t\t\t\t<ToggleGroupControlOptionIcon\r\n\t\t\t\t\t\t\t\t\tkey={value}\r\n\t\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ToggleGroupControl>\r\n\t\t\t\t\t\t<ToggleGroupControl\r\n\t\t\t\t\t\t\tlabel={__('Vertical alignment', 'comet')}\r\n\t\t\t\t\t\t\tvalue={cellStylesObj?.verticalAlign}\r\n\t\t\t\t\t\t\tisDeselectable\r\n\t\t\t\t\t\t\tonChange={onChangeVerticalAlign}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{VERTICAL_ALIGNMENT_CONTROLS.map(({ icon, label, value }) => (\r\n\t\t\t\t\t\t\t\t<ToggleGroupControlOptionIcon\r\n\t\t\t\t\t\t\t\t\tkey={value}\r\n\t\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ToggleGroupControl>\r\n\t\t\t\t\t</Flex>\r\n\t\t\t\t</div>\r\n\t\t\t</BaseControl>\r\n\t\t\t<hr/>\r\n\t\t\t<ColorControl\r\n\t\t\t\tlabel={__('Cell background', 'comet')}\r\n\t\t\t\tvalue={cellStylesObj.backgroundColor}\r\n\t\t\t\tonChange={onChangeBackgroundColor}\r\n\t\t\t/>\r\n\t\t\t<TextControl\r\n\t\t\t\tlabel={__('Cell CSS class(es)', 'comet')}\r\n\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\tvalue={targetCell.className || ''}\r\n\t\t\t\tonChange={onChangeClass}\r\n\t\t\t\thelp={__('Separate multiple classes with spaces.', 'comet')}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { Properties } from 'csstype';\r\nimport type { Dispatch, SetStateAction } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { SelectControl, ToggleControl } from '@wordpress/components';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tSTICKY_CONTROLS,\r\n} from '../constants';\r\nimport {\r\n\ttoggleSection,\r\n\ttoTableAttributes,\r\n\ttype VTable,\r\n\ttype VSelectedCells,\r\n\ttype VSelectedLine,\r\n} from '../utils/table-state';\r\nimport type { StickyValue, BlockAttributes } from '../BlockAttributes';\r\n\r\ntype Props = {\r\n\tattributes: BlockAttributes;\r\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\r\n\tvTable: VTable;\r\n\tsetSelectedCells: Dispatch<SetStateAction<VSelectedCells>>;\r\n\tsetSelectedLine: Dispatch<SetStateAction<VSelectedLine>>;\r\n\ttableStylesObj: Properties;\r\n};\r\n\r\nexport default function TableSettings({\r\n\tattributes,\r\n\tsetAttributes,\r\n\tvTable,\r\n\tsetSelectedCells,\r\n\tsetSelectedLine\r\n}: Props) {\r\n\tconst { isStackedOnMobile, sticky, head, foot } =\r\n\t\tattributes;\r\n\r\n\tconst onChangeIsStackedOnMobile = () => {\r\n\t\tsetAttributes({ isStackedOnMobile: !isStackedOnMobile });\r\n\t};\r\n\r\n\tconst onChangeSticky = (value: string) => {\r\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\t\tconst isAllowedValue = (_value: any): _value is StickyValue => {\r\n\t\t\treturn !value || STICKY_CONTROLS.some((control) => control.value === _value);\r\n\t\t};\r\n\t\tif (isAllowedValue(value)) {\r\n\t\t\tsetAttributes({ sticky: 'none' === value ? undefined : value });\r\n\t\t}\r\n\t};\r\n\r\n\tconst onToggleHeaderSection = () => {\r\n\t\tconst newVTable = toggleSection(vTable, 'head');\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onToggleFooterSection = () => {\r\n\t\tconst newVTable = toggleSection(vTable, 'foot');\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ToggleControl\r\n\t\t\t\tlabel={__('Header section (<thead>)', 'comet')}\r\n\t\t\t\tchecked={!!(head && head.length)}\r\n\t\t\t\tonChange={onToggleHeaderSection}\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t/>\r\n\t\t\t<ToggleControl\r\n\t\t\t\tlabel={__('Footer section (<tfoot>)', 'comet')}\r\n\t\t\t\tchecked={!!(foot && foot.length)}\r\n\t\t\t\tonChange={onToggleFooterSection}\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t/>\r\n\t\t\t<ToggleControl\r\n\t\t\t\tlabel={__('Stack when adapting to a narrow container or viewport', 'comet')}\r\n\t\t\t\tclassName=\"ftb-toggle-control\"\r\n\t\t\t\tchecked={isStackedOnMobile}\r\n\t\t\t\tonChange={onChangeIsStackedOnMobile}\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t/>\r\n\t\t\t<SelectControl\r\n\t\t\t\tlabel={__('Fixed headers', 'comet')}\r\n\t\t\t\tvalue={sticky}\r\n\t\t\t\toptions={STICKY_CONTROLS.map(({ label, value }) => {\r\n\t\t\t\t\treturn { label, value };\r\n\t\t\t\t})}\r\n\t\t\t\tonChange={onChangeSticky}\r\n\t\t\t\tsize=\"__unstable-large\"\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { AnyAction as Action } from 'redux';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport { createReduxStore, register } from '@wordpress/data';\r\nimport type { NoticeProps } from '@wordpress/components/build-types/notice/types';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { STORE_NAME, REST_API_ROUTE } from './constants';\r\n\r\nexport interface ApiResponse {\r\n\tstatus?: NoticeProps['status'];\r\n\tmessage?: string;\r\n\toptions?: StoreOptions;\r\n\t \r\n\tblock_css?: string;\r\n}\r\n\r\nexport interface StoreOptions {\r\n\t \r\n\tblock_style: {\r\n\t\tcell_background_color_th?: string;\r\n\t\tcell_background_color_td?: string;\r\n\t\tcell_text_align?: string;\r\n\t\tcell_vertical_align?: string;\r\n\t};\r\n\t \r\n}\r\n\r\nconst DEFAULT_STATE = {\r\n\toptions: {},\r\n};\r\n\r\nconst actions = {\r\n\tgetOptions( path: string ) {\r\n\t\treturn {\r\n\t\t\ttype: 'GET_OPTIONS',\r\n\t\t\tpath,\r\n\t\t};\r\n\t},\r\n\tsetOptions( options: StoreOptions ) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_OPTIONS',\r\n\t\t\toptions,\r\n\t\t};\r\n\t},\r\n};\r\n\r\nconst reducer = ( state = DEFAULT_STATE, action: Action ) => {\r\n\tswitch ( action.type ) {\r\n\t\tcase 'SET_OPTIONS': {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\toptions: action.options,\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault: {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst selectors = {\r\n\tgetOptions( state: { options: StoreOptions } ) {\r\n\t\tconst { options } = state;\r\n\r\n\t\treturn options;\r\n\t},\r\n};\r\n\r\nconst controls = {\r\n\tGET_OPTIONS(action: Action) {\r\n\t\treturn apiFetch<ApiResponse>( { path: action.path } );\r\n\t},\r\n};\r\n\r\nconst resolvers = {\r\n\t*getOptions() {\r\n\t\tconst options: StoreOptions = yield actions.getOptions( REST_API_ROUTE );\r\n\r\n\t\treturn actions.setOptions( options );\r\n\t},\r\n};\r\n\r\nconst store = createReduxStore( STORE_NAME, {\r\n\treducer,\r\n\tcontrols,\r\n\tselectors,\r\n\tresolvers,\r\n\tactions,\r\n} );\r\n\r\nregister(store);\r\n\r\nexport { STORE_NAME };\r\n","// extracted by mini-css-extract-plugin\nexport {};","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock, store as blocksStore, type TransformBlock } from '@wordpress/blocks';\r\nimport { select } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { splitMergedCell, toVirtualRows, toVirtualTable, type VCell } from './utils/table-state';\r\nimport { normalizeRowColSpan } from './utils/helper';\r\nimport type { BlockAttributes, CoreTableCell, CoreTableBlockAttributes } from './BlockAttributes';\r\n\r\ninterface Transforms {\r\n\treadonly from: ReadonlyArray< TransformBlock< CoreTableBlockAttributes > >;\r\n\treadonly to: ReadonlyArray< TransformBlock< BlockAttributes > >;\r\n}\r\n\r\nconst transforms: Transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/table' ],\r\n\t\t\ttransform: ( attributes ) => {\r\n\t\t\t\tconst { hasFixedLayout, head, body, foot, caption, style } = attributes;\r\n\r\n\t\t\t\t// Mapping rowspan and colspan properties.\r\n\t\t\t\tconst convertedSections = ( section: { cells: CoreTableCell[] }[] ) => {\r\n\t\t\t\t\tif ( ! section.length ) {\r\n\t\t\t\t\t\treturn section;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn section.map( ( row ) => {\r\n\t\t\t\t\t\tif ( ! row.cells.length ) {\r\n\t\t\t\t\t\t\treturn row;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tcells: row.cells.map( ( cell ) => {\r\n\t\t\t\t\t\t\t\tconst { content, tag, colspan, rowspan } = cell;\r\n\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\t\t\t\ttag,\r\n\t\t\t\t\t\t\t\t\tcolSpan: normalizeRowColSpan( colspan ),\r\n\t\t\t\t\t\t\t\t\trowSpan: normalizeRowColSpan( rowspan ),\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t} ),\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} );\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn createBlock( 'flexible-table-block/table', {\r\n\t\t\t\t\thead: convertedSections( head ),\r\n\t\t\t\t\tbody: convertedSections( body ),\r\n\t\t\t\t\tfoot: convertedSections( foot ),\r\n\t\t\t\t\thasFixedLayout,\r\n\t\t\t\t\tcaption,\r\n\t\t\t\t\tstyle,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/table' ],\r\n\t\t\ttransform: ( attributes ) => {\r\n\t\t\t\t// Check if the core table block supports rowspan and colspan.\r\n\t\t\t\tconst {\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tgetBlockType,\r\n\t\t\t\t} = select( blocksStore );\r\n\t\t\t\tconst blockType = getBlockType( 'core/table' );\r\n\t\t\t\tconst hasRowColSpanSupport =\r\n\t\t\t\t\t!! blockType.attributes.head.query.cells.query.rowspan &&\r\n\t\t\t\t\t!! blockType.attributes.head.query.cells.query.colspan;\r\n\r\n\t\t\t\t// Create virtual object array with the cells placed in positions based on how they actually look.\r\n\t\t\t\tlet vTable = toVirtualTable( attributes );\r\n\r\n\t\t\t\t// Find rowspan & colspan cells.\r\n\t\t\t\tconst vRows = toVirtualRows( vTable );\r\n\t\t\t\tconst rowColSpanCells = vRows\r\n\t\t\t\t\t.reduce( ( cells: VCell[], row ) => cells.concat( row.cells ), [] )\r\n\t\t\t\t\t.filter( ( { rowSpan, colSpan } ) => rowSpan > 1 || colSpan > 1 );\r\n\r\n\t\t\t\t// Split the found rowspan and colspan cells If the core table block doesn't support it.\r\n\t\t\t\tif ( rowColSpanCells.length && ! hasRowColSpanSupport ) {\r\n\t\t\t\t\trowColSpanCells.forEach( ( cell ) => {\r\n\t\t\t\t\t\tvTable = splitMergedCell( vTable, cell );\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Convert to core table block attributes.\r\n\t\t\t\tconst sectionAttributes = Object.entries( vTable ).reduce(\r\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\t\t\t\t\t( coreTableAttributes: any, [ sectionName, section ] ) => {\r\n\t\t\t\t\t\tif ( ! section.length ) {\r\n\t\t\t\t\t\t\treturn coreTableAttributes;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tconst newSection = section.map( ( { cells } ) => ( {\r\n\t\t\t\t\t\t\tcells: cells\r\n\t\t\t\t\t\t\t\t// Delete cells marked as deletion.\r\n\t\t\t\t\t\t\t\t.filter( ( cell ) => ! cell.isHidden )\r\n\t\t\t\t\t\t\t\t// Keep only the properties needed.\r\n\t\t\t\t\t\t\t\t.map( ( cell ) => ( {\r\n\t\t\t\t\t\t\t\t\tcontent: cell.content,\r\n\t\t\t\t\t\t\t\t\ttag: 'head' === cell.sectionName ? 'th' : 'td',\r\n\t\t\t\t\t\t\t\t\trowspan: hasRowColSpanSupport ? normalizeRowColSpan( cell.rowSpan ) : undefined,\r\n\t\t\t\t\t\t\t\t\tcolspan: hasRowColSpanSupport ? normalizeRowColSpan( cell.colSpan ) : undefined,\r\n\t\t\t\t\t\t\t\t} ) ),\r\n\t\t\t\t\t\t} ) );\r\n\t\t\t\t\t\tcoreTableAttributes[ sectionName ] = newSection;\r\n\r\n\t\t\t\t\t\treturn coreTableAttributes;\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{}\r\n\t\t\t\t);\r\n\r\n\t\t\t\treturn createBlock( 'core/table', {\r\n\t\t\t\t\t...sectionAttributes,\r\n\t\t\t\t\thasFixedLayout: attributes.hasFixedLayout,\r\n\t\t\t\t\tcaption: attributes.caption,\r\n\t\t\t\t\tstyle: attributes.style,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { PropertyValue } from 'csstype';\r\n\r\nconst DEFAULT_PRECISION: number = 4;\r\n\r\n// Array with four values for CSS\r\nexport type FourCssValues = [ string, string, string, string ];\r\n\r\n// sanitizeUnitValue function option\r\ninterface SanitizeOptions {\r\n\tminNum?: number;\r\n\tmaxNum?: number;\r\n\tprecision?: number;\r\n}\r\n\r\n/**\r\n * Removed falsy values from nested object.\r\n *\r\n * @param object Nested object.\r\n * @return Object cleaned from falsy values.\r\n */\r\nexport function cleanEmptyObject( object: {} ): {} | undefined {\r\n\tif ( object === null || typeof object !== 'object' || Array.isArray( object ) ) {\r\n\t\treturn object;\r\n\t}\r\n\r\n\tconst cleanedNestedObjects = Object.entries( object )\r\n\t\t.map( ( [ key, value ] ) => [ key, cleanEmptyObject( value ) ] )\r\n\t\t.filter( ( [ , value ] ) => value !== undefined );\r\n\r\n\treturn ! cleanedNestedObjects.length ? undefined : Object.fromEntries( cleanedNestedObjects );\r\n}\r\n\r\n/**\r\n * Convert short-hand/long-hand CSS values into an array with four values.\r\n *\r\n * @param cssValue CSS value.\r\n * @return Array with four values.\r\n */\r\nexport function parseCssValue( cssValue: string ): FourCssValues {\r\n\tconst cssValues: string[] = cssValue.split( ' ' ).map( ( value: string ) => value.toLowerCase() );\r\n\r\n\tswitch ( cssValues.length ) {\r\n\t\tcase 1:\r\n\t\t\treturn [ cssValues[ 0 ], cssValues[ 0 ], cssValues[ 0 ], cssValues[ 0 ] ];\r\n\t\tcase 2:\r\n\t\t\treturn [ cssValues[ 0 ], cssValues[ 1 ], cssValues[ 0 ], cssValues[ 1 ] ];\r\n\t\tcase 3:\r\n\t\t\treturn [ cssValues[ 0 ], cssValues[ 1 ], cssValues[ 2 ], cssValues[ 1 ] ];\r\n\t\tcase 4:\r\n\t\t\treturn [ cssValues[ 0 ], cssValues[ 1 ], cssValues[ 2 ], cssValues[ 3 ] ];\r\n\t\tdefault:\r\n\t\t\treturn [ '', '', '', '' ];\r\n\t}\r\n}\r\n\r\n/**\r\n * Sanitize the value of UnitControl.\r\n *\r\n * @param initialValue      UnitControl value.\r\n * @param options           Sanitize options.\r\n * @param options.minNum    Minimum number.\r\n * @param options.maxNum    Minimum number.\r\n * @param options.precision Precision.\r\n * @return Sanitized UnitControl value.\r\n */\r\nexport function sanitizeUnitValue(\r\n\tinitialValue: PropertyValue< string | number > | undefined,\r\n\toptions?: SanitizeOptions\r\n): string {\r\n\tconst value: string = String( initialValue ).trim();\r\n\tlet num: number = parseFloat( value );\r\n\r\n\tif ( isNaN( num ) ) {\r\n\t\treturn '';\r\n\t}\r\n\telse if ( num < 0 ) {\r\n\t\treturn '';\r\n\t}\r\n\telse if ( num === 0 ) {\r\n\t\treturn '0';\r\n\t}\r\n\r\n\t// Sanitize value.\r\n\tif ( options?.minNum ) {\r\n\t\tnum = Math.max( options.minNum, num );\r\n\t}\r\n\r\n\tif ( options?.maxNum ) {\r\n\t\tnum = Math.min( options.maxNum, num );\r\n\t}\r\n\r\n\tconst modifier = 10 ** ( options?.precision || DEFAULT_PRECISION );\r\n\tnum = Math.round( num * modifier ) / modifier;\r\n\r\n\tconst unit: string = value.match( /[\\d.\\-+]*\\s*(.*)/ )?.[ 1 ] ?? '';\r\n\r\n\treturn `${ num }${ unit.toLowerCase() }`;\r\n}\r\n\r\n/**\r\n * Parses a number and unit from a value.\r\n *\r\n * @param initialValue Value to parse\r\n * @return The extracted number and unit.\r\n */\r\nexport function parseUnit( initialValue: string ): [ number, string ] {\r\n\tconst value: string = String( initialValue ).trim();\r\n\tconst num: number = parseFloat( value );\r\n\r\n\tif ( isNaN( num ) ) {\r\n\t\treturn [ 0, '' ];\r\n\t}\r\n\r\n\tconst unit: string = value.match( /[\\d.\\-+]*\\s*(.*)/ )?.[ 1 ] ?? '';\r\n\r\n\treturn [ num, unit.toLowerCase() ];\r\n}\r\n\r\n// Convert string to number.\r\n// JSDoc is not used because parsing in eslint fails\r\nexport function toInteger( value: number | string | undefined, defaultValue = 0 ): number {\r\n\tif ( ! value ) {\r\n\t\treturn defaultValue;\r\n\t}\r\n\r\n\tconst converted = parseInt( String( value ), 10 );\r\n\r\n\tif ( isNaN( converted ) ) {\r\n\t\treturn defaultValue;\r\n\t}\r\n\r\n\treturn converted || defaultValue;\r\n}\r\n\r\n/**\r\n * Normalize the rowspan/colspan value.\r\n * Returns undefined if the parameter is not a positive number\r\n * or the default value (1) for rowspan/colspan.\r\n *\r\n * @param rowColSpan rowspan/colspan value.\r\n * @return normalized rowspan/colspan value.\r\n */\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport function normalizeRowColSpan( rowColSpan: any ) {\r\n\tconst parsedValue = parseInt( rowColSpan, 10 );\r\n\tif ( ! Number.isInteger( parsedValue ) ) {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\treturn parsedValue < 0 || parsedValue === 1 ? undefined : parsedValue.toString();\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { Properties } from 'csstype';\r\n\r\n/**\r\n * Convert inline CSS styles to object.\r\n *\r\n * @param inlineStyles Inline CSS styles.\r\n * @return CSS styles object.\r\n */\r\nexport function convertToObject( inlineStyles: string | undefined ): Properties {\r\n\tif ( ! inlineStyles ) {\r\n\t\treturn {};\r\n\t}\r\n\r\n\treturn inlineStyles\r\n\t\t.split( ';' )\r\n\t\t.filter( ( style ) => style.split( ':' )[ 0 ] && style.split( ':' )[ 1 ] )\r\n\t\t.map( ( style ) => [\r\n\t\t\tstyle\r\n\t\t\t\t.split( ':' )[ 0 ]\r\n\t\t\t\t.trim()\r\n\t\t\t\t.replace( /-./g, ( c ) => c.substr( 1 ).toUpperCase() ),\r\n\t\t\tstyle.split( ':' )[ 1 ].trim(),\r\n\t\t] )\r\n\t\t.reduce(\r\n\t\t\t( styleObj, style ) => ( {\r\n\t\t\t\t...styleObj,\r\n\t\t\t\t[ style[ 0 ] ]: style[ 1 ],\r\n\t\t\t} ),\r\n\t\t\t{}\r\n\t\t);\r\n}\r\n\r\n/**\r\n * Convert CSS styles object to Inline CSS styles.\r\n *\r\n * @param stylesObj CSS styles object.\r\n * @return Inline CSS styles\r\n */\r\nexport function convertToInline( stylesObj: Properties ): string {\r\n\tconst lines: string[] = Object.keys( stylesObj ).reduce< string[] >(\r\n\t\t( result: string[], key: string ) => {\r\n\t\t\tconst property = key.replace( /([a-z])([A-Z])/g, '$1-$2' ).toLowerCase();\r\n\t\t\tconst value = stylesObj[ key as keyof Properties ];\r\n\r\n\t\t\tif ( value !== undefined && ( typeof value === 'string' || value === 0 ) ) {\r\n\t\t\t\tresult.push( `${ property }:${ value };` );\r\n\t\t\t}\n\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t[] as string[]\r\n\t);\r\n\r\n\treturn lines.join( '' );\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { Properties } from 'csstype';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { convertToInline, convertToObject } from './style-converter';\r\nimport { toInteger } from './helper';\r\nimport type {\r\n\tCellTagValue,\r\n\tCellScopeValue,\r\n\tCell,\r\n\tRow,\r\n\tSectionName,\r\n\tTableAttributes,\r\n} from '../BlockAttributes';\r\n\r\n// Virtual table\r\nexport type VTable = Record<SectionName, VRow[]>;\r\n\r\n// Virtual table section type\r\ntype VSection = VRow[];\r\n\r\n// Virtual table row state\r\nexport interface VRow {\r\n\tcells: VCell[];\r\n}\r\n\r\n// Virtual table cell state\r\nexport interface VCell extends Omit<Cell, 'rowSpan' | 'colSpan'> {\r\n\trowSpan: number;\r\n\tcolSpan: number;\r\n\tsectionName: SectionName;\r\n\trowIndex: number;\r\n\tvColIndex: number;\r\n\tisHidden: boolean;\r\n\tisFirstSelected?: boolean;\r\n\tisFilled?: boolean;\r\n}\r\n\r\n// Virtual table selected line state\r\nexport type VSelectedLine =\r\n\t| { sectionName: SectionName; rowIndex: number }\r\n\t| { vColIndex: number }\r\n\t| undefined;\r\n\r\n// Virtual table selected cells state\r\nexport type VSelectedCells = VCell[] | undefined;\r\n\r\n// Minimum / maximum row / column virtual indexes on virtual table\r\ninterface VRangeIndexes {\r\n\tminRowIndex: number;\r\n\tmaxRowIndex: number;\r\n\tminColIndex: number;\r\n\tmaxColIndex: number;\r\n}\r\n\r\n/**\r\n * Creates a table state.\r\n *\r\n * @param options\r\n * @param options.rowCount      Row count for the table to create.\r\n * @param options.colCount      Column count for the table to create.\r\n * @param options.headerSection With/without header section.\r\n * @param options.footerSection With/without footer section.\r\n * @return New virtual table state.\r\n */\r\nexport function createTable({\r\n\trowCount,\r\n\tcolCount,\r\n\theaderSection,\r\n\tfooterSection,\r\n}: {\r\n\trowCount: number;\r\n\tcolCount: number;\r\n\theaderSection: boolean;\r\n\tfooterSection: boolean;\r\n}) {\r\n\tconst createSection = (rows: number, cols: number, sectionName: SectionName): VSection => {\r\n\t\treturn Array.from({ length: rows }).map(\r\n\t\t\t(_row, rowIndex): VRow => ({\r\n\t\t\t\tcells: Array.from({ length: cols }).map(\r\n\t\t\t\t\t(_col, vColIndex): VCell => ({\r\n\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\ttag: sectionName === 'head' ? 'th' : 'td',\r\n\t\t\t\t\t\trowSpan: 1,\r\n\t\t\t\t\t\tcolSpan: 1,\r\n\t\t\t\t\t\tsectionName,\r\n\t\t\t\t\t\trowIndex,\r\n\t\t\t\t\t\tvColIndex,\r\n\t\t\t\t\t\tisFirstSelected: false,\r\n\t\t\t\t\t\tisHidden: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t),\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\treturn {\r\n\t\thead: createSection(Number(headerSection), colCount, 'head'),\r\n\t\tbody: createSection(rowCount, colCount, 'body'),\r\n\t\tfoot: createSection(Number(footerSection), colCount, 'foot'),\r\n\t};\r\n}\r\n\r\n/**\r\n * Inserts a row in the virtual table state.\r\n *\r\n * @param vTable              Virtual table in which to insert the row.\r\n * @param options\r\n * @param options.sectionName Section in which to insert the row.\r\n * @param options.rowIndex    Row index at which to insert the row.\r\n * @return  New virtual table state.\r\n */\r\n\r\nexport function insertRow(\r\n\tvTable: VTable,\r\n\t{ sectionName, rowIndex }: { sectionName: SectionName; rowIndex: number }\r\n): VTable {\r\n\t// Number of columns in the row to be inserted.\r\n\tconst newRowColCount: number = vTable.body[0].cells.length;\r\n\r\n\tconst vRows: VRow[] = toVirtualRows(vTable);\r\n\r\n\t// Row state to be inserted.\r\n\tconst newRow: VRow = {\r\n\t\tcells: Array.from({ length: newRowColCount }).map((_, vColIndex): VCell => {\r\n\t\t\t// Find the cell with rowspan that covers the cell in the inserted row.\r\n\t\t\tconst rowSpanCells: VCell[] = vRows\r\n\t\t\t\t.reduce((cells: VCell[], row) => cells.concat(row.cells), [])\r\n\t\t\t\t.filter(\r\n\t\t\t\t\t(cell: VCell) =>\r\n\t\t\t\t\t\tcell.sectionName === sectionName &&\r\n\t\t\t\t\t\tcell.rowIndex < rowIndex &&\r\n\t\t\t\t\t\tcell.rowIndex + cell.rowSpan - 1 >= rowIndex &&\r\n\t\t\t\t\t\tcell.vColIndex <= vColIndex &&\r\n\t\t\t\t\t\tvColIndex <= cell.vColIndex + cell.colSpan - 1\r\n\t\t\t\t);\r\n\r\n\t\t\treturn {\r\n\t\t\t\tcontent: '',\r\n\t\t\t\ttag: 'head' === sectionName ? 'th' : 'td',\r\n\t\t\t\trowSpan: 1,\r\n\t\t\t\tcolSpan: 1,\r\n\t\t\t\tsectionName,\r\n\t\t\t\trowIndex,\r\n\t\t\t\tvColIndex,\r\n\t\t\t\tisFirstSelected: false,\r\n\t\t\t\tisHidden: !!rowSpanCells.length,\r\n\t\t\t};\r\n\t\t}),\r\n\t};\r\n\r\n\treturn {\r\n\t\t...vTable,\r\n\t\t[sectionName]: [\r\n\t\t\t...vTable[sectionName].slice(0, rowIndex),\r\n\t\t\tnewRow,\r\n\t\t\t...vTable[sectionName].slice(rowIndex).map(({ cells }) => ({\r\n\t\t\t\tcells: cells.map((cell) => {\r\n\t\t\t\t\t// increment row index.\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\trowIndex: cell.rowIndex + 1,\r\n\t\t\t\t\t};\r\n\t\t\t\t}),\r\n\t\t\t})),\r\n\t\t].map(({ cells }, cRowIndex) => ({\r\n\t\t\tcells: cells.map((cell) => {\r\n\t\t\t\t// Expand cells with rowspan in the before and inserted rows.\r\n\t\t\t\tif (\r\n\t\t\t\t\tcell.sectionName === sectionName &&\r\n\t\t\t\t\tcell.rowSpan > 1 &&\r\n\t\t\t\t\tcRowIndex <= rowIndex &&\r\n\t\t\t\t\tcRowIndex + cell.rowSpan - 1 >= rowIndex\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\tsectionName,\r\n\t\t\t\t\t\trowIndex: cRowIndex,\r\n\t\t\t\t\t\trowSpan: cell.rowSpan + 1,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn cell;\r\n\t\t\t}),\r\n\t\t})),\r\n\t};\r\n}\r\n\r\n/**\r\n * Deletes a row from the virtual table.\r\n *\r\n * @param vTable              Virtual table in which to delete the row.\r\n * @param options\r\n * @param options.sectionName Section in which to delete the row.\r\n * @param options.rowIndex    Row index at which to delete the row.\r\n * @return  New virtual table state.\r\n */\r\nexport function deleteRow(\r\n\tvTable: VTable,\r\n\t{ sectionName, rowIndex }: { sectionName: SectionName; rowIndex: number }\r\n) {\r\n\t// Find the number of rowspan cells in the row to be deleted.\r\n\tconst rowSpanCellsCount: number = vTable[sectionName][rowIndex].cells.filter(\r\n\t\t(cell) => cell.rowSpan > 1\r\n\t).length;\r\n\r\n\t// Split the found rowspan cells.\r\n\tif (rowSpanCellsCount) {\r\n\t\tfor (let i = 0; i < rowSpanCellsCount; i++) {\r\n\t\t\tconst vMergedCells: VCell[] = vTable[sectionName]\r\n\t\t\t\t.reduce((cells: VCell[], row: VRow) => cells.concat(row.cells), [])\r\n\t\t\t\t.filter((cell: VCell) => cell.rowSpan > 1 && cell.rowIndex === rowIndex);\r\n\r\n\t\t\tif (vMergedCells.length) {\r\n\t\t\t\tvTable = splitMergedCell(vTable, vMergedCells[0]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\t...vTable,\r\n\t\t[sectionName]: vTable[sectionName].reduce((newRows: VRow[], row, cRowIndex) => {\r\n\t\t\tif (cRowIndex === rowIndex) {\r\n\t\t\t\treturn newRows;\r\n\t\t\t}\r\n\r\n\t\t\tnewRows.push({\r\n\t\t\t\tcells: row.cells.map((cell) => {\r\n\t\t\t\t\t// Contract cells with rowspan in the before rows.\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tcell.rowSpan > 1 &&\r\n\t\t\t\t\t\tcRowIndex < rowIndex &&\r\n\t\t\t\t\t\tcRowIndex + cell.rowSpan - 1 >= rowIndex\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\trowSpan: cell.rowSpan - 1,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// decrement row index.\r\n\t\t\t\t\tif (cRowIndex > rowIndex) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\trowIndex: cell.rowIndex - 1,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn cell;\r\n\t\t\t\t}),\r\n\t\t\t});\r\n\r\n\t\t\treturn newRows;\r\n\t\t}, []),\r\n\t};\r\n}\r\n\r\n/**\r\n * Inserts a column in the virtual table.\r\n *\r\n * @param vTable            Virtual table in which to insert column.\r\n * @param options\r\n * @param options.vColIndex Virtual column index at which to insert column.\r\n * @return  New virtual table state.\r\n */\r\nexport function insertColumn(vTable: VTable, { vColIndex }: { vColIndex: number }): VTable {\r\n\t// Whether to add a column after the last column.\r\n\tconst isLastColumnInsert: boolean = vTable.body[0].cells.length === vColIndex;\r\n\r\n\tconst vRows: VRow[] = toVirtualRows(vTable);\r\n\r\n\treturn Object.entries(vTable).reduce(\r\n\t\t(newVTable: VTable, [sectionName, section]) => {\r\n\t\t\tif (!section.length) {\r\n\t\t\t\treturn newVTable;\r\n\t\t\t}\r\n\t\t\tnewVTable[sectionName as SectionName] = section.map(({ cells }, cRowIndex) => ({\r\n\t\t\t\tcells: cells.reduce((newCells: VCell[], cell, cVColIndex) => {\r\n\t\t\t\t\t// Expand cells with colspan in the before columns.\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tcell.colSpan > 1 &&\r\n\t\t\t\t\t\tcVColIndex < vColIndex &&\r\n\t\t\t\t\t\tcVColIndex + cell.colSpan - 1 >= vColIndex\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewCells.push({\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\tcolSpan: cell.colSpan + 1,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn newCells;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Insert cell (after the last column).\r\n\t\t\t\t\tif (isLastColumnInsert && cVColIndex + 1 === vColIndex) {\r\n\t\t\t\t\t\tnewCells.push(cell, {\r\n\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\ttag: 'head' === sectionName ? 'th' : 'td',\r\n\t\t\t\t\t\t\trowSpan: 1,\r\n\t\t\t\t\t\t\tcolSpan: 1,\r\n\t\t\t\t\t\t\tsectionName: cell.sectionName,\r\n\t\t\t\t\t\t\trowIndex: cell.rowIndex,\r\n\t\t\t\t\t\t\tvColIndex: vColIndex + 1,\r\n\t\t\t\t\t\t\tisHidden: false,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn newCells;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Insert cell (between columns).\r\n\t\t\t\t\tif (cVColIndex === vColIndex) {\r\n\t\t\t\t\t\t// Whether the cell to be inserted is a virtual cell filled with colSpan.\r\n\t\t\t\t\t\tconst colSpanCells: VCell[] = vRows\r\n\t\t\t\t\t\t\t.reduce((colSpancells: VCell[], row) => colSpancells.concat(row.cells), [])\r\n\t\t\t\t\t\t\t.filter(\r\n\t\t\t\t\t\t\t\t(colSpancell: VCell) =>\r\n\t\t\t\t\t\t\t\t\tcolSpancell.sectionName === sectionName &&\r\n\t\t\t\t\t\t\t\t\tcolSpancell.colSpan > 1 &&\r\n\t\t\t\t\t\t\t\t\tcolSpancell.rowIndex <= cRowIndex &&\r\n\t\t\t\t\t\t\t\t\tcolSpancell.rowIndex + colSpancell.rowSpan - 1 >= cRowIndex &&\r\n\t\t\t\t\t\t\t\t\tcolSpancell.vColIndex < vColIndex &&\r\n\t\t\t\t\t\t\t\t\tvColIndex <= colSpancell.vColIndex + colSpancell.colSpan - 1\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tnewCells.push(\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\ttag: 'head' === sectionName ? 'th' : 'td',\r\n\t\t\t\t\t\t\t\trowSpan: 1,\r\n\t\t\t\t\t\t\t\tcolSpan: 1,\r\n\t\t\t\t\t\t\t\tsectionName: cell.sectionName,\r\n\t\t\t\t\t\t\t\trowIndex: cell.rowIndex,\r\n\t\t\t\t\t\t\t\tvColIndex,\r\n\t\t\t\t\t\t\t\tisHidden: !!colSpanCells.length,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\t\tvColIndex: vColIndex + 1,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\treturn newCells;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// increment after column vCol index.\r\n\t\t\t\t\tif (vColIndex <= cVColIndex) {\r\n\t\t\t\t\t\tnewCells.push({\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\tvColIndex: cVColIndex + 1,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn newCells;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnewCells.push(cell);\r\n\r\n\t\t\t\t\treturn newCells;\r\n\t\t\t\t}, []),\r\n\t\t\t}));\r\n\r\n\t\t\treturn newVTable;\r\n\t\t},\r\n\t\t{\r\n\t\t\thead: [],\r\n\t\t\tbody: [],\r\n\t\t\tfoot: [],\r\n\t\t}\r\n\t);\r\n}\r\n\r\n/**\r\n * Deletes a column from the virtual table.\r\n *\r\n * @param vTable            Virtual table in which to delete column.\r\n * @param options\r\n * @param options.vColIndex Virtual column index at which to delete column.\r\n * @return  New virtual table state.\r\n */\r\nexport function deleteColumn(vTable: VTable, { vColIndex }: { vColIndex: number }): VTable {\r\n\t// Find the colspan cells in the column to be deleted.\r\n\tconst vRows: VRow[] = toVirtualRows(vTable);\r\n\r\n\tconst colSpanCells: VCell[] = vRows\r\n\t\t.reduce((cells: VCell[], row) => cells.concat(row.cells), [])\r\n\t\t.filter((cell: VCell) => cell.colSpan > 1 && cell.vColIndex === vColIndex);\r\n\r\n\t// Split the found colspan cells.\r\n\tif (colSpanCells.length) {\r\n\t\tcolSpanCells.forEach((cell) => (vTable = splitMergedCell(vTable, cell)));\r\n\t}\r\n\r\n\treturn Object.entries(vTable).reduce(\r\n\t\t(newVTable: VTable, [sectionName, section]) => {\r\n\t\t\tif (!section.length) {\r\n\t\t\t\treturn newVTable;\r\n\t\t\t}\r\n\t\t\tnewVTable[sectionName as SectionName] = section.map(({ cells }) => ({\r\n\t\t\t\tcells: cells.reduce((newCells: VCell[], cell) => {\r\n\t\t\t\t\t// Cells to be deleted.\r\n\t\t\t\t\tif (cell.vColIndex === vColIndex) {\r\n\t\t\t\t\t\treturn newCells;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Contract cells with colspan in the before columns.\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tcell.colSpan > 1 &&\r\n\t\t\t\t\t\tcell.vColIndex < vColIndex &&\r\n\t\t\t\t\t\tcell.vColIndex + cell.colSpan - 1 >= vColIndex\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewCells.push({\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\tcolSpan: cell.colSpan - 1,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn newCells;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// decrement vCol index.\r\n\t\t\t\t\tif (cell.vColIndex > vColIndex) {\r\n\t\t\t\t\t\tnewCells.push({\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\tvColIndex: cell.vColIndex - 1,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn newCells;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnewCells.push(cell);\r\n\r\n\t\t\t\t\treturn newCells;\r\n\t\t\t\t}, []),\r\n\t\t\t}));\r\n\r\n\t\t\treturn newVTable;\r\n\t\t},\r\n\t\t{\r\n\t\t\thead: [],\r\n\t\t\tbody: [],\r\n\t\t\tfoot: [],\r\n\t\t}\r\n\t);\r\n}\r\n\r\n/**\r\n * Merge cells in the virtual table.\r\n *\r\n * @param vTable         Current virtual table state.\r\n * @param selectedCells  Current selected cells.\r\n * @return New virtual table state.\r\n */\r\nexport function mergeCells(\r\n\tvTable: VTable,\r\n\tselectedCells: VSelectedCells\r\n): VTable {\r\n\tif (!selectedCells || !selectedCells.length) {\r\n\t\treturn vTable;\r\n\t}\r\n\r\n\tconst sectionName: SectionName = selectedCells[0].sectionName as SectionName;\r\n\r\n\t// Create the minimum / maximum virtual indexes of the matrix from the selected cells.\r\n\tconst vRangeIndexes: VRangeIndexes = getVirtualRangeIndexes(selectedCells);\r\n\r\n\tconst { minRowIndex, maxRowIndex, minColIndex, maxColIndex } = vRangeIndexes;\r\n\r\n\t// Find the rowspan & colspan cells in selected cells.\r\n\tconst rowColSpanCellsCount: number = selectedCells.filter(\r\n\t\t({ rowSpan, colSpan }) => rowSpan > 1 || colSpan > 1\r\n\t).length;\r\n\r\n\t// Split the found rowspan & colspan cells before merge cell.\r\n\tif (rowColSpanCellsCount) {\r\n\t\tfor (let i = 0; i < rowColSpanCellsCount; i++) {\r\n\t\t\tconst vMergedCells: VCell[] = vTable[sectionName as SectionName]\r\n\t\t\t\t.reduce((cells: VCell[], row) => cells.concat(row.cells), [])\r\n\t\t\t\t.filter(\r\n\t\t\t\t\t(cell: VCell) =>\r\n\t\t\t\t\t\t(cell.rowSpan > 1 || cell.colSpan > 1) &&\r\n\t\t\t\t\t\tminRowIndex <= cell.rowIndex &&\r\n\t\t\t\t\t\tmaxRowIndex >= cell.rowIndex &&\r\n\t\t\t\t\t\tminColIndex <= cell.vColIndex &&\r\n\t\t\t\t\t\tmaxColIndex >= cell.vColIndex\r\n\t\t\t\t);\r\n\r\n\t\t\tif (vMergedCells.length) {\r\n\t\t\t\tvTable = splitMergedCell(vTable, vMergedCells[0]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Merge the contents of the cells to be merged.\r\n\tconst mergedCellsContent: string = vTable[sectionName as SectionName]\r\n\t\t.reduce((cells: VCell[], row: VRow) => cells.concat(row.cells), [])\r\n\t\t.reduce((result: string[], cell: VCell) => {\r\n\t\t\tif (\r\n\t\t\t\tcell.rowIndex >= minRowIndex &&\r\n\t\t\t\tcell.rowIndex <= maxRowIndex &&\r\n\t\t\t\tcell.vColIndex >= minColIndex &&\r\n\t\t\t\tcell.vColIndex <= maxColIndex &&\r\n\t\t\t\tcell.content\r\n\t\t\t) {\r\n\t\t\t\tresult.push(cell.content);\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t}, [])\r\n\t\t.join('<br>');\r\n\r\n\treturn {\r\n\t\t...vTable,\r\n\t\t[sectionName]: vTable[sectionName as SectionName].map((row, rowIndex) => {\r\n\t\t\tif (rowIndex < minRowIndex || rowIndex > maxRowIndex) {\r\n\t\t\t\t// Row not to be merged.\r\n\t\t\t\treturn row;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tcells: row.cells.map((cell, vColIndex) => {\r\n\t\t\t\t\tif (vColIndex === minColIndex && rowIndex === minRowIndex) {\r\n\t\t\t\t\t\t// Cell to merge.\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\trowSpan: Math.abs(maxRowIndex - minRowIndex) + 1,\r\n\t\t\t\t\t\t\tcolSpan: Math.abs(maxColIndex - minColIndex) + 1,\r\n\t\t\t\t\t\t\tcontent: mergedCellsContent\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Cells to be merged (Mark as deletion).\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\trowIndex >= minRowIndex &&\r\n\t\t\t\t\t\trowIndex <= maxRowIndex &&\r\n\t\t\t\t\t\tvColIndex >= minColIndex &&\r\n\t\t\t\t\t\tvColIndex <= maxColIndex\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\tisHidden: true,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Cells not to be merged.\r\n\t\t\t\t\treturn cell;\r\n\t\t\t\t}),\r\n\t\t\t};\r\n\t\t}),\r\n\t};\r\n}\r\n\r\n/**\r\n * Split selected cells in the virtual table state.\r\n *\r\n * @param vTable        Current virtual table state.\r\n * @param selectedCells Current selected cells.\r\n * @return  New virtual table state.\r\n */\r\nexport function splitMergedCells(vTable: VTable, selectedCells: VSelectedCells): VTable {\r\n\tif (!selectedCells) {\r\n\t\treturn vTable;\r\n\t}\r\n\t// Find the rowspan & colspan cells.\r\n\tconst rowColSpanCells: VCell[] = selectedCells.filter(\r\n\t\t({ rowSpan, colSpan }) => rowSpan > 1 || colSpan > 1\r\n\t);\r\n\r\n\t// Split the found rowspan & colspan cells.\r\n\tif (rowColSpanCells.length) {\r\n\t\trowColSpanCells.forEach((cell) => {\r\n\t\t\tvTable = splitMergedCell(vTable, cell);\r\n\t\t});\r\n\t}\r\n\r\n\treturn vTable;\r\n}\r\n\r\n/**\r\n * Split single cell in the virtual table state.\r\n *\r\n * @param vTable       Current virtual table state.\r\n * @param selectedCell Current selected cells.\r\n * @return New virtual table state.\r\n */\r\nexport function splitMergedCell(vTable: VTable, selectedCell: VCell): VTable {\r\n\tconst { sectionName, rowIndex, vColIndex, rowSpan, colSpan } = selectedCell;\r\n\r\n\tconst vSection: VSection = vTable[sectionName as SectionName];\r\n\r\n\t// Split the selected cells and map them on the virtual section.\r\n\tvSection[rowIndex].cells[vColIndex] = {\r\n\t\t...vSection[rowIndex].cells[vColIndex],\r\n\t\trowSpan: 1,\r\n\t\tcolSpan: 1,\r\n\t};\r\n\r\n\tif (colSpan > 1) {\r\n\t\tfor (let i = 1; i < colSpan; i++) {\r\n\t\t\tvSection[rowIndex].cells[vColIndex + i] = {\r\n\t\t\t\t...vSection[rowIndex].cells[vColIndex],\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tvColIndex: vColIndex + i,\r\n\t\t\t\tisHidden: false,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tif (rowSpan > 1) {\r\n\t\tfor (let i = 1; i < rowSpan; i++) {\r\n\t\t\tvSection[rowIndex + i].cells[vColIndex] = {\r\n\t\t\t\t...vSection[rowIndex].cells[vColIndex],\r\n\t\t\t\tcontent: '',\r\n\t\t\t\trowIndex: rowIndex + i,\r\n\t\t\t\tisHidden: false,\r\n\t\t\t};\r\n\r\n\t\t\tif (colSpan > 1) {\r\n\t\t\t\tfor (let j = 1; j < colSpan; j++) {\r\n\t\t\t\t\tvSection[rowIndex + i].cells[vColIndex + j] = {\r\n\t\t\t\t\t\t...vSection[rowIndex].cells[vColIndex],\r\n\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\trowIndex: rowIndex + i,\r\n\t\t\t\t\t\tvColIndex: vColIndex + i,\r\n\t\t\t\t\t\tisHidden: false,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\t...vTable,\r\n\t\t[sectionName]: vSection,\r\n\t};\r\n}\r\n\r\n/**\r\n * Update cells state( styles, tag ) of selected section.\r\n *\r\n * @param vTable              Current virtual table state.\r\n * @param cellState           Cell states to update.\r\n * @param cellState.styles    Cell styles.\r\n * @param cellState.tag       Cell tag.\r\n * @param cellState.className Cell classes.\r\n * @param cellState.id        Cell id.\r\n * @param cellState.headers   Cell headers attribute.\r\n * @param cellState.scope     Cell scope attribute.\r\n * @param selectedCells       Current selected cells.\r\n * @return  New virtual table state.\r\n */\r\nexport function updateCells(\r\n\tvTable: VTable,\r\n\tcellState: {\r\n\t\tstyles?: Object,\r\n\t\ttag?: CellTagValue;\r\n\t\tclassName?: string;\r\n\t\tid?: string;\r\n\t\theaders?: string;\r\n\t\tscope?: CellScopeValue;\r\n\t},\r\n\tselectedCells: VCell[]\r\n): VTable {\r\n\treturn Object.entries(vTable).reduce(\r\n\t\t(newVTable: VTable, [sectionName, section]) => {\r\n\t\t\tif (!section.length) {\r\n\t\t\t\treturn newVTable;\r\n\t\t\t}\r\n\t\t\tnewVTable[sectionName as SectionName] = section.map(({ cells }, cRowIndex) => ({\r\n\t\t\t\tcells: cells.map((cell, cVColIndex) => {\r\n\t\t\t\t\t// Refer to the selected cell to determine if it is the target cell to update.\r\n\t\t\t\t\tconst isTargetCell: boolean = selectedCells.some(\r\n\t\t\t\t\t\t(targetCell) =>\r\n\t\t\t\t\t\t\ttargetCell.sectionName === sectionName &&\r\n\t\t\t\t\t\t\ttargetCell.rowIndex === cRowIndex &&\r\n\t\t\t\t\t\t\ttargetCell.vColIndex === cVColIndex\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif (!isTargetCell) {\r\n\t\t\t\t\t\treturn cell;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet stylesObj: Properties = convertToObject(cell?.styles);\r\n\r\n\t\t\t\t\tif (cellState.styles) {\r\n\t\t\t\t\t\tstylesObj = {\r\n\t\t\t\t\t\t\t...stylesObj,\r\n\t\t\t\t\t\t\t...cellState.styles,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\tstyles: convertToInline(stylesObj),\r\n\t\t\t\t\t\ttag: cellState.tag || cell.tag,\r\n\t\t\t\t\t\tclassName: 'className' in cellState ? cellState.className : cell.className,\r\n\t\t\t\t\t\tid: 'id' in cellState ? cellState.id : cell.id,\r\n\t\t\t\t\t\theaders: 'headers' in cellState ? cellState.headers : cell.headers,\r\n\t\t\t\t\t\tscope: 'scope' in cellState ? cellState.scope : cell.scope,\r\n\t\t\t\t\t};\r\n\t\t\t\t}, []),\r\n\t\t\t}));\r\n\r\n\t\t\treturn newVTable;\r\n\t\t},\r\n\t\t{\r\n\t\t\thead: [],\r\n\t\t\tbody: [],\r\n\t\t\tfoot: [],\r\n\t\t}\r\n\t);\r\n}\r\n\r\n/**\r\n * Determines whether a virtual section is empty.\r\n *\r\n * @param section Virtual section state.\r\n * @return True if the virtual section is empty, false otherwise.\r\n */\r\nexport function isEmptySection(section: VSection): boolean {\r\n\treturn (\r\n\t\t!section ||\r\n\t\t!section.length ||\r\n\t\tsection.every(({ cells }: { cells: VCell[] }) => !(cells && cells.length))\r\n\t);\r\n}\r\n\r\n/**\r\n * Determines whether multiple sections are selected on the virtual table.\r\n *\r\n * @param selectedCells Current selected cells.\r\n * @return True if multiple sections are selected, false otherwise.\r\n */\r\nexport function isMultiSectionSelected(selectedCells: VCell[]): boolean {\r\n\tconst selectedSections: SectionName[] = selectedCells.reduce(\r\n\t\t(result: SectionName[], selectedCell) => {\r\n\t\t\tif (!result.includes(selectedCell.sectionName as SectionName)) {\r\n\t\t\t\tresult.push(selectedCell.sectionName as SectionName);\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\treturn selectedSections.length > 1;\r\n}\r\n\r\n/**\r\n * Create virtual table object with the cells placed in positions based on how they actually look.\r\n * This function is used to determine the apparent position of a cell when insert / delete row / column, or merge / split cells, etc.\r\n *\r\n * @param state Current table state.\r\n * @return Object of virtual table.\r\n */\r\nexport function toVirtualTable(state: TableAttributes): VTable {\r\n\tconst { head, body, foot } = state;\r\n\tconst vSections = {\r\n\t\thead,\r\n\t\tbody,\r\n\t\tfoot,\r\n\t};\r\n\r\n\treturn Object.entries(vSections).reduce(\r\n\t\t(vTable: VTable, [sectionName, section]) => {\r\n\t\t\tif (!section.length) {\r\n\t\t\t\treturn vTable;\r\n\t\t\t}\r\n\r\n\t\t\t// Create a virtual section array.\r\n\t\t\tconst rowCount: number = section.length;\r\n\t\t\tconst colCount: number = section[0].cells.reduce((count: number, cell: Cell) => {\r\n\t\t\t\treturn count + toInteger(cell.colSpan, 1);\r\n\t\t\t}, 0);\r\n\r\n\t\t\tconst vSection: VSection = Array.from({ length: rowCount }).map(\r\n\t\t\t\t(_row, rowIndex): VRow => ({\r\n\t\t\t\t\tcells: Array.from({ length: colCount }).map(\r\n\t\t\t\t\t\t(_col, vColIndex): VCell => ({\r\n\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\ttag: 'head' === sectionName ? 'th' : 'td',\r\n\t\t\t\t\t\t\trowSpan: 1,\r\n\t\t\t\t\t\t\tcolSpan: 1,\r\n\t\t\t\t\t\t\tsectionName: sectionName as SectionName,\r\n\t\t\t\t\t\t\tisHidden: false,\r\n\t\t\t\t\t\t\t// Whether the actual cell is placed or not.\r\n\t\t\t\t\t\t\tisFilled: false,\r\n\t\t\t\t\t\t\t// Dummy indexes.\r\n\t\t\t\t\t\t\trowIndex,\r\n\t\t\t\t\t\t\tvColIndex,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\t// Mapping the actual section cells on the virtual section cell.\r\n\t\t\tsection.forEach((row: Row, cRowIndex: number) => {\r\n\t\t\t\trow.cells.forEach((cell) => {\r\n\t\t\t\t\t// Colmun index on the virtual section excluding cells already marked as \"filled\".\r\n\t\t\t\t\tconst vColIndex: number = vSection[cRowIndex].cells.findIndex(\r\n\t\t\t\t\t\t({ isFilled }) => !isFilled\r\n\t\t\t\t\t);\r\n\t\t\t\t\tconst rowSpan = toInteger(cell.rowSpan, 1);\r\n\t\t\t\t\tconst colSpan = toInteger(cell.colSpan, 1);\r\n\r\n\t\t\t\t\t// Mark the cell as \"filled\" and record the position on the virtual section.\r\n\t\t\t\t\tvSection[cRowIndex].cells[vColIndex] = {\r\n\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\tisFilled: true,\r\n\t\t\t\t\t\tsectionName: sectionName as SectionName,\r\n\t\t\t\t\t\trowSpan,\r\n\t\t\t\t\t\tcolSpan,\r\n\t\t\t\t\t\trowIndex: cRowIndex,\r\n\t\t\t\t\t\tvColIndex,\r\n\t\t\t\t\t\tisHidden: false,\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// For cells with rowspan / colspan, mark cells that are visually filled as \"filled\".\r\n\t\t\t\t\t// Additionaly mark it as a cell to be deleted because it does not exist in the actual section.\r\n\t\t\t\t\tif (colSpan > 1) {\r\n\t\t\t\t\t\tfor (let i = 1; i < colSpan; i++) {\r\n\t\t\t\t\t\t\tvSection[cRowIndex].cells[vColIndex + i].isFilled = true;\r\n\t\t\t\t\t\t\tvSection[cRowIndex].cells[vColIndex + i].isHidden = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (rowSpan > 1) {\r\n\t\t\t\t\t\tfor (let i = 1; i < rowSpan; i++) {\r\n\t\t\t\t\t\t\tvSection[cRowIndex + i].cells[vColIndex].isFilled = true;\r\n\t\t\t\t\t\t\tvSection[cRowIndex + i].cells[vColIndex].isHidden = true;\r\n\r\n\t\t\t\t\t\t\tif (colSpan > 1) {\r\n\t\t\t\t\t\t\t\tfor (let j = 1; j < colSpan; j++) {\r\n\t\t\t\t\t\t\t\t\tvSection[cRowIndex + i].cells[vColIndex + j].isFilled = true;\r\n\t\t\t\t\t\t\t\t\tvSection[cRowIndex + i].cells[vColIndex + j].isHidden = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tvTable[sectionName as SectionName] = vSection;\r\n\r\n\t\t\treturn vTable;\r\n\t\t},\r\n\t\t{\r\n\t\t\thead: [],\r\n\t\t\tbody: [],\r\n\t\t\tfoot: [],\r\n\t\t}\r\n\t);\r\n}\r\n\r\n/**\r\n * Remove cells from the virtual table that are not actually needed and convert them to table attributes.\r\n *\r\n * @param  vTable Current table state.\r\n * @return {Object} Table attributes.\r\n */\r\nexport function toTableAttributes(vTable: VTable): TableAttributes {\r\n\treturn Object.entries(vTable).reduce(\r\n\t\t(newTableAttributes: TableAttributes, [sectionName, section]) => {\r\n\t\t\tif (!section.length) {\r\n\t\t\t\treturn newTableAttributes;\r\n\t\t\t}\r\n\t\t\tnewTableAttributes[sectionName as SectionName] = section.map(({ cells }) => ({\r\n\t\t\t\tcells: cells\r\n\t\t\t\t\t// Delete cells marked as deletion.\r\n\t\t\t\t\t.filter((cell) => !cell.isHidden)\r\n\t\t\t\t\t// Keep only the properties needed.\r\n\t\t\t\t\t.map((cell) => ({\r\n\t\t\t\t\t\tcontent: cell.content,\r\n\t\t\t\t\t\tstyles: cell.styles,\r\n\t\t\t\t\t\ttag: cell.tag,\r\n\t\t\t\t\t\tclassName: cell.className,\r\n\t\t\t\t\t\tid: cell.id,\r\n\t\t\t\t\t\theaders: cell.headers,\r\n\t\t\t\t\t\tscope: cell.scope,\r\n\t\t\t\t\t\trowSpan: cell.rowSpan > 1 ? String(cell.rowSpan) : undefined,\r\n\t\t\t\t\t\tcolSpan: cell.colSpan > 1 ? String(cell.colSpan) : undefined,\r\n\t\t\t\t\t})),\r\n\t\t\t}));\r\n\r\n\t\t\treturn newTableAttributes;\r\n\t\t},\r\n\t\t{\r\n\t\t\thead: [],\r\n\t\t\tbody: [],\r\n\t\t\tfoot: [],\r\n\t\t}\r\n\t);\r\n}\r\n\r\n/**\r\n * Create an array of rows from a virtual table by removing empty sections.\r\n *\r\n * @param vTable Current virtual table state.\r\n * @return virtual table rows array.\r\n */\r\nexport function toVirtualRows(vTable: VTable): VRow[] {\r\n\treturn Object.keys(vTable).reduce((result: VRow[], sectionName) => {\r\n\t\tif (isEmptySection(vTable[sectionName as SectionName])) {\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\tresult.push(...vTable[sectionName as SectionName]);\r\n\r\n\t\treturn result;\r\n\t}, []);\r\n}\r\n\r\n/**\r\n * Get the minimum / maximum row / column virtual indexes on virtual table from selected cells.\r\n *\r\n * @param selectedCells Current selected cells.\r\n * @return Minimum / maximum virtual indexes.\r\n */\r\nexport function getVirtualRangeIndexes(selectedCells: VCell[]): VRangeIndexes {\r\n\treturn selectedCells.reduce(\r\n\t\t({ minRowIndex, maxRowIndex, minColIndex, maxColIndex }, cell) => {\r\n\t\t\tconst VRowIndex: number = cell.rowSpan > 1 ? cell.rowIndex + cell.rowSpan - 1 : cell.rowIndex;\r\n\t\t\tconst vColIndex: number =\r\n\t\t\t\tcell.colSpan > 1 ? cell.vColIndex + cell.colSpan - 1 : cell.vColIndex;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tminRowIndex: minRowIndex < cell.rowIndex ? minRowIndex : cell.rowIndex,\r\n\t\t\t\tmaxRowIndex: maxRowIndex > VRowIndex ? maxRowIndex : VRowIndex,\r\n\t\t\t\tminColIndex: minColIndex < cell.vColIndex ? minColIndex : cell.vColIndex,\r\n\t\t\t\tmaxColIndex: maxColIndex > vColIndex ? maxColIndex : vColIndex,\r\n\t\t\t};\r\n\t\t},\r\n\t\t{\r\n\t\t\tminRowIndex: selectedCells[0].rowIndex,\r\n\t\t\tmaxRowIndex: selectedCells[0].rowIndex,\r\n\t\t\tminColIndex: selectedCells[0].vColIndex,\r\n\t\t\tmaxColIndex: selectedCells[0].vColIndex,\r\n\t\t}\r\n\t);\r\n}\r\n\r\n/**\r\n * Determines whether a rectangle will be formed from the selected cells in the virtual table.\r\n * This function is used to determines whether to allow cell merging from the selected cells.\r\n *\r\n * @param selectedCells Current selected cells.\r\n * @return True if a rectangle will be formed from the selected cells, false otherwise.\r\n */\r\nexport function isRectangleSelected(selectedCells: VSelectedCells): boolean {\r\n\tif (!selectedCells) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// No need to merge If only one or no cell is selected.\r\n\tif (selectedCells.length <= 1) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Check if multiple sections are selected.\r\n\tif (isMultiSectionSelected(selectedCells)) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Get the minimum / maximum virtual indexes of the matrix from the selected cells.\r\n\tconst vRangeIndexes: VRangeIndexes = getVirtualRangeIndexes(selectedCells);\r\n\r\n\t// Generate indexed matrix from the indexes.\r\n\tconst vRange: boolean[][] = [];\r\n\r\n\tfor (let i = vRangeIndexes.minRowIndex; i <= vRangeIndexes.maxRowIndex; i++) {\r\n\t\tvRange[i] = [];\r\n\t\tfor (let j = vRangeIndexes.minColIndex; j <= vRangeIndexes.maxColIndex; j++) {\r\n\t\t\tvRange[i][j] = false;\r\n\t\t}\r\n\t}\r\n\r\n\t// Map the selected cells to the matrix (mark the cell as \"true\").\r\n\tselectedCells.forEach((cell: VCell) => {\r\n\t\tif (cell.rowIndex in vRange && cell.vColIndex in vRange[cell.rowIndex]) {\r\n\t\t\tvRange[cell.rowIndex][cell.vColIndex] = true;\r\n\r\n\t\t\tif (cell.colSpan > 1) {\r\n\t\t\t\tfor (let i = 1; i < cell.colSpan; i++) {\r\n\t\t\t\t\tvRange[cell.rowIndex][cell.vColIndex + i] = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (cell.rowSpan > 1) {\r\n\t\t\t\tfor (let i = 1; i < cell.rowSpan; i++) {\r\n\t\t\t\t\tvRange[cell.rowIndex + i][cell.vColIndex] = true;\r\n\r\n\t\t\t\t\tif (cell.colSpan > 1) {\r\n\t\t\t\t\t\tfor (let j = 1; j < cell.colSpan; j++) {\r\n\t\t\t\t\t\t\tvRange[cell.rowIndex + i][cell.vColIndex + j] = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t// Whether all cells in the matrix are filled (whether cell merging is possible).\r\n\treturn vRange.reduce((cells, row) => cells.concat(row), []).every((cell) => cell);\r\n}\r\n\r\n/**\r\n * Return a set of cells from the start cell and the end cell that will form a rectangle, taking into account the join cells.\r\n *\r\n * @param vTable           Current virtual table state.\r\n * @param options\r\n * @param options.fromCell Start cell of the selected range.\r\n * @param options.toCell   End cell of the selected range.\r\n * @return Selected cells that represent a rectangle.\r\n */\r\nexport function toRectangledSelectedCells(\r\n\tvTable: VTable,\r\n\t{ fromCell, toCell }: { fromCell: VCell; toCell: VCell }\r\n): VCell[] {\r\n\tif (!fromCell || !toCell) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\t// Check if multiple sections are selected.\r\n\tif (fromCell.sectionName !== toCell.sectionName) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\t// Get the minimum / maximum virtual indexes of the matrix from the selected cells.\r\n\tconst vRangeIndexes: VRangeIndexes = getVirtualRangeIndexes([fromCell, toCell]);\r\n\r\n\tlet isRectangled: boolean = false;\r\n\r\n\tlet { minRowIndex, maxRowIndex, minColIndex, maxColIndex } = vRangeIndexes;\r\n\r\n\tconst currentSection: VSection = vTable[fromCell.sectionName as SectionName];\r\n\tconst rowCount: number = currentSection.length;\r\n\tconst colCount: number = currentSection[0].cells.length;\r\n\r\n\tconst VCells: VCell[] = currentSection\r\n\t\t.reduce((cells: VCell[], row: VRow) => cells.concat(row.cells), [])\r\n\t\t.map((cell: VCell) => {\r\n\t\t\tif (cell.rowIndex === fromCell.rowIndex && cell.vColIndex === fromCell.vColIndex) {\r\n\t\t\t\tcell.isFirstSelected = true;\r\n\t\t\t}\r\n\r\n\t\t\treturn cell;\r\n\t\t})\r\n\t\t.filter((cell: VCell) => !cell.isHidden);\r\n\r\n\t// Expand the rectangle if there is a combined cell that passes through each edge.\r\n\twhile (!isRectangled) {\r\n\t\t// Extend the virtual range to top if there are cells that overlap to top.\r\n\t\tconst topCells: VCell[] = VCells.filter((cell: VCell) => {\r\n\t\t\treturn (\r\n\t\t\t\t((cell.vColIndex + cell.colSpan - 1 >= minColIndex &&\r\n\t\t\t\t\t\tcell.vColIndex + cell.colSpan - 1 <= maxColIndex) ||\r\n\t\t\t\t\t(cell.vColIndex >= minColIndex && cell.vColIndex <= maxColIndex)) &&\r\n\t\t\t\tcell.rowIndex < minRowIndex &&\r\n\t\t\t\tcell.rowIndex + cell.rowSpan - 1 >= minRowIndex &&\r\n\t\t\t\tcell.rowSpan > 1\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tconst isTopFixed: boolean = minRowIndex === 0 || !topCells.length;\r\n\t\tif (!isTopFixed) {\r\n\t\t\tminRowIndex--;\r\n\t\t}\r\n\r\n\t\t// Extend the virtual range to right if there are cells that overlap to right.\r\n\t\tconst rightCells: VCell[] = VCells.filter((cell: VCell) => {\r\n\t\t\treturn (\r\n\t\t\t\t((cell.rowIndex + cell.rowSpan - 1 >= minRowIndex &&\r\n\t\t\t\t\t\tcell.rowIndex + cell.rowSpan - 1 <= maxRowIndex) ||\r\n\t\t\t\t\t(cell.rowIndex >= minRowIndex && cell.rowIndex <= maxRowIndex)) &&\r\n\t\t\t\tcell.vColIndex <= maxColIndex &&\r\n\t\t\t\tcell.vColIndex + cell.colSpan - 1 > maxColIndex &&\r\n\t\t\t\tcell.colSpan > 1\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tconst isRightFixed: boolean = maxColIndex === colCount - 1 || !rightCells.length;\r\n\t\tif (!isRightFixed) {\r\n\t\t\tmaxColIndex++;\r\n\t\t}\r\n\r\n\t\t// Extend the virtual range to bottom if there are cells that overlap to bottom.\r\n\t\tconst bottomCells: VCell[] = VCells.filter((cell: VCell) => {\r\n\t\t\treturn (\r\n\t\t\t\t((cell.vColIndex + cell.colSpan - 1 >= minColIndex &&\r\n\t\t\t\t\t\tcell.vColIndex + cell.colSpan - 1 <= maxColIndex) ||\r\n\t\t\t\t\t(cell.vColIndex >= minColIndex && cell.vColIndex <= maxColIndex)) &&\r\n\t\t\t\tcell.rowIndex <= maxRowIndex &&\r\n\t\t\t\tcell.rowIndex + cell.rowSpan - 1 > maxRowIndex &&\r\n\t\t\t\tcell.rowSpan - 1\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tconst isBottomFixed: boolean = maxRowIndex === rowCount - 1 || !bottomCells.length;\r\n\t\tif (!isBottomFixed) {\r\n\t\t\tmaxRowIndex++;\r\n\t\t}\r\n\r\n\t\t// Extend the virtual range to left if there are cells that overlap to left.\r\n\t\tconst leftCells: VCell[] = VCells.filter((cell: VCell) => {\r\n\t\t\treturn (\r\n\t\t\t\t((cell.rowIndex + cell.rowSpan - 1 >= minRowIndex &&\r\n\t\t\t\t\t\tcell.rowIndex + cell.rowSpan - 1 <= maxRowIndex) ||\r\n\t\t\t\t\t(cell.rowIndex >= minRowIndex && cell.rowIndex <= maxRowIndex)) &&\r\n\t\t\t\tcell.vColIndex < minColIndex &&\r\n\t\t\t\tcell.vColIndex + cell.colSpan - 1 >= minColIndex &&\r\n\t\t\t\tcell.colSpan > 1\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tconst isLeftFixed: boolean = maxColIndex === colCount - 1 || !leftCells.length;\r\n\t\tif (!isLeftFixed) {\r\n\t\t\tminColIndex--;\r\n\t\t}\r\n\r\n\t\tisRectangled = isTopFixed && isRightFixed && isBottomFixed && isLeftFixed;\r\n\t}\r\n\r\n\t// Cells in the newly computed rectangle.\r\n\treturn VCells.filter(\r\n\t\t(cell: VCell) =>\r\n\t\t\tcell.rowIndex >= minRowIndex &&\r\n\t\t\tcell.rowIndex <= maxRowIndex &&\r\n\t\t\tcell.vColIndex >= minColIndex &&\r\n\t\t\tcell.vColIndex <= maxColIndex\r\n\t);\r\n}\r\n\r\n/**\r\n * Determines whether the selected cells in the virtual table contain merged cells.\r\n *\r\n * @param selectedCells Current selected cells.\r\n * @return True if the selected cells in the virtual table contain merged cells, false otherwise.\r\n */\r\nexport function hasMergedCells(selectedCells: VSelectedCells): boolean {\r\n\tif (!selectedCells) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\treturn selectedCells.some(\r\n\t\t({ rowSpan, colSpan }: { rowSpan: number; colSpan: number }) => rowSpan > 1 || colSpan > 1\r\n\t);\r\n}\r\n\r\n/**\r\n * Toggles the existance of a section.\r\n *\r\n * @param vTable      Current virtual table state.\r\n * @param sectionName Name of the section to toggle.\r\n * @return New virtual table state.\r\n */\r\nexport function toggleSection(vTable: VTable, sectionName: SectionName): VTable {\r\n\t// Section exists, replace it with an empty row to remove it.\r\n\tif (!isEmptySection(vTable[sectionName])) {\r\n\t\treturn {\r\n\t\t\t...vTable,\r\n\t\t\t[sectionName]: [],\r\n\t\t};\r\n\t}\r\n\r\n\t// Number of columns in the row to be inserted.\r\n\tconst newRowColCount: number = vTable.body[0].cells.length;\r\n\r\n\t// Row state to be inserted.\r\n\tconst newRow: VRow = {\r\n\t\tcells: Array.from({ length: newRowColCount }).map((_, vColIndex) => ({\r\n\t\t\tcontent: '',\r\n\t\t\ttag: 'head' === sectionName ? 'th' : 'td',\r\n\t\t\trowSpan: 1,\r\n\t\t\tcolSpan: 1,\r\n\t\t\tsectionName,\r\n\t\t\trowIndex: 0,\r\n\t\t\tvColIndex,\r\n\t\t\tisHidden: false,\r\n\t\t\tisFirstSelected: false,\r\n\t\t})),\r\n\t};\r\n\r\n\treturn {\r\n\t\t...vTable,\r\n\t\t[sectionName]: [newRow],\r\n\t};\r\n}\r\n","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"keycodes\"];","module.exports = window[\"wp\"][\"notices\"];","module.exports = window[\"wp\"][\"primitives\"];","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkcomet_table_block\"] = globalThis[\"webpackChunkcomet_table_block\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["__","_x","justifyLeft","justifyCenter","justifyRight","alignLeft","alignCenter","alignRight","alignTop","alignMiddle","alignBottom","STORE_NAME","REST_API_ROUTE","DEFAULT_PREVIEW_ROWS","DEFAULT_PREVIEW_COLUMNS","MIN_PREVIEW_TABLE_HEIGHT","MAX_PREVIEW_TABLE_COL","MAX_PREVIEW_TABLE_ROW","THRESHOLD_PREVIEW_TABLE_COL","THRESHOLD_PREVIEW_TABLE_ROW","MAX_BORDER_RADIUS","px","em","rem","MAX_BORDER_WIDTH","MAX_BORDER_SPACING","DEFAULT_RESPONSIVE_BREAKPOINT","MIN_RESPONSIVE_BREAKPOINT","MAX_RESPONSIVE_BREAKPOINT","CELL_WIDTH_UNITS","CELL_ARIA_LABEL","head","body","foot","CONTENT_JUSTIFY_CONTROLS","icon","label","value","TEXT_ALIGNMENT_CONTROLS","VERTICAL_ALIGNMENT_CONTROLS","STICKY_CONTROLS","CELL_TAG_CONTROLS","CELL_SCOPE_CONTROLS","CAPTION_POSITION_CONTROLS","DIRECTION_CONTROLS","SIDE_CONTROLS","useSelect","useState","BaseControl","Button","Flex","FlexBlock","FlexItem","Popover","ColorPalette","__experimentalVStack","VStack","__experimentalSpacer","Spacer","__experimentalText","Text","store","blockEditorStore","useInstanceId","ColorIndicatorButton","ColorControl","help","onChange","colors","colorsProp","instanceId","headingId","select","_settings$colors","settings","getSettings","isPickerOpen","setIsPickerOpen","handleOnReset","undefined","handleOnChange","inputValue","handleOnPickerOpen","handleOnPickerClose","createElement","className","__nextHasNoMarginBottom","role","id","upperCase","size","weight","as","variant","onClick","isNone","isTransparent","placement","shift","offset","onClose","padding","marginBottom","clsx","ColorIndicator","isMixed","colorValue","default","RichText","useBlockProps","__experimentalGetColorClassesAndStyles","getColorClassesAndStyles","convertToObject","toInteger","v1","attributes","contentJustification","type","hasFixedLayout","isScrollOnPc","isScrollOnMobile","isStackedOnMobile","sticky","tableStyles","source","selector","attribute","captionPosition","caption","captionStyles","query","cells","content","styles","tag","headers","scope","enum","rowSpan","colSpan","supports","anchor","align","color","__experimentalSkipSerialization","gradients","link","typography","fontSize","lineHeight","__experimentalFontFamily","__experimentalTextTransform","__experimentalFontStyle","__experimentalFontWeight","__experimentalLetterSpacing","spacing","margin","__experimentalSelector","save","isEmpty","length","tableStylesObj","captionStylesObj","colorProps","blockProps","tableClasses","hasCaption","Section","rows","Tag","map","rowIndex","key","cellIndex","Content","tagName","style","Caption","useEffect","useDispatch","InspectorControls","BlockControls","useBlockEditingMode","ToolbarDropdownMenu","PanelBody","blockTable","noticesStore","TableSettings","TableCaptionSettings","TableCellSettings","Table","TablePlaceholder","TableCaption","insertRow","deleteRow","insertColumn","deleteColumn","mergeCells","splitMergedCells","hasMergedCells","isRectangleSelected","toTableAttributes","toVirtualTable","isEmptySection","tableRowAfter","tableRowBefore","tableColumnBefore","tableColumnAfter","tableColumnDelete","tableRowDelete","tableMergeCell","tableSplitCell","TableEdit","props","setAttributes","isSelected","isSingleSelected","insertBlocksAfter","selectedCells","setSelectedCells","selectedLine","setSelectedLine","options","getOptions","createWarningNotice","blockEditingMode","isContentOnlyMode","vTable","onChangeContentJustification","newValue","onInsertRow","sectionName","insertRowIndex","newVTable","onDeleteRow","onInsertColumn","vColIndex","insertVColIndex","onDeleteColumn","onMergeCells","onSplitMergedCells","TableJustifyControls","title","isActive","TableEditControls","isDisabled","filter","tablePlaceholderProps","tableFigureProps","tableProps","tableSettingsProps","tableCellSettingsProps","tableCellSettingsLabel","tableCaptionProps","tableCaptionSettingProps","Fragment","group","find","control","controls","initialOpen","createBlock","ToolbarButton","captionIcon","useCallback","usePrevious","prevCaption","isCaptionEmpty","isPrevCaptionEmpty","showCaption","setShowCaption","ref","node","focus","isPressed","placeholder","onFocus","__unstableOnSplitAtEnd","createInterpolateElement","BlockIcon","Placeholder","TextControl","ToggleControl","__experimentalHStack","HStack","isAppleOS","createTable","blockIcon","rowCount","setRowCount","colCount","setColCount","headerSection","setHeaderSection","footerSection","setFooterSection","totalRowCount","Number","cellHeight","Math","min","onCreateTable","event","preventDefault","onChangeColumnCount","parsedValue","parseInt","isNaN","max","onChangeRowCount","onToggleHeaderSection","section","onToggleFooterSection","showColors","code","minHeight","alignment","isBlock","Array","from","_col","colIndex","height","_row","onSubmit","wrap","justify","checked","__next40pxDefaultSize","disabled","useRef","__experimentalUseColorProps","useColorProps","plus","trash","chevronRight","chevronDown","toRectangledSelectedCells","toVirtualRows","TSection","name","restProps","TagName","Cell","isSelectMode","setIsSelectMode","isReady","setIdReady","tableRef","isTabMove","isRowSelected","isColumnSelected","vTargetCell","onSelectSectionCells","reduce","row","concat","cell","isHidden","onSelectRow","onSelectColumn","vRows","onChangeCellContent","targetCell","selectedRowIndex","selectedVColIndex","isFirstSelected","onKeyDown","current","isInsideTableBlock","target","closest","tableElement","ownerDocument","activeElement","activeCell","querySelector","isInsidePopover","hasLinkControl","tabbableNodes","querySelectorAll","tabbableElements","slice","call","activeCellIndex","findIndex","element","nextCellIndex","shiftKey","focusbleElement","selection","getSelection","range","createRange","innerText","trim","selectNodeContents","removeAllRanges","addRange","onKeyUp","onClickCell","clickedCell","ctrlKey","metaKey","fromCell","toCell","newSelectedCells","existCellIndex","push","splice","filteredVTable","Object","keys","result","filteredSections","sectionIndex","isCellSelected","some","cellStylesObj","tabIndex","stopPropagation","iconSize","Path","SVG","Circle","Polygon","xmlns","viewBox","points","d","borderSeparate","borderCollapse","borderSolid","borderDotted","cx","cy","r","borderDashed","borderDouble","registerBlockType","addFilter","createHigherOrderComponent","metadata","example","edit","transforms","deprecated","config","category","description","withInspectorControls","BlockEdit","__experimentalToggleGroupControl","ToggleGroupControl","__experimentalToggleGroupControlOption","ToggleGroupControlOption","__experimentalToggleGroupControlOptionIcon","ToggleGroupControlOptionIcon","convertToInline","onChangePosition","isAllowedValue","_value","onChangeAlign","newStylesObj","textAlign","isDeselectable","__experimentalUnitControl","UnitControl","__experimentalUseCustomUnits","useCustomUnits","SelectControl","updateCells","sanitizeUnitValue","cellWidthUnits","availableUnits","selectedCellTags","selectedCell","includes","updateCellsState","state","onChangeBackgroundColor","backgroundColor","onChangeWidth","width","onChangeTextAlign","onChangeVerticalAlign","verticalAlign","onChangeTag","isAllowedTag","onChangeClass","onChangeId","onChangeHeaders","onChangeScope","units","autoComplete","toggleSection","onChangeIsStackedOnMobile","onChangeSticky","apiFetch","createReduxStore","register","DEFAULT_STATE","actions","path","setOptions","reducer","action","selectors","GET_OPTIONS","resolvers","blocksStore","splitMergedCell","normalizeRowColSpan","blocks","transform","convertedSections","colspan","rowspan","to","getBlockType","blockType","hasRowColSpanSupport","rowColSpanCells","forEach","sectionAttributes","entries","coreTableAttributes","newSection","DEFAULT_PRECISION","cleanEmptyObject","object","isArray","cleanedNestedObjects","fromEntries","parseCssValue","cssValue","cssValues","split","toLowerCase","initialValue","_value$match$","String","num","parseFloat","minNum","maxNum","modifier","precision","round","unit","match","parseUnit","_value$match$2","defaultValue","converted","rowColSpan","isInteger","toString","inlineStyles","replace","c","substr","toUpperCase","styleObj","stylesObj","lines","property","join","createSection","cols","newRowColCount","newRow","_","rowSpanCells","cRowIndex","rowSpanCellsCount","i","vMergedCells","newRows","isLastColumnInsert","newCells","cVColIndex","colSpanCells","colSpancells","colSpancell","vRangeIndexes","getVirtualRangeIndexes","minRowIndex","maxRowIndex","minColIndex","maxColIndex","rowColSpanCellsCount","mergedCellsContent","abs","vSection","j","cellState","isTargetCell","every","isMultiSectionSelected","selectedSections","vSections","count","isFilled","newTableAttributes","VRowIndex","vRange","isRectangled","currentSection","VCells","topCells","isTopFixed","rightCells","isRightFixed","bottomCells","isBottomFixed","leftCells","isLeftFixed"],"sourceRoot":""}
{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACkD;AACF;AAChD,iCAAiC,sDAAI,CAAC,sDAAG;AACzC;AACA;AACA,yBAAyB,sDAAI,CAAC,uDAAI;AAClC;AACA,GAAG;AACH,CAAC;AACD,iEAAe,WAAW,EAAC;AAC3B;;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACkD;AACF;AAChD,+BAA+B,sDAAI,CAAC,sDAAG;AACvC;AACA;AACA,yBAAyB,sDAAI,CAAC,uDAAI;AAClC;AACA,GAAG;AACH,CAAC;AACD,iEAAe,SAAS,EAAC;AACzB;;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACkD;AACF;AAChD,gCAAgC,sDAAI,CAAC,sDAAG;AACxC;AACA;AACA,yBAAyB,sDAAI,CAAC,uDAAI;AAClC;AACA,GAAG;AACH,CAAC;AACD,iEAAe,UAAU,EAAC;AAC1B;;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACkD;AACF;AAChD,gCAAgC,sDAAI,CAAC,sDAAG;AACxC;AACA;AACA,yBAAyB,sDAAI,CAAC,uDAAI;AAClC;AACA,GAAG;AACH,CAAC;AACD,iEAAe,UAAU,EAAC;AAC1B;;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACkD;AACF;AAChD,6BAA6B,sDAAI,CAAC,sDAAG;AACrC;AACA;AACA,yBAAyB,sDAAI,CAAC,uDAAI;AAClC;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD,iEAAe,OAAO,EAAC;AACvB;;;;;;;;;;;;;;;;;ACfA;AACA;AACA;AACkD;AACF;AAChD,iCAAiC,sDAAI,CAAC,sDAAG;AACzC;AACA;AACA,yBAAyB,sDAAI,CAAC,uDAAI;AAClC;AACA,GAAG;AACH,CAAC;AACD,iEAAe,WAAW,EAAC;AAC3B;;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACkD;AACF;AAChD,kCAAkC,sDAAI,CAAC,sDAAG;AAC1C;AACA;AACA,yBAAyB,sDAAI,CAAC,uDAAI;AAClC;AACA,GAAG;AACH,CAAC;AACD,iEAAe,YAAY,EAAC;AAC5B;;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACkD;AACF;AAChD,0BAA0B,sDAAI,CAAC,sDAAG;AAClC;AACA;AACA,yBAAyB,sDAAI,CAAC,uDAAI;AAClC;AACA,GAAG;AACH,CAAC;AACD,iEAAe,IAAI,EAAC;AACpB;;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACkD;AACF;AAChD,2BAA2B,sDAAI,CAAC,sDAAG;AACnC;AACA;AACA,yBAAyB,sDAAI,CAAC,uDAAI;AAClC;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD,iEAAe,KAAK,EAAC;AACrB;;;;;;;;;;;;;;;ACfA,cAAc,aAAa,+CAA+C,gDAAgD,eAAe,QAAQ,IAAI,0CAA0C,yCAAyC,SAAgB,gBAAgB,wCAAwC,IAAI,mDAAmD,SAAS,iEAAe,IAAI;;;;;;;;;;ACAnY;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,IAAI,IAAqC;AACzC;AACA;;AAEA,YAAY,mBAAO,CAAC,oBAAO;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,iGAAiG,eAAe;AAChH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;AACA,KAAK,GAAG;;AAER,kDAAkD;AAClD;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,4BAA4B;AAC5B;AACA,qCAAqC;;AAErC,gCAAgC;AAChC;AACA;;AAEA,gCAAgC;;AAEhC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;;AAGF;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;;AAEvC;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,sBAAsB;AACtB;AACA,SAAS;AACT,uBAAuB;AACvB;AACA,SAAS;AACT,uBAAuB;AACvB;AACA,SAAS;AACT,wBAAwB;AACxB;AACA,SAAS;AACT,wBAAwB;AACxB;AACA,SAAS;AACT,iCAAiC;AACjC;AACA,SAAS;AACT,2BAA2B;AAC3B;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;;;AAGN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,2DAA2D;;AAE3D;AACA;;AAEA;AACA,yDAAyD;AACzD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;;AAGT;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,kBAAkB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;;AAEA;AACA;AACA,gFAAgF;AAChF;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB;;;AAGlB;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAI;;;AAGJ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2HAA2H;AAC3H;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA;AACA;;AAEA,oEAAoE;;AAEpE;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,WAAW,GAAG;AACd,WAAW,eAAe;AAC1B,WAAW,GAAG;AACd,WAAW,GAAG;AACd;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK,GAAG;;AAER;AACA;AACA;AACA;AACA;AACA,KAAK,GAAG;AACR;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;;AAEA;AACA;AACA,kBAAkB;;AAElB;AACA;AACA,oBAAoB;AACpB,2DAA2D,UAAU;AACrE,yBAAyB,UAAU;AACnC;AACA,aAAa,UAAU;AACvB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,SAAS;AACrB;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,GAAG;AACd;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,6DAA6D;AAC7D;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,GAAG;AACd;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,iBAAiB;AACvC;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN,4CAA4C;;AAE5C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;;;AAGA;AACA;AACA;;AAEA,oBAAoB,iBAAiB;AACrC;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8CAA8C;AAC9C;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;;AAEA,0DAA0D;AAC1D;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,4BAA4B,qBAAqB;AACjD;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,gDAAgD,gDAAgD,MAAM,aAAa;;AAEnH;AACA,iDAAiD,kCAAkC,OAAO;;AAE1F,yGAAyG,cAAc,UAAU,gGAAgG,kBAAkB,UAAU,UAAU;;AAEvQ;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sCAAsC;AACtC;;AAEA;;AAEA,gBAAgB;AAChB,WAAW;AACX,YAAY;AACZ,GAAG;AACH;;;;;;;;;;;ACpzCa;;AAEb,IAAI,KAAqC,EAAE,EAE1C,CAAC;AACF,EAAE,+IAAkE;AACpE;;;;;;;;;;;;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;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEjDA;UACA;UACA;UACA;UACA","sources":["webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/align-center.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/align-left.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/align-right.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/block-table.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/caption.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/chevron-down.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/chevron-right.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/plus.js","webpack://comet-table-block/./node_modules/@wordpress/icons/build-module/library/trash.js","webpack://comet-table-block/./node_modules/clsx/dist/clsx.mjs","webpack://comet-table-block/./node_modules/react/cjs/react-jsx-runtime.development.js","webpack://comet-table-block/./node_modules/react/jsx-runtime.js","webpack://comet-table-block/./src/constants.ts","webpack://comet-table-block/./src/controls/color-control.tsx","webpack://comet-table-block/./src/controls/color-indicator-button.tsx","webpack://comet-table-block/./src/edit.tsx","webpack://comet-table-block/./src/editor.scss","webpack://comet-table-block/./src/elements/index.ts","webpack://comet-table-block/./src/elements/table-caption.tsx","webpack://comet-table-block/./src/elements/table-placeholder.tsx","webpack://comet-table-block/./src/elements/table.tsx","webpack://comet-table-block/./src/example.ts","webpack://comet-table-block/./src/icons.tsx","webpack://comet-table-block/./src/index.js","webpack://comet-table-block/./src/save.tsx","webpack://comet-table-block/./src/settings/index.ts","webpack://comet-table-block/./src/settings/table-caption-settings.tsx","webpack://comet-table-block/./src/settings/table-cell-settings.tsx","webpack://comet-table-block/./src/settings/table-settings.tsx","webpack://comet-table-block/./src/store.ts","webpack://comet-table-block/./src/style.scss","webpack://comet-table-block/./src/transforms.tsx","webpack://comet-table-block/./src/utils/helper.ts","webpack://comet-table-block/./src/utils/style-converter.ts","webpack://comet-table-block/./src/utils/table-state.ts","webpack://comet-table-block/external window [\"wp\",\"apiFetch\"]","webpack://comet-table-block/external window [\"wp\",\"blockEditor\"]","webpack://comet-table-block/external window [\"wp\",\"blocks\"]","webpack://comet-table-block/external window [\"wp\",\"components\"]","webpack://comet-table-block/external window [\"wp\",\"compose\"]","webpack://comet-table-block/external window [\"wp\",\"data\"]","webpack://comet-table-block/external window [\"wp\",\"element\"]","webpack://comet-table-block/external window [\"wp\",\"hooks\"]","webpack://comet-table-block/external window [\"wp\",\"i18n\"]","webpack://comet-table-block/external window [\"wp\",\"keycodes\"]","webpack://comet-table-block/external window [\"wp\",\"notices\"]","webpack://comet-table-block/external window [\"wp\",\"primitives\"]","webpack://comet-table-block/external window \"React\"","webpack://comet-table-block/webpack/bootstrap","webpack://comet-table-block/webpack/runtime/chunk loaded","webpack://comet-table-block/webpack/runtime/compat get default export","webpack://comet-table-block/webpack/runtime/define property getters","webpack://comet-table-block/webpack/runtime/hasOwnProperty shorthand","webpack://comet-table-block/webpack/runtime/make namespace object","webpack://comet-table-block/webpack/runtime/jsonp chunk loading","webpack://comet-table-block/webpack/before-startup","webpack://comet-table-block/webpack/startup","webpack://comet-table-block/webpack/after-startup"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst alignCenter = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z\"\n  })\n});\nexport default alignCenter;\n//# sourceMappingURL=align-center.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst alignLeft = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z\"\n  })\n});\nexport default alignLeft;\n//# sourceMappingURL=align-left.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst alignRight = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z\"\n  })\n});\nexport default alignRight;\n//# sourceMappingURL=align-right.js.map","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst blockTable = /*#__PURE__*/_jsx(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z\"\n  })\n});\nexport default blockTable;\n//# sourceMappingURL=block-table.js.map","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst caption = /*#__PURE__*/_jsx(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsx(Path, {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z\"\n  })\n});\nexport default caption;\n//# sourceMappingURL=caption.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst chevronDown = /*#__PURE__*/_jsx(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z\"\n  })\n});\nexport default chevronDown;\n//# sourceMappingURL=chevron-down.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst chevronRight = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z\"\n  })\n});\nexport default chevronRight;\n//# sourceMappingURL=chevron-right.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst plus = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z\"\n  })\n});\nexport default plus;\n//# sourceMappingURL=plus.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst trash = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z\"\n  })\n});\nexport default trash;\n//# sourceMappingURL=trash.js.map","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nvar React = require('react');\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        var provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n\n      // eslint-disable-next-line no-fallthrough\n    }\n  }\n\n  return null;\n}\n\nvar assign = Object.assign;\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if ( !fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  var control;\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      var Fake = function () {\n        throw Error();\n      }; // $FlowFixMe\n\n\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        }\n      });\n\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sample.stack.split('\\n');\n      var controlLines = control.stack.split('\\n');\n      var s = sampleLines.length - 1;\n      var c = controlLines.length - 1;\n\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar loggedTypeFailures = {};\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n  {\n    // $FlowFixMe This is okay but Flow doesn't know it.\n    var has = Function.call.bind(hasOwnProperty);\n\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            // eslint-disable-next-line react-internal/prod-error-codes\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n        } catch (ex) {\n          error$1 = ex;\n        }\n\n        if (error$1 && !(error$1 instanceof Error)) {\n          setCurrentlyValidatingElement(element);\n\n          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n          setCurrentlyValidatingElement(null);\n        }\n\n        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error$1.message] = true;\n          setCurrentlyValidatingElement(element);\n\n          error('Failed %s type: %s', location, error$1.message);\n\n          setCurrentlyValidatingElement(null);\n        }\n      }\n    }\n  }\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n/*\n * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object';\n    return type;\n  }\n} // $FlowFixMe only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingRef = function () {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingRef.isReactWarning = true;\n    Object.defineProperty(props, 'ref', {\n      get: warnAboutAccessingRef,\n      configurable: true\n    });\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV(type, config, maybeKey, source, self) {\n  {\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      ref = config.ref;\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n  }\n}\n\nvar ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement$1(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n    }\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner$1.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner$1.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  {\n    if (source !== undefined) {\n      var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n      var lineNumber = source.lineNumber;\n      return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n    }\n\n    return '';\n  }\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner$1.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement$1(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement$1(null);\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object') {\n      return;\n    }\n\n    if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else if (node) {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      // Intentionally inside to avoid triggering lazy initializers:\n      var name = getComponentNameFromType(type);\n      checkPropTypes(propTypes, element.props, 'prop', name, element);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n      var _name = getComponentNameFromType(type);\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement$1(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement$1(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement$1(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement$1(null);\n    }\n  }\n}\n\nvar didWarnAboutKeySpread = {};\nfunction jsxWithValidation(type, props, key, isStaticChildren, source, self) {\n  {\n    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n\n    if (!validType) {\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var sourceInfo = getSourceInfoErrorAddendum(source);\n\n      if (sourceInfo) {\n        info += sourceInfo;\n      } else {\n        info += getDeclarationErrorAddendum();\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n\n    var element = jsxDEV(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n\n    if (element == null) {\n      return element;\n    } // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n\n\n    if (validType) {\n      var children = props.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    }\n\n    {\n      if (hasOwnProperty.call(props, 'key')) {\n        var componentName = getComponentNameFromType(type);\n        var keys = Object.keys(props).filter(function (k) {\n          return k !== 'key';\n        });\n        var beforeExample = keys.length > 0 ? '{key: someKey, ' + keys.join(': ..., ') + ': ...}' : '{key: someKey}';\n\n        if (!didWarnAboutKeySpread[componentName + beforeExample]) {\n          var afterExample = keys.length > 0 ? '{' + keys.join(': ..., ') + ': ...}' : '{}';\n\n          error('A props object containing a \"key\" prop is being spread into JSX:\\n' + '  let props = %s;\\n' + '  <%s {...props} />\\n' + 'React keys must be passed directly to JSX without using spread:\\n' + '  let props = %s;\\n' + '  <%s key={someKey} {...props} />', beforeExample, componentName, afterExample, componentName);\n\n          didWarnAboutKeySpread[componentName + beforeExample] = true;\n        }\n      }\n    }\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    } else {\n      validatePropTypes(element);\n    }\n\n    return element;\n  }\n} // These two functions exist to still get child warnings in dev\n// even with the prod transform. This means that jsxDEV is purely\n// opt-in behavior for better messages but that we won't stop\n// giving you warnings if you use production apis.\n\nfunction jsxWithValidationStatic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, true);\n  }\n}\nfunction jsxWithValidationDynamic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, false);\n  }\n}\n\nvar jsx =  jsxWithValidationDynamic ; // we may want to special case jsxs internally to take advantage of static children.\n// for now we can ship identical prod functions\n\nvar jsxs =  jsxWithValidationStatic ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsx;\nexports.jsxs = jsxs;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __, _x } from '@wordpress/i18n';\r\nimport {\r\n\talignLeft,\r\n\talignCenter,\r\n\talignRight,\r\n} from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\talignTop,\r\n\talignMiddle,\r\n\talignBottom\r\n} from './icons';\r\n\r\n// Custom store name.\r\nexport const STORE_NAME = 'comet' as const;\r\n\r\n// Rest API routes.\r\nexport const REST_API_ROUTE = '/comet/v1/options' as const;\r\n\r\n// Table placeholder default settings.\r\nexport const DEFAULT_PREVIEW_ROWS = 3 as const;\r\nexport const DEFAULT_PREVIEW_COLUMNS = 3 as const;\r\nexport const MIN_PREVIEW_TABLE_HEIGHT = 150 as const;\r\nexport const MAX_PREVIEW_TABLE_COL = 50 as const;\r\nexport const MAX_PREVIEW_TABLE_ROW = 50 as const;\r\nexport const THRESHOLD_PREVIEW_TABLE_COL = 10 as const;\r\nexport const THRESHOLD_PREVIEW_TABLE_ROW = 10 as const;\r\n\r\n// Available units on UnitControl component.\r\nexport const CELL_WIDTH_UNITS = ['%', 'px', 'em', 'rem'];\r\n\r\n// Cell label & text variations.\r\nexport const CELL_ARIA_LABEL = {\r\n\thead: __('Header cell text', 'comet'),\r\n\tbody: __('Body cell text', 'comet'),\r\n\tfoot: __('Footer cell text', 'comet'),\r\n} as const;\r\n\r\n// Controls variations.\r\nexport const TEXT_ALIGNMENT_CONTROLS = [\r\n\t{\r\n\t\ticon: alignLeft,\r\n\t\tlabel: __('Align left', 'comet'),\r\n\t\tvalue: 'left',\r\n\t},\r\n\t{\r\n\t\ticon: alignCenter,\r\n\t\tlabel: __('Align center', 'comet'),\r\n\t\tvalue: 'center',\r\n\t},\r\n\t{\r\n\t\ticon: alignRight,\r\n\t\tlabel: __('Align right', 'comet'),\r\n\t\tvalue: 'right',\r\n\t},\r\n] as const;\r\n\r\nexport const VERTICAL_ALIGNMENT_CONTROLS = [\r\n\t{\r\n\t\ticon: alignTop,\r\n\t\tlabel: __('Align top', 'comet'),\r\n\t\tvalue: 'top',\r\n\t},\r\n\t{\r\n\t\ticon: alignMiddle,\r\n\t\tlabel: __('Align middle', 'comet'),\r\n\t\tvalue: 'middle',\r\n\t},\r\n\t{\r\n\t\ticon: alignBottom,\r\n\t\tlabel: __('Align bottom', 'comet'),\r\n\t\tvalue: 'bottom',\r\n\t},\r\n] as const;\r\n\r\nexport const STICKY_CONTROLS = [\r\n\t{\r\n\t\tlabel: _x('none', 'comet'),\r\n\t\tvalue: 'none',\r\n\t},\r\n\t{\r\n\t\tlabel: __('Fixed header row', 'comet'),\r\n\t\tvalue: 'header',\r\n\t},\r\n\t{\r\n\t\tlabel: __('Fixed first column', 'comet'),\r\n\t\tvalue: 'first-column',\r\n\t},\r\n] as const;\r\n\r\nexport const CELL_TAG_CONTROLS = [\r\n\t{\r\n\t\tlabel: __('Header (<th>)', 'comet'),\r\n\t\tvalue: 'th',\r\n\t},\r\n\t{\r\n\t\tlabel: __('Data (<td>)', 'comet'),\r\n\t\tvalue: 'td',\r\n\t},\r\n] as const;\r\n\r\nexport const CELL_SCOPE_CONTROLS = [\r\n\t{\r\n\t\tlabel: __('default / automatic', 'comet'),\r\n\t\tvalue: '',\r\n\t},\r\n\t{\r\n\t\tlabel: __('col', 'comet'),\r\n\t\tvalue: 'col',\r\n\t},\r\n\t{\r\n\t\tlabel: __('row', 'comet'),\r\n\t\tvalue: 'row',\r\n\t},\r\n\t{\r\n\t\tlabel: __('rowgroup', 'comet'),\r\n\t\tvalue: 'rowgroup',\r\n\t},\r\n\t{\r\n\t\tlabel: __('colgroup', 'comet'),\r\n\t\tvalue: 'colgroup',\r\n\t},\r\n] as const;\r\n\r\nexport const CAPTION_POSITION_CONTROLS = [\r\n\t{\r\n\t\tlabel: __('Top', 'comet'),\r\n\t\tvalue: 'top',\r\n\t},\r\n\t{\r\n\t\tlabel: __('Bottom', 'comet'),\r\n\t\tvalue: 'bottom',\r\n\t},\r\n] as const;\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { Property } from 'csstype';\r\nimport type { ReactElement } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useState } from '@wordpress/element';\r\nimport {\r\n\tBaseControl,\r\n\tFlexBlock,\r\n\tPopover,\r\n\tColorPalette,\r\n\t__experimentalVStack as VStack,\r\n\t__experimentalSpacer as Spacer,\r\n\t__experimentalText as Text,\r\n} from '@wordpress/components';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\nimport { useInstanceId } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport ColorIndicatorButton from './color-indicator-button';\r\n\r\ntype Props = {\r\n\tlabel: string | ReactElement;\r\n\thelp?: string;\r\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\tonChange: (event: any) => void;\r\n\tcolors?: {\r\n\t\tname: string;\r\n\t\tslug: string;\r\n\t\tcolor: Property.Color;\r\n\t}[];\r\n\tvalue: Property.Color | undefined;\r\n};\r\n\r\nexport default function ColorControl({\r\n\tlabel = __('Color', 'comet'),\r\n\thelp,\r\n\tonChange,\r\n\tcolors: colorsProp = [],\r\n\tvalue,\r\n}: Props) {\r\n\tconst instanceId = useInstanceId(ColorControl, 'ftb-color-control');\r\n\tconst headingId = `${instanceId}-heading`;\r\n\r\n\tconst colors = useSelect((select) => {\r\n\t\tconst settings = select(\r\n\t\t\tblockEditorStore\r\n\t\t\t// @ts-ignore\r\n\t\t).getSettings();\r\n\r\n\t\treturn settings?.colors ?? [];\r\n\t}, []);\r\n\r\n\tconst [isPickerOpen, setIsPickerOpen] = useState<boolean>(false);\r\n\r\n\tconst handleOnChange = (inputValue: Property.Color | undefined) => onChange(inputValue);\r\n\r\n\tconst handleOnPickerOpen = () => setIsPickerOpen(true);\r\n\r\n\tconst handleOnPickerClose = () => setIsPickerOpen(false);\r\n\r\n\treturn (\r\n\t\t<BaseControl className=\"ftb-color-control\" help={help} __nextHasNoMarginBottom>\r\n\t\t\t<VStack aria-labelledby={headingId} role=\"group\">\r\n\t\t\t\t<Text id={headingId} upperCase size=\"11\" weight=\"500\" as={FlexBlock}>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</Text>\r\n\t\t\t\t<ColorIndicatorButton\r\n\t\t\t\t\tlabel={__('Color', 'comet')}\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tonClick={handleOnPickerOpen}\r\n\t\t\t\t\tisNone={!value}\r\n\t\t\t\t\tisTransparent={value === 'transparent'}\r\n\t\t\t\t/>\r\n\t\t\t</VStack>\r\n\t\t\t{isPickerOpen && (\r\n\t\t\t\t<Popover placement=\"left-start\" shift offset={36} onClose={handleOnPickerClose}>\r\n\t\t\t\t\t<Spacer padding={4} marginBottom={0}>\r\n\t\t\t\t\t\t<ColorPalette\r\n\t\t\t\t\t\t\tcolors={[...colors, ...colorsProp]}\r\n\t\t\t\t\t\t\tvalue={value || ''}\r\n\t\t\t\t\t\t\tonChange={handleOnChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Spacer>\r\n\t\t\t\t</Popover>\r\n\t\t\t)}\r\n\t\t</BaseControl>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\nimport type { Property } from 'csstype';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { Button, ColorIndicator } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\ntype Props = {\r\n\tlabel: string;\r\n\tvalue?: Property.Color;\r\n\tisNone: boolean;\r\n\tisTransparent: boolean;\r\n\tisMixed?: boolean;\r\n\tonClick: () => void;\r\n};\r\n\r\nexport default function ColorIndicatorButton( {\r\n\tlabel,\r\n\tvalue,\r\n\tisNone,\r\n\tisTransparent,\r\n\tisMixed = false,\r\n\tonClick,\r\n}: Props ) {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tlabel={ label }\r\n\t\t\tclassName={ clsx( 'ftb-color-indicator-button', {\r\n\t\t\t\t'is-none': isNone,\r\n\t\t\t\t'is-mixed': isMixed,\r\n\t\t\t\t'is-transparent': isTransparent,\r\n\t\t\t} ) }\r\n\t\t\tonClick={ onClick }\r\n\t\t>\r\n\t\t\t{ isMixed ? (\r\n\t\t\t\t__( 'Mixed', 'comet' )\r\n\t\t\t) : (\r\n\t\t\t\t<ColorIndicator colorValue={ value || '' } />\r\n\t\t\t) }\r\n\t\t</Button>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useEffect, useState } from '@wordpress/element';\r\nimport {\r\n\tInspectorControls,\r\n\tBlockControls,\r\n\tuseBlockProps,\r\n\t// @ts-ignore: has no exported member\r\n\tuseBlockEditingMode,\r\n} from '@wordpress/block-editor';\r\nimport { ToolbarDropdownMenu, PanelBody } from '@wordpress/components';\r\nimport { blockTable } from '@wordpress/icons';\r\nimport type { BlockEditProps } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport './editor.scss';\r\n\r\nimport { TableSettings, TableCaptionSettings, TableCellSettings } from './settings';\r\nimport { Table, TablePlaceholder } from './elements';\r\nimport {\r\n\tinsertRow,\r\n\tdeleteRow,\r\n\tinsertColumn,\r\n\tdeleteColumn,\r\n\tmergeCells,\r\n\tsplitMergedCells,\r\n\thasMergedCells,\r\n\tisRectangleSelected,\r\n\ttoTableAttributes,\r\n\ttoVirtualTable,\r\n\tisEmptySection,\r\n\ttype VTable,\r\n\ttype VSelectedLine,\r\n\ttype VSelectedCells,\r\n} from './utils/table-state';\r\nimport {\r\n\ttableRowAfter,\r\n\ttableRowBefore,\r\n\ttableColumnBefore,\r\n\ttableColumnAfter,\r\n\ttableColumnDelete,\r\n\ttableRowDelete,\r\n\ttableMergeCell,\r\n\ttableSplitCell,\r\n} from './icons';\r\nimport type { BlockAttributes, SectionName } from './BlockAttributes';\r\n\r\nfunction TableEdit(props: BlockEditProps<BlockAttributes>) {\r\n\tconst {\r\n\t\tattributes,\r\n\t\tsetAttributes,\r\n\t\tisSelected: isSingleSelected\r\n\t} = props;\r\n\tconst [selectedCells, setSelectedCells] = useState<VSelectedCells>(undefined);\r\n\tconst [selectedLine, setSelectedLine] = useState<VSelectedLine>(undefined);\r\n\tconst blockEditingMode = useBlockEditingMode();\r\n\tconst isContentOnlyMode = blockEditingMode === 'contentOnly';\r\n\r\n\t// Release cell selection.\r\n\tuseEffect(() => {\r\n\t\tif (!isSingleSelected) {\r\n\t\t\tsetSelectedCells(undefined);\r\n\t\t\tsetSelectedLine(undefined);\r\n\t\t}\r\n\t}, [isSingleSelected]);\r\n\r\n\t// Create virtual table object with the cells placed in positions based on how they actually look.\r\n\tconst vTable: VTable = toVirtualTable(attributes);\r\n\r\n\tconst onInsertRow = (offset: number) => {\r\n\t\tif (!selectedCells || selectedCells.length !== 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { sectionName, rowIndex, rowSpan } = selectedCells[0];\r\n\r\n\t\t// Calculate row index to be inserted considering rowspan of the selected cell.\r\n\t\tconst insertRowIndex = offset === 0 ? rowIndex : rowIndex + offset + rowSpan - 1;\r\n\r\n\t\tconst newVTable = insertRow(vTable, { sectionName, rowIndex: insertRowIndex });\r\n\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onDeleteRow = () => {\r\n\t\tif (!selectedCells || selectedCells.length !== 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { sectionName, rowIndex } = selectedCells[0];\r\n\r\n\t\tconst newVTable = deleteRow(vTable, { sectionName, rowIndex });\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onInsertColumn = (offset: number) => {\r\n\t\tif (!selectedCells || selectedCells.length !== 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { vColIndex, colSpan } = selectedCells[0];\r\n\r\n\t\t// Calculate column index to be inserted considering colspan of the selected cell.\r\n\t\tconst insertVColIndex = offset === 0 ? vColIndex : vColIndex + offset + colSpan - 1;\r\n\r\n\t\tconst newVTable = insertColumn(vTable, { vColIndex: insertVColIndex });\r\n\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onDeleteColumn = () => {\r\n\t\tif (!selectedCells || selectedCells.length !== 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { vColIndex } = selectedCells[0];\r\n\r\n\t\tconst newVTable = deleteColumn(vTable, { vColIndex });\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onMergeCells = () => {\r\n\t\tconst newVTable = mergeCells(vTable, selectedCells);\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onSplitMergedCells = () => {\r\n\t\tconst newVTable = splitMergedCells(vTable, selectedCells);\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst TableEditControls = [\r\n\t\t{\r\n\t\t\ticon: tableRowBefore,\r\n\t\t\ttitle: __('Insert row before', 'comet'),\r\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\r\n\t\t\tonClick: () => onInsertRow(0),\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableRowAfter,\r\n\t\t\ttitle: __('Insert row after', 'comet'),\r\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\r\n\t\t\tonClick: () => onInsertRow(1),\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableRowDelete,\r\n\t\t\ttitle: __('Delete row', 'comet'),\r\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\r\n\t\t\tonClick: () => onDeleteRow(),\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableColumnBefore,\r\n\t\t\ttitle: __('Insert column before', 'comet'),\r\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\r\n\t\t\tonClick: () => onInsertColumn(0),\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableColumnAfter,\r\n\t\t\ttitle: __('Insert column after', 'comet'),\r\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\r\n\t\t\tonClick: () => onInsertColumn(1),\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableColumnDelete,\r\n\t\t\ttitle: __('Delete column', 'comet'),\r\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\r\n\t\t\tonClick: () => onDeleteColumn(),\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableSplitCell,\r\n\t\t\ttitle: __('Split merged cells', 'comet'),\r\n\t\t\tisDisabled: !selectedCells || !hasMergedCells(selectedCells),\r\n\t\t\tonClick: () => onSplitMergedCells(),\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableMergeCell,\r\n\t\t\ttitle: __('Merge cells', 'comet'),\r\n\t\t\tisDisabled: !selectedCells || !isRectangleSelected(selectedCells),\r\n\t\t\tonClick: () => onMergeCells(),\r\n\t\t},\r\n\t];\r\n\r\n\tconst isEmpty: boolean = !['head', 'body', 'foot'].filter(\r\n\t\t(sectionName) => !isEmptySection(vTable[sectionName as SectionName])\r\n\t).length;\r\n\r\n\tconst tablePlaceholderProps = useBlockProps({});\r\n\r\n\tconst tableFigureProps = useBlockProps({});\r\n\r\n\tconst tableProps = {\r\n\t\tattributes,\r\n\t\tsetAttributes,\r\n\t\tisSelected: isSingleSelected,\r\n\t\tvTable,\r\n\t\tselectedCells,\r\n\t\tsetSelectedCells,\r\n\t\tselectedLine,\r\n\t\tsetSelectedLine,\r\n\t\tisContentOnlyMode,\r\n\t};\r\n\r\n\tconst tableSettingsProps = {\r\n\t\tattributes,\r\n\t\tsetAttributes,\r\n\t\tvTable,\r\n\t\tsetSelectedCells,\r\n\t\tsetSelectedLine,\r\n\t};\r\n\r\n\tconst tableCellSettingsProps = {\r\n\t\tfirstColumnIsHeaders: attributes?.firstColumnIsHeaders,\r\n\t\tsetAttributes,\r\n\t\tvTable,\r\n\t\tselectedCells,\r\n\t};\r\n\r\n\tconst tableCellSettingsLabel: string =\r\n\t\tselectedCells && selectedCells.length > 1\r\n\t\t\t? __('Selected cells', 'comet')\r\n\t\t\t: __('Selected cell', 'comet');\r\n\r\n\tconst tableCaptionSettingProps = {\r\n\t\tattributes,\r\n\t\tsetAttributes,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{isEmpty && (\r\n\t\t\t\t<div {...tablePlaceholderProps}>\r\n\t\t\t\t\t<TablePlaceholder {...props} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{!isEmpty && (\r\n\t\t\t\t<div {...tableFigureProps}>\r\n\t\t\t\t\t{!isContentOnlyMode && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t\t\t\t\t<ToolbarDropdownMenu\r\n\t\t\t\t\t\t\t\t\tlabel={__('Edit table', 'comet')}\r\n\t\t\t\t\t\t\t\t\ticon={blockTable}\r\n\t\t\t\t\t\t\t\t\tcontrols={TableEditControls}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</BlockControls>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<InspectorControls>\r\n\t\t\t\t\t\t<PanelBody\r\n\t\t\t\t\t\t\ttitle={__('Table layout', 'comet')}\r\n\t\t\t\t\t\t\tinitialOpen={true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableSettings {...tableSettingsProps} />\r\n\t\t\t\t\t\t</PanelBody>\r\n\t\t\t\t\t\t<PanelBody\r\n\t\t\t\t\t\t\ttitle={__('Table caption', 'comet')}\r\n\t\t\t\t\t\t\tinitialOpen={false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableCaptionSettings {...tableCaptionSettingProps} />\r\n\t\t\t\t\t\t</PanelBody>\r\n\t\t\t\t\t\t{selectedCells && !!selectedCells.length && (\r\n\t\t\t\t\t\t\t<PanelBody title={tableCellSettingsLabel} initialOpen={true}>\r\n\t\t\t\t\t\t\t\t<TableCellSettings {...tableCellSettingsProps} />\r\n\t\t\t\t\t\t\t</PanelBody>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</InspectorControls>\r\n\t\t\t\t\t<div className=\"wp-block-comet-table\">\r\n\t\t\t\t\t\t<Table {...tableProps} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default TableEdit;\r\n","// extracted by mini-css-extract-plugin\nexport {};","export { Table } from './table';\r\nexport { TableCaption } from './table-caption';\r\nexport { default as TablePlaceholder } from './table-placeholder';\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { BlockControls, RichText } from '@wordpress/block-editor';\r\nimport { ToolbarButton } from '@wordpress/components';\r\nimport { caption as captionIcon } from '@wordpress/icons';\r\nimport { useState, useEffect, useCallback } from '@wordpress/element';\r\nimport { usePrevious } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport type { BlockAttributes } from '../BlockAttributes';\r\n\r\ntype Props = {\r\n\tattributes: BlockAttributes;\r\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\r\n\tisSelected?: boolean;\r\n\tonFocus: () => void\r\n};\r\n\r\nexport function TableCaption({\r\n\tattributes,\r\n\tsetAttributes,\r\n\tisSelected,\r\n\tonFocus\r\n}: Props) {\r\n\tconst { caption = '', captionStyles } = attributes;\r\n\tconst prevCaption = usePrevious(caption);\r\n\tconst isCaptionEmpty = RichText.isEmpty(caption);\r\n\tconst isPrevCaptionEmpty = RichText.isEmpty(prevCaption || '');\r\n\tconst [showCaption, setShowCaption] = useState(!isCaptionEmpty);\r\n\r\n\tconst onChange = (value: string | undefined) => setAttributes({ caption: value });\r\n\r\n\tuseEffect(() => {\r\n\t\tif(!isCaptionEmpty && isPrevCaptionEmpty) {\r\n\t\t\tsetShowCaption(true);\r\n\t\t}\r\n\t}, [isCaptionEmpty, isPrevCaptionEmpty]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif(!isSelected && isCaptionEmpty) {\r\n\t\t\tsetShowCaption(false);\r\n\t\t}\r\n\t}, [isSelected, isCaptionEmpty]);\r\n\r\n\tconst ref = useCallback(\r\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\t\t(node: any) => {\r\n\t\t\tif (node && isCaptionEmpty) {\r\n\t\t\t\tnode?.focus();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[isCaptionEmpty]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{isSelected && (\r\n\t\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t\t<ToolbarButton\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetShowCaption(!showCaption);\r\n\t\t\t\t\t\t\tif (showCaption && caption) {\r\n\t\t\t\t\t\t\t\tonChange(undefined);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\ticon={captionIcon}\r\n\t\t\t\t\t\tisPressed={showCaption}\r\n\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\tshowCaption\r\n\t\t\t\t\t\t\t\t? __('Remove caption', 'comet')\r\n\t\t\t\t\t\t\t\t: __('Add caption', 'comet')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</BlockControls>\r\n\t\t\t)}\r\n\t\t\t{showCaption && (!RichText.isEmpty(caption) || isSelected) && (\r\n\t\t\t\t<RichText\r\n\t\t\t\t\taria-label={__('Table caption text', 'comet')}\r\n\t\t\t\t\tplaceholder={__('Add caption', 'comet')}\r\n\t\t\t\t\ttagName=\"caption\"\r\n\t\t\t\t\tstyle={captionStyles}\r\n\t\t\t\t\tvalue={caption}\r\n\t\t\t\t\tref={ref}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tonFocus={onFocus}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\nimport type { FormEvent } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useState, createInterpolateElement } from '@wordpress/element';\r\nimport { BlockIcon } from '@wordpress/block-editor';\r\nimport {\r\n\tButton,\r\n\tPlaceholder,\r\n\tTextControl,\r\n\tToggleControl,\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalVStack as VStack,\r\n\t__experimentalSpacer as Spacer,\r\n\t__experimentalText as Text,\r\n} from '@wordpress/components';\r\nimport { isAppleOS } from '@wordpress/keycodes';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tDEFAULT_PREVIEW_ROWS,\r\n\tDEFAULT_PREVIEW_COLUMNS,\r\n\tMIN_PREVIEW_TABLE_HEIGHT,\r\n\tMAX_PREVIEW_TABLE_COL,\r\n\tMAX_PREVIEW_TABLE_ROW,\r\n\tTHRESHOLD_PREVIEW_TABLE_COL,\r\n\tTHRESHOLD_PREVIEW_TABLE_ROW,\r\n} from '../constants';\r\nimport { createTable, toTableAttributes, type VTable } from '../utils/table-state';\r\nimport { blockIcon as icon } from '../icons';\r\nimport type { BlockAttributes } from '../BlockAttributes';\r\n\r\ntype Props = {\r\n\tsetAttributes: ( attrs: Partial< BlockAttributes > ) => void;\r\n};\r\n\r\nexport default function TablePlaceholder( { setAttributes }: Props ) {\r\n\tconst [ rowCount, setRowCount ] = useState< number | undefined >( DEFAULT_PREVIEW_ROWS );\r\n\tconst [ colCount, setColCount ] = useState< number | undefined >( DEFAULT_PREVIEW_COLUMNS );\r\n\tconst [ headerSection, setHeaderSection ] = useState< boolean >( false );\r\n\tconst [ footerSection, setFooterSection ] = useState< boolean >( false );\r\n\r\n\tconst totalRowCount: number | undefined = rowCount\r\n\t\t? rowCount + Number( headerSection ) + Number( footerSection )\r\n\t\t: undefined;\r\n\tconst cellHeight: number | undefined = totalRowCount\r\n\t\t? Number( MIN_PREVIEW_TABLE_HEIGHT / Math.min( THRESHOLD_PREVIEW_TABLE_ROW, totalRowCount ) )\r\n\t\t: undefined;\r\n\r\n\tconst onCreateTable = ( event: FormEvent ) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif ( ! rowCount || ! colCount ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst vTable: VTable = createTable( {\r\n\t\t\trowCount: Math.min( rowCount, MAX_PREVIEW_TABLE_ROW ),\r\n\t\t\tcolCount: Math.min( colCount, MAX_PREVIEW_TABLE_COL ),\r\n\t\t\theaderSection,\r\n\t\t\tfooterSection,\r\n\t\t} );\r\n\r\n\t\tsetAttributes( toTableAttributes( vTable ) );\r\n\t};\r\n\r\n\tconst onChangeColumnCount = ( value: string ) => {\r\n\t\tconst parsedValue = parseInt( value, 10 );\r\n\t\tif ( isNaN( parsedValue ) ) {\r\n\t\t\tsetColCount( undefined );\r\n\t\t}\n\t\telse {\r\n\t\t\tsetColCount( Math.max( 1, Math.min( MAX_PREVIEW_TABLE_COL, parsedValue ) ) );\r\n\t\t}\r\n\t};\r\n\r\n\tconst onChangeRowCount = ( value: string ) => {\r\n\t\tconst parsedValue = parseInt( value );\r\n\t\tif ( isNaN( parsedValue ) ) {\r\n\t\t\tsetRowCount( undefined );\r\n\t\t}\n\t\telse {\r\n\t\t\tsetRowCount( Math.max( 1, Math.min( MAX_PREVIEW_TABLE_ROW, parsedValue ) ) );\r\n\t\t}\r\n\t};\r\n\r\n\tconst onToggleHeaderSection = ( section: boolean ) => setHeaderSection( section );\r\n\r\n\tconst onToggleFooterSection = ( section: boolean ) => setFooterSection( section );\r\n\r\n\tconst tableClasses: string = clsx( 'ftb-placeholder__table', {\r\n\t\t'is-overflow-row': totalRowCount && totalRowCount > THRESHOLD_PREVIEW_TABLE_ROW,\r\n\t\t'is-overflow-col': colCount && colCount > THRESHOLD_PREVIEW_TABLE_COL,\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<Placeholder\r\n\t\t\tlabel={ __( 'Flexible Table', 'flexible-table-block' ) }\r\n\t\t\tclassName=\"ftb-placeholder\"\r\n\t\t\ticon={ <BlockIcon icon={ icon } showColors /> }\r\n\t\t>\r\n\t\t\t<div className=\"components-placeholder__instructions\">\r\n\t\t\t\t{ createInterpolateElement(\r\n\t\t\t\t\tisAppleOS()\r\n\t\t\t\t\t\t? __(\r\n\t\t\t\t\t\t\t\t'Hint: Hold <code>Command</code> key to select multiple cells. Hold <code>Shift</code> key to select the range.',\r\n\t\t\t\t\t\t\t\t'flexible-table-block'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t: __(\r\n\t\t\t\t\t\t\t\t'Hint: Hold <code>Ctrl</code> key to select multiple cells. Hold <code>Shift</code> key to select the range.',\r\n\t\t\t\t\t\t\t\t'flexible-table-block'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t{ code: <code /> }\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t\t<Spacer\r\n\t\t\t\tas={ VStack }\r\n\t\t\t\tclassName=\"ftb-placeholder__table-wrap\"\r\n\t\t\t\tstyle={ { minHeight: MIN_PREVIEW_TABLE_HEIGHT } }\r\n\t\t\t\talignment=\"center\"\r\n\t\t\t\tpadding={ 4 }\r\n\t\t\t\tmarginBottom={ 0 }\r\n\t\t\t>\r\n\t\t\t\t<Text align=\"center\" isBlock weight=\"500\">\r\n\t\t\t\t\t{ __( 'Preview', 'flexible-table-block' ) }\r\n\t\t\t\t</Text>\r\n\t\t\t\t{ rowCount && colCount && (\r\n\t\t\t\t\t<table className={ tableClasses }>\r\n\t\t\t\t\t\t{ headerSection && (\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t{ Array.from( {\r\n\t\t\t\t\t\t\t\t\t\tlength: Math.min( colCount, THRESHOLD_PREVIEW_TABLE_COL ),\r\n\t\t\t\t\t\t\t\t\t} ).map( ( _col, colIndex ) => (\r\n\t\t\t\t\t\t\t\t\t\t<th key={ colIndex } style={ { height: cellHeight } } />\r\n\t\t\t\t\t\t\t\t\t) ) }\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{ Array.from( { length: Math.min( rowCount, THRESHOLD_PREVIEW_TABLE_ROW ) } ).map(\r\n\t\t\t\t\t\t\t\t( _row, rowIndex ) => (\r\n\t\t\t\t\t\t\t\t\t<tr key={ rowIndex }>\r\n\t\t\t\t\t\t\t\t\t\t{ Array.from( {\r\n\t\t\t\t\t\t\t\t\t\t\tlength: Math.min( colCount, THRESHOLD_PREVIEW_TABLE_COL ),\r\n\t\t\t\t\t\t\t\t\t\t} ).map( ( _col, colIndex ) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<td key={ colIndex } style={ { height: cellHeight } } />\r\n\t\t\t\t\t\t\t\t\t\t) ) }\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t{ footerSection && (\r\n\t\t\t\t\t\t\t<tfoot>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t{ Array.from( {\r\n\t\t\t\t\t\t\t\t\t\tlength: Math.min( colCount, THRESHOLD_PREVIEW_TABLE_COL ),\r\n\t\t\t\t\t\t\t\t\t} ).map( ( _col, colIndex ) => (\r\n\t\t\t\t\t\t\t\t\t\t<td key={ colIndex } style={ { height: cellHeight } } />\r\n\t\t\t\t\t\t\t\t\t) ) }\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</tfoot>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</table>\r\n\t\t\t\t) }\r\n\t\t\t</Spacer>\r\n\t\t\t<VStack as=\"form\" onSubmit={ onCreateTable }>\r\n\t\t\t\t<HStack wrap justify=\"start\">\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\tlabel={ __( 'Header section', 'flexible-table-block' ) }\r\n\t\t\t\t\t\tchecked={ !! headerSection }\r\n\t\t\t\t\t\tonChange={ onToggleHeaderSection }\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\tlabel={ __( 'Footer section', 'flexible-table-block' ) }\r\n\t\t\t\t\t\tchecked={ !! footerSection }\r\n\t\t\t\t\t\tonChange={ onToggleFooterSection }\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t/>\r\n\t\t\t\t</HStack>\r\n\t\t\t\t<HStack wrap alignment=\"end\" justify=\"start\">\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\tlabel={ __( 'Column count', 'flexible-table-block' ) }\r\n\t\t\t\t\t\tclassName=\"ftb-placeholder__input\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\tmax={ MAX_PREVIEW_TABLE_COL }\r\n\t\t\t\t\t\tvalue={ colCount || '' }\r\n\t\t\t\t\t\tonChange={ onChangeColumnCount }\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\tlabel={ __( 'Row count', 'flexible-table-block' ) }\r\n\t\t\t\t\t\tclassName=\"ftb-placeholder__input\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\tmax={ MAX_PREVIEW_TABLE_ROW }\r\n\t\t\t\t\t\tvalue={ rowCount || '' }\r\n\t\t\t\t\t\tonChange={ onChangeRowCount }\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tdisabled={ ! rowCount || ! colCount }\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'Create Table', 'flexible-table-block' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</HStack>\r\n\t\t\t</VStack>\r\n\t\t</Placeholder>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\nimport type { Dispatch, SetStateAction, MouseEvent, KeyboardEvent } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useState, useEffect, useRef } from '@wordpress/element';\r\nimport { RichText } from '@wordpress/block-editor';\r\nimport { Button } from '@wordpress/components';\r\nimport { plus, trash, chevronRight, chevronDown } from '@wordpress/icons';\r\nimport { store as noticesStore } from '@wordpress/notices';\r\nimport { useDispatch } from '@wordpress/data';\r\nimport { TableCaption } from './table-caption';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { CELL_ARIA_LABEL } from '../constants';\r\nimport {\r\n\tinsertRow,\r\n\tdeleteRow,\r\n\tinsertColumn,\r\n\tdeleteColumn,\r\n\ttoRectangledSelectedCells,\r\n\ttoVirtualRows,\r\n\ttoTableAttributes,\r\n\tisEmptySection,\r\n\ttype VTable,\r\n\ttype VCell,\r\n\ttype VRow,\r\n\ttype VSelectedLine,\r\n\ttype VSelectedCells,\r\n} from '../utils/table-state';\r\nimport { convertToObject } from '../utils/style-converter';\r\n\r\nimport type { SectionName, CellTagValue, BlockAttributes } from '../BlockAttributes';\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction TSection(props: any) {\r\n\tconst { name, ...restProps } = props;\r\n\tconst TagName = `t${name}`;\r\n\r\n\treturn <TagName {...restProps} />;\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction Cell(props: any) {\r\n\tconst { name, ...restProps } = props;\r\n\tconst TagName: CellTagValue = name;\r\n\r\n\treturn <TagName {...restProps} />;\r\n}\r\n\r\ntype Props = {\r\n\tattributes: BlockAttributes;\r\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\r\n\tisSelected: boolean;\r\n\tvTable: VTable;\r\n\tselectedCells: VSelectedCells;\r\n\tsetSelectedCells: Dispatch<SetStateAction<VSelectedCells>>;\r\n\tselectedLine: VSelectedLine;\r\n\tsetSelectedLine: Dispatch<SetStateAction<VSelectedLine>>;\r\n\tisContentOnlyMode: boolean;\r\n};\r\n\r\nexport function Table({\r\n\tattributes,\r\n\tsetAttributes,\r\n\tisSelected,\r\n\tvTable,\r\n\tselectedCells,\r\n\tsetSelectedCells,\r\n\tselectedLine,\r\n\tsetSelectedLine,\r\n\tisContentOnlyMode,\r\n}: Props) {\r\n\tconst [isSelectMode, setIsSelectMode] = useState<boolean>(false);\r\n\r\n\t// Manage rendering status as state since some processing may be performed before rendering components.\r\n\tconst [isReady, setIdReady] = useState<boolean>(false);\r\n\tuseEffect(() => setIdReady(true), []);\r\n\r\n\tconst tableRef = useRef(null);\r\n\tconst { createWarningNotice } = useDispatch(noticesStore);\r\n\r\n\tlet isTabMove: boolean = false;\r\n\r\n\tconst isRowSelected = selectedLine && 'sectionName' in selectedLine && 'rowIndex' in selectedLine;\r\n\tconst isColumnSelected = selectedLine && 'vColIndex' in selectedLine;\r\n\r\n\tconst onInsertRow = (sectionName: SectionName, rowIndex: number) => {\r\n\t\tconst newVTable = insertRow(vTable, { sectionName, rowIndex });\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onDeleteRow = (sectionName: SectionName, rowIndex: number) => {\r\n\t\t// Do not allow tbody to be empty for table with thead /tfoot sections.\r\n\t\tif(sectionName === 'body' && vTable.body.length === 1 && (!isEmptySection(vTable.head) || !isEmptySection(vTable.foot))) {\r\n\t\t\t// @ts-ignore\r\n\t\t\tcreateWarningNotice(\r\n\t\t\t\t__('The table body must have one or more rows.', 'comet'),\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 'comet-body-row',\r\n\t\t\t\t\ttype: 'snackbar',\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst newVTable = deleteRow(vTable, { sectionName, rowIndex });\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onInsertColumn = (vTargetCell: VCell, offset: number) => {\r\n\t\t// Calculate column index to be inserted considering colspan of the target cell.\r\n\t\tconst vColIndex =\r\n\t\t\toffset === 0\r\n\t\t\t\t? vTargetCell.vColIndex\r\n\t\t\t\t: vTargetCell.vColIndex + offset + vTargetCell.colSpan - 1;\r\n\r\n\t\tconst newVTable = insertColumn(vTable, { vColIndex });\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onDeleteColumn = (vColIndex: number) => {\r\n\t\tconst newVTable = deleteColumn(vTable, { vColIndex });\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onSelectSectionCells = (sectionName: SectionName) => {\r\n\t\tsetSelectedCells(\r\n\t\t\tvTable[sectionName].reduce((cells: VCell[], row) => {\r\n\t\t\t\treturn cells.concat(row.cells.filter((cell) => !cell.isHidden));\r\n\t\t\t}, [])\r\n\t\t);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onSelectRow = (sectionName: SectionName, rowIndex: number) => {\r\n\t\tif (\r\n\t\t\tisRowSelected &&\r\n\t\t\tselectedLine.sectionName === sectionName &&\r\n\t\t\tselectedLine.rowIndex === rowIndex\r\n\t\t) {\r\n\t\t\tsetSelectedLine(undefined);\r\n\t\t\tsetSelectedCells(undefined);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetSelectedLine({ sectionName, rowIndex });\r\n\t\t\tsetSelectedCells(\r\n\t\t\t\tvTable[sectionName].reduce((cells: VCell[], row) => {\r\n\t\t\t\t\treturn cells.concat(\r\n\t\t\t\t\t\trow.cells.filter((cell) => cell.rowIndex === rowIndex && !cell.isHidden)\r\n\t\t\t\t\t);\r\n\t\t\t\t}, [])\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onSelectColumn = (vColIndex: number) => {\r\n\t\tif (isColumnSelected && selectedLine.vColIndex && selectedLine.vColIndex === vColIndex) {\r\n\t\t\tsetSelectedLine(undefined);\r\n\t\t\tsetSelectedCells(undefined);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconst vRows = toVirtualRows(vTable);\r\n\r\n\t\t\tsetSelectedCells(\r\n\t\t\t\tvRows.reduce(\r\n\t\t\t\t\t(cells: VCell[], row) =>\r\n\t\t\t\t\t\tcells.concat(\r\n\t\t\t\t\t\t\trow.cells.filter((cell) => cell.vColIndex === vColIndex && !cell.isHidden)\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t[]\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tsetSelectedLine({ vColIndex });\r\n\t\t}\r\n\t};\r\n\r\n\tconst onChangeCellContent = (content: string, targetCell: VCell) => {\r\n\t\t// If inline highlight is applied to the RichText, this process is performed before rendering the component, causing a warning error.\r\n\t\t// Therefore, nothing is performed if the component has not yet been rendered.\r\n\t\tif (!isReady) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { sectionName, rowIndex: selectedRowIndex, vColIndex: selectedVColIndex } = targetCell;\r\n\t\tsetSelectedCells([{ ...targetCell, isFirstSelected: true }]);\r\n\r\n\t\tconst newVTable = {\r\n\t\t\t...vTable,\r\n\t\t\t[sectionName]: vTable[sectionName].map((row, rowIndex) => {\r\n\t\t\t\tif (rowIndex !== selectedRowIndex) {\r\n\t\t\t\t\treturn { cells: row.cells.filter((cell) => !cell.isHidden) };\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcells: row.cells.map((cell, vColIndex) => {\r\n\t\t\t\t\t\tif (rowIndex !== selectedRowIndex || vColIndex !== selectedVColIndex) {\r\n\t\t\t\t\t\t\treturn cell;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}),\r\n\t\t\t\t};\r\n\t\t\t}),\r\n\t\t};\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t};\r\n\r\n\t// Monitor pressed key to determine whether multi-select mode or range-select mode.\r\n\t// Also the next cell will be focused if tab key navigation is enabled.\r\n\tconst onKeyDown = (event: KeyboardEvent) => {\r\n\t\tconst { key } = event;\r\n\r\n\t\tif (key === 'Shift' || key === 'Control' || key === 'Meta') {\r\n\t\t\t// range-select mode or multi-select mode.\r\n\t\t\tsetIsSelectMode(true);\r\n\t\t}\r\n\t\telse if (key === 'Tab' && tableRef.current) {\r\n\t\t\tconst isInsideTableBlock =\r\n\t\t\t\t(event.target as HTMLElement).closest('.wp-block-comet-table') !== null;\r\n\r\n\t\t\tif (!isInsideTableBlock) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// Focus on the next cell.\r\n\t\t\tisTabMove = true;\r\n\r\n\t\t\tconst tableElement: HTMLElement = tableRef.current;\r\n\t\t\tconst { ownerDocument } = tableElement;\r\n\t\t\tconst { activeElement } = ownerDocument;\r\n\r\n\t\t\tconst activeCell = tableElement.querySelector(\r\n\t\t\t\t'th.is-selected > [contenteditable=\"true\"], td.is-selected > [contenteditable=\"true\"]'\r\n\t\t\t);\r\n\t\t\tconst isInsidePopover =\r\n\t\t\t\tactiveElement && activeElement.closest('.components-popover') !== null;\r\n\t\t\tconst hasLinkControl = !!ownerDocument.querySelector('.block-editor-link-control');\r\n\r\n\t\t\tif (!activeCell || isInsidePopover || hasLinkControl) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst tabbableNodes = tableElement.querySelectorAll(\r\n\t\t\t\t'th > [contenteditable=\"true\"], td > [contenteditable=\"true\"]'\r\n\t\t\t);\r\n\r\n\t\t\tconst tabbableElements = [].slice.call(tabbableNodes);\r\n\t\t\tconst activeCellIndex = tabbableElements.findIndex(\r\n\t\t\t\t(element: Node) => element === activeCell\r\n\t\t\t);\r\n\r\n\t\t\tif (activeCellIndex === -1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet nextCellIndex = event.shiftKey ? activeCellIndex - 1 : activeCellIndex + 1;\r\n\r\n\t\t\tif (nextCellIndex < 0) {\r\n\t\t\t\tnextCellIndex = tabbableElements.length - 1;\r\n\t\t\t}\r\n\t\t\telse if (nextCellIndex >= tabbableElements.length) {\r\n\t\t\t\tnextCellIndex = 0;\r\n\t\t\t}\r\n\r\n\t\t\tconst focusbleElement: HTMLElement = tabbableElements[nextCellIndex];\r\n\r\n\t\t\tif (!focusbleElement) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\tsetIsSelectMode(false);\r\n\t\t\tfocusbleElement.focus();\r\n\r\n\t\t\t// Select all text if the next cell is not empty.\r\n\t\t\tconst selection = ownerDocument.getSelection();\r\n\t\t\tconst range = ownerDocument.createRange();\r\n\r\n\t\t\tif (selection && focusbleElement.innerText.trim().length) {\r\n\t\t\t\trange.selectNodeContents(focusbleElement);\r\n\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\tselection.addRange(range);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst onKeyUp = (event: KeyboardEvent) => {\r\n\t\tconst { key } = event;\r\n\r\n\t\tif (key === 'Shift' || key === 'Control' || key === 'Meta') {\r\n\t\t\tconst isInsideTableBlock =\r\n\t\t\t\t(event.target as HTMLElement).closest('.wp-block-comet-table') !== null;\r\n\r\n\t\t\tif (!isInsideTableBlock) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tsetIsSelectMode(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onClickCell = (event: MouseEvent, clickedCell: VCell) => {\r\n\t\tconst { shiftKey, ctrlKey, metaKey } = event;\r\n\t\tconst isInsideTableBlock =\r\n\t\t\t(event.target as HTMLElement).closest('.wp-block-comet-table') !== null;\r\n\r\n\t\tif (!isInsideTableBlock) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { sectionName, rowIndex, vColIndex } = clickedCell;\r\n\r\n\t\tif (shiftKey) {\r\n\t\t\t// Range select.\r\n\t\t\tif (!selectedCells) {\r\n\t\t\t\tsetSelectedCells([{ ...clickedCell, isFirstSelected: true }]);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconst fromCell = selectedCells.find(({ isFirstSelected }) => isFirstSelected);\r\n\r\n\t\t\t\tif (!fromCell) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (fromCell.sectionName !== sectionName) {\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tcreateWarningNotice(\r\n\t\t\t\t\t\t__('Cannot select range cells from different sections.', 'comet'),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 'comet-range-sections',\r\n\t\t\t\t\t\t\ttype: 'snackbar',\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tsetSelectedCells(toRectangledSelectedCells(vTable, { fromCell, toCell: clickedCell }));\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (ctrlKey || metaKey) {\r\n\t\t\t// Multple select.\r\n\t\t\tconst newSelectedCells = selectedCells ? [...selectedCells] : [];\r\n\t\t\tconst existCellIndex = newSelectedCells.findIndex((cell) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tcell.sectionName === sectionName &&\r\n\t\t\t\t\tcell.rowIndex === rowIndex &&\r\n\t\t\t\t\tcell.vColIndex === vColIndex\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\t\tif (newSelectedCells.length && sectionName !== newSelectedCells[0].sectionName) {\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tcreateWarningNotice(\r\n\t\t\t\t\t__('Cannot select multi cells from difference sections.', 'comet'),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 'comet-multi-sections',\r\n\t\t\t\t\t\ttype: 'snackbar',\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (existCellIndex === -1) {\r\n\t\t\t\tnewSelectedCells.push(clickedCell);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tnewSelectedCells.splice(existCellIndex, 1);\r\n\t\t\t}\r\n\r\n\t\t\tsetSelectedCells(newSelectedCells);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Select cell for the first time.\r\n\t\t\tsetSelectedCells([{ ...clickedCell, isFirstSelected: true }]);\r\n\t\t}\r\n\t};\r\n\r\n\t// Remove cells from the virtual table that are not needed for dom rendering.\r\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\tconst filteredVTable = Object.keys(vTable).reduce((result: any, sectionName) => {\r\n\t\tif (isEmptySection(vTable[sectionName as SectionName])) {\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\t...result,\r\n\t\t\t[sectionName]: vTable[sectionName as SectionName].map((row) => ({\r\n\t\t\t\tcells: row.cells.filter((cell) => !cell.isHidden),\r\n\t\t\t})),\r\n\t\t};\r\n\t}, {});\r\n\r\n\tif (!filteredVTable) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst tableCaptionProps = {\r\n\t\tattributes,\r\n\t\tsetAttributes,\r\n\t\tisSelected,\r\n\t\tonFocus: () => {\r\n\t\t\tsetSelectedLine(undefined);\r\n\t\t\tsetSelectedCells(undefined);\r\n\t\t}\r\n\t};\r\n\r\n\tconst filteredSections = Object.keys(filteredVTable) as SectionName[];\r\n\r\n\treturn (\r\n\t\t<table ref={tableRef} onKeyDown={onKeyDown} onKeyUp={onKeyUp}>\r\n\t\t\t<TableCaption {...tableCaptionProps} />\r\n\t\t\t{filteredSections.map((sectionName: SectionName, sectionIndex) => (\r\n\t\t\t\t<TSection name={sectionName} key={sectionIndex}>\r\n\t\t\t\t\t{filteredVTable[sectionName].map((row: VRow, rowIndex: number) => (\r\n\t\t\t\t\t\t<tr key={rowIndex}>\r\n\t\t\t\t\t\t\t{row.cells.map((cell: VCell) => {\r\n\t\t\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\t\t\t\ttag,\r\n\t\t\t\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\t\theaders,\r\n\t\t\t\t\t\t\t\t\tscope,\r\n\t\t\t\t\t\t\t\t\tstyles,\r\n\t\t\t\t\t\t\t\t\trowSpan,\r\n\t\t\t\t\t\t\t\t\tcolSpan,\r\n\t\t\t\t\t\t\t\t\tvColIndex,\r\n\t\t\t\t\t\t\t\t} = cell;\r\n\r\n\t\t\t\t\t\t\t\t// Whether or not the current cell is included in the selected cells.\r\n\t\t\t\t\t\t\t\tconst isCellSelected = (selectedCells || []).some(\r\n\t\t\t\t\t\t\t\t\t(targetCell) =>\r\n\t\t\t\t\t\t\t\t\t\ttargetCell.sectionName === sectionName &&\r\n\t\t\t\t\t\t\t\t\t\ttargetCell.rowIndex === rowIndex &&\r\n\t\t\t\t\t\t\t\t\t\ttargetCell.vColIndex === vColIndex\r\n\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t\tconst cellStylesObj = convertToObject(styles);\r\n\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\t\t\t\tkey={vColIndex}\r\n\t\t\t\t\t\t\t\t\t\tname={tag}\r\n\t\t\t\t\t\t\t\t\t\tclassName={clsx(className, { 'is-selected': isCellSelected })}\r\n\t\t\t\t\t\t\t\t\t\trowSpan={rowSpan > 1 ? rowSpan : undefined}\r\n\t\t\t\t\t\t\t\t\t\tcolSpan={colSpan > 1 ? colSpan : undefined}\r\n\t\t\t\t\t\t\t\t\t\tstyle={cellStylesObj}\r\n\t\t\t\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\t\t\t\theaders={headers}\r\n\t\t\t\t\t\t\t\t\t\tscope={scope}\r\n\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => onClickCell(event, cell)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{isSelected &&\r\n\t\t\t\t\t\t\t\t\t\t\t!isContentOnlyMode &&\r\n\t\t\t\t\t\t\t\t\t\t\trowIndex === 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\tvColIndex === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ftb-table-cell-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonSelectSectionCells(sectionName);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{`t${sectionName}`}\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{isSelected && !isContentOnlyMode && (\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{rowIndex === 0 && vColIndex === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx('ftb-row-before-inserter', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'ftb-row-before-inserter--has-prev-section': sectionIndex > 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={__('Insert row before', 'comet')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={plus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonSize={18}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInsertRow(sectionName, rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{vColIndex === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ftb-row-selector\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={__('Select row', 'comet')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={chevronRight}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonSize={16}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisRowSelected &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedLine.sectionName === sectionName &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedLine.rowIndex === rowIndex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSelectRow(sectionName, rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isRowSelected &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedLine.sectionName === sectionName &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedLine.rowIndex === rowIndex && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ftb-row-deleter\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={__('Delete row', 'comet')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={trash}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonSize={20}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonDeleteRow(sectionName, rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{sectionIndex === 0 && rowIndex === 0 && vColIndex === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ftb-column-before-inserter\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={__('Insert column before', 'comet')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={plus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonSize={18}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInsertColumn(cell, 0);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{sectionIndex === 0 && rowIndex === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ftb-column-selector\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={__('Select column', 'comet')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={chevronDown}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonSize={18}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisColumnSelected && selectedLine.vColIndex === vColIndex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSelectColumn(vColIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isColumnSelected && selectedLine.vColIndex === vColIndex && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ftb-column-deleter\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={__('Delete column', 'comet')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={trash}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonSize={20}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonDeleteColumn(vColIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{vColIndex === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx('ftb-row-after-inserter', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'ftb-row-after-inserter--has-next-section':\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsectionIndex < Object.keys(filteredVTable).length - 1 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trowIndex + rowSpan - 1 === filteredVTable[sectionName].length - 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={__('Insert row after', 'comet')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={plus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonSize={18}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInsertRow(sectionName, rowIndex + rowSpan);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t<RichText\r\n\t\t\t\t\t\t\t\t\t\t\tkey={vColIndex}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={content}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => onChangeCellContent(value, cell)}\r\n\t\t\t\t\t\t\t\t\t\t\t{...((!isSelectMode || isTabMove) && {\r\n\t\t\t\t\t\t\t\t\t\t\t\tonFocus: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisTabMove = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedLine(undefined);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedCells([{ ...cell, isFirstSelected: true }]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\taria-label={CELL_ARIA_LABEL[sectionName as SectionName]}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t{isSelected &&\r\n\t\t\t\t\t\t\t\t\t\t\t!isContentOnlyMode &&\r\n\t\t\t\t\t\t\t\t\t\t\tsectionIndex === 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\trowIndex === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ftb-column-after-inserter\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={__('Insert column after', 'comet')}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={plus}\r\n\t\t\t\t\t\t\t\t\t\t\t\ticonSize={18}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonInsertColumn(cell, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</TSection>\r\n\t\t\t))}\r\n\t\t</table>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nexport default {\r\n\tattributes: {\r\n\t\thead: [\r\n\t\t\t{\r\n\t\t\t\tcells: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: __( 'Version', 'flexible-table-block' ),\r\n\t\t\t\t\t\ttag: 'th',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: __( 'Jazz Musician', 'flexible-table-block' ),\r\n\t\t\t\t\t\ttag: 'th',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: __( 'Release Date', 'flexible-table-block' ),\r\n\t\t\t\t\t\ttag: 'th',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t],\r\n\t\tbody: [\r\n\t\t\t{\r\n\t\t\t\tcells: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: '5.9',\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: 'Josphine Baker',\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: __( 'January 25, 2022', 'flexible-table-block' ),\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcells: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: '5.8',\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: 'Art Tatum',\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: __( 'July 20, 2021', 'flexible-table-block' ),\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcells: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: '5.7',\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: 'Esperanza Spalding',\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: __( 'March 9, 2021', 'flexible-table-block' ),\r\n\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n};\r\n","/* eslint-disable max-len */\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG, Circle, Polygon } from '@wordpress/components';\r\n\r\nexport const blockIcon = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Polygon points=\"17.5 1 7.8 5.6 10.8 6 6.5 10 16.5 5.5 13.4 5 17.5 1\" />\r\n\t\t<Path d=\"M19,11H5c-1.1,0-2,.9-2,2v8c0,1.1.9,2,2,2h14c1.1,0,2-.9,2-2v-8c0-1.1-.9-2-2-2ZM11.5,16.5h-7v-3.5c0-.3.2-.5.5-.5h6.5v4ZM13,12.5h6c.3,0,.5.2.5.5v3.5h-6.5v-4ZM4.5,21v-3h7v3.5h-6.5c-.3,0-.5-.2-.5-.5ZM19,21.5h-6v-3.5h6.5v3c0,.3-.2.5-.5.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const alignTop = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M9 20h6V9H9v11zM4 4v1.5h16V4H4z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const alignMiddle = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M20 11h-5V4H9v7H4v1.5h5V20h6v-7.5h5z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const alignBottom = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M15 4H9v11h6V4zM4 18.5V20h16v-1.5H4z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const tableRowBefore = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M15.8,8.3h-3v-3s-1.5,0-1.5,0v3h-3s0,1.5,0,1.5h3v3s1.5,0,1.5,0v-3h3s0-1.5,0-1.5ZM4,2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2V4c0-1.1.9-2,2-2ZM20.5,14.5V4c0-.3-.2-.5-.5-.5H4c-.3,0-.5.2-.5.5v10.5s17,0,17,0ZM20.4,20v-4s-4.7,0-4.7,0v4.5s4.3,0,4.3,0c.3,0,.5-.2.4-.5ZM14.2,20.5v-4.5s-4.5,0-4.5,0v4.5s4.5,0,4.5,0ZM8.2,20.5v-4.5s-4.8,0-4.8,0v4c0,.3.2.5.5.5h4.2s.1,0,.1,0Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const tableRowAfter = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M8.2,15.7h3v3s1.5,0,1.5,0v-3h3s0-1.5,0-1.5h-3v-3s-1.5,0-1.5,0v3h-3s0,1.5,0,1.5ZM20,22H4c-1.1,0-2-.9-2-2V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2ZM3.5,9.5v10.5c0,.3.2.5.5.5h16c.3,0,.5-.2.5-.5v-10.5s-17,0-17,0ZM3.6,4v4s4.7,0,4.7,0V3.5s-4.3,0-4.3,0c-.3,0-.5.2-.4.5ZM9.8,3.5v4.5s4.5,0,4.5,0V3.5s-4.5,0-4.5,0ZM15.8,3.5v4.5s4.8,0,4.8,0v-4c0-.3-.2-.5-.5-.5h-4.2s-.1,0-.1,0Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const tableColumnBefore = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M8.3,8.2v3h-3s0,1.5,0,1.5h3v3s1.5,0,1.5,0v-3h3s0-1.5,0-1.5h-3v-3s-1.5,0-1.5,0ZM2,20V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2ZM14.5,3.5H4c-.3,0-.5.2-.5.5v16c0,.3.2.5.5.5h10.5s0-17,0-17ZM20,3.6h-4s0,4.7,0,4.7h4.5s0-4.3,0-4.3c0-.3-.2-.5-.5-.4ZM20.5,9.8h-4.5s0,4.5,0,4.5h4.5s0-4.5,0-4.5ZM20.5,15.8h-4.5s0,4.8,0,4.8h4c.3,0,.5-.2.5-.5v-4.2s0-.1,0-.1Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const tableColumnAfter = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M15.8,15.8v-3h3v-1.5h-3v-3h-1.5v3h-3v1.5h3v3h1.5ZM22,4v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2ZM9.5,20.5h10.5c.3,0,.5-.2.5-.5V4c0-.3-.2-.5-.5-.5h-10.5v17ZM4,20.4h4v-4.7H3.5v4.3c0,.3.2.5.5.4ZM3.5,14.2h4.5v-4.5H3.5v4.5ZM3.5,8.2h4.5V3.4h-4c-.3,0-.5.2-.5.5v4.2h0Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const tableRowDelete = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M20,2H4c-1.1,0-2,.9-2,2v16c0,1.1.9,2,2,2h16c1.1,0,2-.9,2-2V4c0-1.1-.9-2-2-2ZM20.5,4v4.4h-4.1l.6.7-.6.8h4.1v4.2h-4.1l.6.8-.6.8h4.1v4.4c0,.3-.2.5-.5.5H4c-.3,0-.5-.3-.5-.6v-4.3h4.1l-.6-.8.6-.8H3.5v-4.2h4.1l-.6-.8.6-.7H3.5v-4.4c0-.3.2-.5.5-.5h16c.3,0,.5.2.5.5ZM8.1,14.8l2.8-2.8-2.8-2.8,1.1-1.1,2.8,2.8,2.8-2.8,1.1,1.1-2.8,2.8,2.8,2.8-1.1,1.1-2.8-2.8-2.8,2.8-1.1-1.1Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const tableColumnDelete = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M2,4v16c0,1.1.9,2,2,2h16c1.1,0,2-.9,2-2V4c0-1.1-.9-2-2-2H4c-1.1,0-2,.9-2,2ZM4,3.5h4.4v4.1s.7-.6.7-.6l.8.6V3.5h4.2v4.1s.7-.6.7-.6l.7.6V3.5h4.4c.3,0,.5.2.5.5v16c0,.3-.3.5-.6.5h-4.3v-4.1s-.7.6-.7.6l-.7-.6v4.1h-4.2v-4.1s-.8.6-.8.6l-.7-.6v4.1h-4.4c-.3,0-.5-.2-.5-.5V4c0-.3.2-.5.5-.5ZM14.8,15.9l-2.8-2.8-2.8,2.8-1.1-1.1,2.8-2.8-2.8-2.8,1.1-1.1,2.8,2.8,2.8-2.8,1.1,1.1-2.8,2.8,2.8,2.8-1.1,1.1Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const tableMergeCell = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M2,20V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2ZM8.2,3.5h-4.2c-.3,0-.5.2-.5.5v3.5h4.7V3.5ZM14.2,3.5h-4.5v4h4.5s0-4,0-4ZM20,3.5h-4.3v4h4.8v-3.5c0-.3-.2-.5-.5-.5ZM19,10.5H5v3h14v-3ZM8.2,16.5H3.5v3.5c0,.3.2.5.5.5h4.2v-4ZM14.2,16.5h-4.5v4h4.5s0-4,0-4ZM20.5,16.5h-4.8v4h4.3c.3,0,.5-.2.5-.5v-3.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const tableSplitCell = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M2,20V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2ZM4,3.5c-.3,0-.5.2-.5.5v3.5h17v-3.5c0-.3-.2-.5-.5-.5H4ZM15.2,13.5h3.8v-3h-3.8v3ZM10.2,10.5v3h3.5v-3h-3.5ZM8.7,10.5h-3.7v3h3.7v-3ZM20,20.5c.3,0,.5-.2.5-.5v-3.5H3.5v3.5c0,.3.2.5.5.5h16Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const borderSeparate = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M9.2,3h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM9.2,9.8h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z\" />\r\n\t\t<Path d=\"M19,3h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM19,9.8h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z\" />\r\n\t\t<Path d=\"M9.2,12.8h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM9.2,19.5h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z\" />\r\n\t\t<Path d=\"M19,12.7h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM19,19.5h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const borderCollapse = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M19,3H5c-1.1,0-2,.9-2,2v14c0,1.1.9,2,2,2h14c1.1,0,2-.9,2-2V5c0-1.1-.9-2-2-2ZM5,19.5c-.3,0-.5-.2-.5-.5v-6.2h6.8v6.8M11.2,11.2h-6.8v-6.2c0-.3.2-.5.5-.5h6.2v6.8ZM19.5,19c0,.3-.2.5-.5.5h-6.2v-6.8h6.8v6.2c.1,0,0,0,0,0ZM19.5,11.2h-6.8v-6.8h6.2c.3,0,.5.2.5.5v6.2Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const borderSolid = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<path d=\"M4,11.2h16v1.5H4v-1.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const borderDotted = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Circle cx=\"6\" cy=\"12\" r=\"2\" />\r\n\t\t<Circle cx=\"18\" cy=\"12\" r=\"2\" />\r\n\t\t<Circle cx=\"12\" cy=\"12\" r=\"2\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const borderDashed = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M4,11.2h4v1.5h-4v-1.5Z\" />\r\n\t\t<Path d=\"M16,11.2h4v1.5h-4v-1.5Z\" />\r\n\t\t<Path d=\"M10,11.2h4v1.5h-4v-1.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const borderDouble = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M4,9.2h16v1.5H4v-1.5Z\" />\r\n\t\t<Path d=\"M4,13.2h16v1.5H4v-1.5Z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { registerBlockType } from '@wordpress/blocks';\r\nimport { InspectorControls } from '@wordpress/block-editor';\r\nimport { addFilter } from '@wordpress/hooks';\r\nimport { createHigherOrderComponent } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport './store';\r\nimport './style.scss';\r\nimport metadata from './block.json';\r\nimport example from './example';\r\nimport { blockIcon as icon } from './icons';\r\nimport edit from './edit';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\n// Register block.\r\nconst config = {\r\n\ttitle: __('Table', 'comet'),\r\n\tcategory: 'text',\r\n\tdescription: __('Create structured content in rows and columns to display tabular data.', 'comet'),\r\n\ticon,\r\n\texample,\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n\tstyles: [\r\n\t\t{\r\n\t\t\tname: 'stripes',\r\n\t\t\tlabel: __('Stripes', 'comet'),\r\n\t\t},\r\n\t],\r\n};\r\nregisterBlockType(metadata.name, config);\r\n\r\nconst withInspectorControls = createHigherOrderComponent((BlockEdit) => {\r\n\treturn (props) => {\r\n\t\tconst { name } = props;\r\n\r\n\t\tif (name !== 'comet/table') {\r\n\t\t\treturn <BlockEdit {...props} />;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<InspectorControls/>\r\n\t\t\t\t<BlockEdit {...props} />\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n}, 'withInspectorControl');\r\n\r\naddFilter(\r\n\t'editor.BlockEdit',\r\n\t'comet/tableWithInspectorControls',\r\n\twithInspectorControls\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { RichText, useBlockProps } from '@wordpress/block-editor';\r\nimport type { BlockSaveProps } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { convertToObject } from './utils/style-converter';\r\nimport { toInteger } from './utils/helper';\r\nimport type { BlockAttributes, SectionName, Row } from './BlockAttributes';\r\n\r\nexport default function save({ attributes }: BlockSaveProps<BlockAttributes>) {\r\n\tconst {\r\n\t\tisStackedOnMobile,\r\n\t\tsticky,\r\n\t\thead,\r\n\t\tbody,\r\n\t\tfoot,\r\n\t\tcaption,\r\n\t\tcaptionStyles\r\n\t} = attributes;\r\n\r\n\tconst isEmpty: boolean = !head.length && !body.length && !foot.length;\r\n\r\n\tif (isEmpty) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst blockProps = useBlockProps.save({\r\n\t\tclassName: 'table',\r\n\t\t'data-allow-layout-stacking': isStackedOnMobile,\r\n\t\t'data-sticky': sticky\r\n\t});\r\n\r\n\tconst hasCaption: boolean = !RichText.isEmpty(caption || '');\r\n\r\n\tconst Section = ({ type, rows }: { type: SectionName; rows: Row[] }) => {\r\n\t\tif (!rows.length) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst Tag = `t${type}` as const;\r\n\r\n\t\treturn (\r\n\t\t\t<Tag>\r\n\t\t\t\t{rows.map(({ cells }, rowIndex) => (\r\n\t\t\t\t\t<tr key={rowIndex}>\r\n\t\t\t\t\t\t{cells.map(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{ content, tag, className, id, headers, scope, rowSpan, colSpan, styles },\r\n\t\t\t\t\t\t\t\tcellIndex\r\n\t\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\t\t\t\tkey={cellIndex}\r\n\t\t\t\t\t\t\t\t\ttagName={tag}\r\n\t\t\t\t\t\t\t\t\tclassName={className || undefined}\r\n\t\t\t\t\t\t\t\t\tid={(tag === 'th' && id) || undefined}\r\n\t\t\t\t\t\t\t\t\theaders={headers || undefined}\r\n\t\t\t\t\t\t\t\t\tscope={(tag === 'th' && scope) || undefined}\r\n\t\t\t\t\t\t\t\t\tvalue={content}\r\n\t\t\t\t\t\t\t\t\trowSpan={toInteger(rowSpan) > 1 ? toInteger(rowSpan) : undefined}\r\n\t\t\t\t\t\t\t\t\tcolSpan={toInteger(colSpan) > 1 ? toInteger(colSpan) : undefined}\r\n\t\t\t\t\t\t\t\t\tstyle={convertToObject(styles)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t))}\r\n\t\t\t</Tag>\r\n\t\t);\r\n\t};\r\n\r\n\tconst Caption = () => (\r\n\t\t<RichText.Content tagName=\"caption\" value={caption || ''} style={captionStyles}/>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"wp-block-comet-table\">\r\n\t\t\t<table {...blockProps}>\r\n\t\t\t\t{hasCaption && <Caption />}\r\n\t\t\t\t<Section type=\"head\" rows={head}/>\r\n\t\t\t\t<Section type=\"body\" rows={body}/>\r\n\t\t\t\t<Section type=\"foot\" rows={foot}/>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t);\r\n}\r\n","export { TableSettings } from './table-settings';\r\nexport { TableCaptionSettings } from './table-caption-settings';\r\nexport { TableCellSettings } from './table-cell-settings';\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { Properties } from 'csstype';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tFlex,\r\n\t__experimentalToggleGroupControl as ToggleGroupControl,\r\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\r\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\r\n} from '@wordpress/components';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { TEXT_ALIGNMENT_CONTROLS, CAPTION_POSITION_CONTROLS } from '../constants';\r\nimport type { captionPositionValue, BlockAttributes } from '../BlockAttributes';\r\n\r\ntype Props = {\r\n\tattributes: BlockAttributes;\r\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\r\n};\r\n\r\nexport function TableCaptionSettings({ attributes, setAttributes }: Props) {\r\n\tconst { captionStyles } = attributes;\r\n\r\n\tconst onChangePosition = (value: string | number | undefined) => {\r\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\t\tconst isAllowedValue = (_value: any): _value is captionPositionValue => {\r\n\t\t\treturn CAPTION_POSITION_CONTROLS.some((control) => control.value === _value);\r\n\t\t};\r\n\t\tif (isAllowedValue(value)) {\r\n\t\t\tsetAttributes({\r\n\t\t\t\t...attributes,\r\n\t\t\t\tcaptionStyles: {\r\n\t\t\t\t\t...captionStyles,\r\n\t\t\t\t\tcaptionSide: value\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst onChangeAlign = (value: string | number | undefined) => {\r\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\t\tconst isAllowedValue = (_value: any): _value is Properties[ 'textAlign' ] => {\r\n\t\t\treturn !value || TEXT_ALIGNMENT_CONTROLS.some((control) => control.value === _value);\r\n\t\t};\r\n\t\tif (isAllowedValue(value)) {\r\n\t\t\tsetAttributes({\r\n\t\t\t\t...attributes,\r\n\t\t\t\tcaptionStyles: {\r\n\t\t\t\t\t...captionStyles,\r\n\t\t\t\t\ttextAlign: value === captionStyles?.textAlign ? undefined : value,\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Flex wrap={false} align=\"flex-start\">\r\n\t\t\t<ToggleGroupControl\r\n\t\t\t\tlabel={__('Position', 'comet')}\r\n\t\t\t\tvalue={captionStyles?.captionSide ?? 'bottom'}\r\n\t\t\t\tonChange={onChangePosition}\r\n\t\t\t\tisBlock\r\n\t\t\t>\r\n\t\t\t\t{CAPTION_POSITION_CONTROLS.map(({ label, value }) => (\r\n\t\t\t\t\t<ToggleGroupControlOption key={value} value={value} label={label}/>\r\n\t\t\t\t))}\r\n\t\t\t</ToggleGroupControl>\r\n\t\t\t<ToggleGroupControl\r\n\t\t\t\tlabel={__('Text alignment', 'comet')}\r\n\t\t\t\tvalue={captionStyles?.textAlign}\r\n\t\t\t\tisDeselectable\r\n\t\t\t\tonChange={onChangeAlign}\r\n\t\t\t\tisBlock\r\n\t\t\t>\r\n\t\t\t\t{TEXT_ALIGNMENT_CONTROLS.map(({ icon, label, value }) => (\r\n\t\t\t\t\t<ToggleGroupControlOptionIcon\r\n\t\t\t\t\t\tkey={value}\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</ToggleGroupControl>\r\n\t\t</Flex>\r\n\t);\r\n}\r\n","// noinspection ES6PreferShortImport\r\n\r\n/**\r\n * External dependencies\r\n */\r\nimport type { Property } from 'csstype';\r\nimport { useMemo } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { createInterpolateElement } from '@wordpress/element';\r\nimport {\r\n\tBaseControl,\r\n\tFlex,\r\n\tTextControl,\r\n\t__experimentalToggleGroupControl as ToggleGroupControl,\r\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\r\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\r\n\t__experimentalUnitControl as UnitControl,\r\n\t__experimentalUseCustomUnits as useCustomUnits, SelectControl,\r\n} from '@wordpress/components';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tCELL_WIDTH_UNITS,\r\n\tCELL_TAG_CONTROLS,\r\n\tCELL_SCOPE_CONTROLS,\r\n\tTEXT_ALIGNMENT_CONTROLS,\r\n\tVERTICAL_ALIGNMENT_CONTROLS,\r\n} from '../constants';\r\nimport {\r\n\tColorControl,\r\n} from '../controls';\r\nimport {\r\n\ttoTableAttributes,\r\n\tupdateCells,\r\n\ttype VTable,\r\n\ttype VSelectedCells,\r\n} from '../utils/table-state';\r\nimport { convertToObject } from '../utils/style-converter';\r\nimport { sanitizeUnitValue } from '../utils/helper';\r\nimport type {\r\n\tCellTagValue,\r\n\tCellScopeValue,\r\n\tSectionName,\r\n\tBlockAttributes,\r\n} from '../BlockAttributes';\r\n\r\ntype Props = {\r\n\tfirstColumnIsHeaders?: boolean;\r\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\r\n\tvTable: VTable;\r\n\tselectedCells: VSelectedCells;\r\n};\r\n\r\nexport function TableCellSettings({ firstColumnIsHeaders, setAttributes, vTable, selectedCells = [] }: Props) {\r\n\tconst cellWidthUnits = useCustomUnits({ availableUnits: CELL_WIDTH_UNITS });\r\n\r\n\tif (!selectedCells.length) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst { sectionName, rowIndex, vColIndex } = selectedCells[0];\r\n\r\n\tconst targetCell = vTable[sectionName as SectionName][rowIndex].cells[vColIndex];\r\n\r\n\tif (!targetCell) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst showCellTypeAndScopeControls = useMemo(() => {\r\n\t\t// If the selected cells are in the first column and firstColumnIsHeaders is on, do not show type control\r\n\t\tif(firstColumnIsHeaders && selectedCells.every((cell) => cell.vColIndex === 0 && cell.tag === 'th')) return false;\r\n\r\n\t\t// If the selected cells are in the <thead>, do not show type control\r\n\t\tconst theadRowQty = vTable.head.length;\r\n\t\tconst selectedCellsAreInThead = theadRowQty > 0 && selectedCells.every(cell => cell.rowIndex <= theadRowQty && cell.tag === 'th');\r\n\t\tif(selectedCellsAreInThead) return false;\r\n\r\n\t\treturn true;\r\n\t}, [firstColumnIsHeaders, selectedCells, vTable]);\r\n\r\n\tconst selectedCellTags = selectedCells.reduce((result: CellTagValue[], selectedCell) => {\r\n\t\tconst { tag } =\r\n\t\t\tvTable[selectedCell.sectionName][selectedCell.rowIndex].cells[selectedCell.vColIndex];\r\n\t\tif (!result.includes(tag)) {\r\n\t\t\tresult.push(tag);\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}, []);\r\n\r\n\tconst cellStylesObj = convertToObject(targetCell.styles);\r\n\r\n\tconst updateCellsState = (state: {\r\n\t\tstyles?: Object;\r\n\t\ttag?: CellTagValue;\r\n\t\tclassName?: string;\r\n\t\tid?: string;\r\n\t\theaders?: string;\r\n\t\tscope?: CellScopeValue;\r\n\t}) => {\r\n\t\tconst newVTable = updateCells(vTable, state, selectedCells);\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t};\r\n\r\n\tconst onChangeBackgroundColor = (value: Property.BackgroundColor) => {\r\n\t\tupdateCellsState({ styles: { backgroundColor: value } });\r\n\t};\r\n\r\n\tconst onChangeWidth = (value: string | number | undefined) => {\r\n\t\tupdateCellsState({ styles: { width: sanitizeUnitValue(value) } });\r\n\t};\r\n\r\n\tconst onChangeTextAlign = (value: string | number | undefined) => {\r\n\t\tupdateCellsState({\r\n\t\t\tstyles: { textAlign: value === cellStylesObj.textAlign ? undefined : value },\r\n\t\t});\r\n\t};\r\n\r\n\tconst onChangeVerticalAlign = (value: string | number | undefined) => {\r\n\t\tupdateCellsState({\r\n\t\t\tstyles: { verticalAlign: value === cellStylesObj.verticalAlign ? undefined : value },\r\n\t\t});\r\n\t};\r\n\r\n\tconst onChangeTag = (value: string | number | undefined) => {\r\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\t\tconst isAllowedTag = (_value: any): _value is CellTagValue => {\r\n\t\t\treturn CELL_TAG_CONTROLS.some((control) => control.value === _value);\r\n\t\t};\r\n\t\tif (isAllowedTag(value)) {\r\n\t\t\tupdateCellsState({ tag: value, id: undefined, headers: undefined, scope: undefined });\r\n\t\t}\r\n\t};\r\n\r\n\tconst onChangeClass = (value: string) => {\r\n\t\tupdateCellsState({ className: value !== '' ? value : undefined });\r\n\t};\r\n\r\n\tconst onChangeId = (value: string) => {\r\n\t\tupdateCellsState({ id: value !== '' ? value : undefined });\r\n\t};\r\n\r\n\tconst onChangeHeaders = (value: string) => {\r\n\t\tupdateCellsState({ headers: value !== '' ? value : undefined });\r\n\t};\r\n\r\n\tconst onChangeScope = (value: CellScopeValue) => {\r\n\t\tupdateCellsState({ scope: value === targetCell.scope ? undefined : value });\r\n\t};\r\n\r\n\tconst CellTypeControl = () => {\r\n\t\tif(!showCellTypeAndScopeControls) return null;\r\n\r\n\t\treturn <ToggleGroupControl\r\n\t\t\tlabel={__('Cell type', 'comet')}\r\n\t\t\tvalue={targetCell.tag}\r\n\t\t\tisBlock\r\n\t\t\tonChange={onChangeTag}\r\n\t\t>\r\n\t\t\t{CELL_TAG_CONTROLS.map(({ label, value }) => (\r\n\t\t\t\t<ToggleGroupControlOption key={value} value={value} label={label}/>\r\n\t\t\t))}\r\n\t\t</ToggleGroupControl>;\r\n\t};\r\n\r\n\tconst CellScopeControl = () => {\r\n\t\tif(!showCellTypeAndScopeControls) return null;\r\n\r\n\t\treturn <SelectControl\r\n\t\t\tlabel={__('Scope', 'comet')}\r\n\t\t\tvalue={targetCell.scope}\r\n\t\t\toptions={CELL_SCOPE_CONTROLS.map(({ label, value }) => {\r\n\t\t\t\treturn { label, value };\r\n\t\t\t})}\r\n\t\t\t/** @ts-expect-error TS2322 Type string is not assignable to type \"col\" | \"colgroup\" | \"row\" | \"rowgroup\" */\r\n\t\t\tonChange={onChangeScope}\r\n\t\t\thelp=\"Does this label its row or column?\"\r\n\t\t\t__next40pxDefaultSize\r\n\t\t/>;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<CellTypeControl />\r\n\t\t\t{selectedCellTags.length === 1 && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{selectedCellTags.includes('th') && (\r\n\t\t\t\t\t\t<CellScopeControl />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{selectedCellTags.includes('th') && (\r\n\t\t\t\t\t\t<UnitControl\r\n\t\t\t\t\t\t\tlabel={__('Preferred column width', 'comet')}\r\n\t\t\t\t\t\t\tvalue={cellStylesObj?.width}\r\n\t\t\t\t\t\t\tunits={cellWidthUnits}\r\n\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\tonChange={onChangeWidth}\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{selectedCellTags.includes('th') && (\r\n\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\tlabel={__('Cell ID', 'comet')}\r\n\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\tvalue={targetCell.id || ''}\r\n\t\t\t\t\t\t\tonChange={onChangeId}\r\n\t\t\t\t\t\t\thelp=\"No spaces; must start with a letter and be unique to the page\"\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{selectedCellTags.includes('td') && (\r\n\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\tlabel={createInterpolateElement(\r\n\t\t\t\t\t\t\t\t__('<code>headers</code> attribute', 'comet'),\r\n\t\t\t\t\t\t\t\t{ code: <code/> }\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\tvalue={targetCell.headers || ''}\r\n\t\t\t\t\t\t\tonChange={onChangeHeaders}\r\n\t\t\t\t\t\t\thelp=\"Unique ID of a header cell to associate with this cell\"\r\n\t\t\t\t\t\t/>)}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t\t<hr/>\r\n\t\t\t<BaseControl>\r\n\t\t\t\t<div className=\"comet-cell-text-align\" role=\"group\">\r\n\t\t\t\t\t<Flex style={{ marginBottom: '-16px' }} justify=\"start\" align=\"start\">\r\n\t\t\t\t\t\t<ToggleGroupControl\r\n\t\t\t\t\t\t\tlabel={__('Text alignment', 'comet')}\r\n\t\t\t\t\t\t\tvalue={cellStylesObj?.textAlign ?? 'left'}\r\n\t\t\t\t\t\t\tisDeselectable\r\n\t\t\t\t\t\t\tonChange={onChangeTextAlign}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{TEXT_ALIGNMENT_CONTROLS.map(({ icon, label, value }) => (\r\n\t\t\t\t\t\t\t\t<ToggleGroupControlOptionIcon\r\n\t\t\t\t\t\t\t\t\tkey={value}\r\n\t\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ToggleGroupControl>\r\n\t\t\t\t\t\t<ToggleGroupControl\r\n\t\t\t\t\t\t\tlabel={__('Vertical alignment', 'comet')}\r\n\t\t\t\t\t\t\tvalue={cellStylesObj?.verticalAlign ?? 'top'}\r\n\t\t\t\t\t\t\tisDeselectable\r\n\t\t\t\t\t\t\tonChange={onChangeVerticalAlign}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{VERTICAL_ALIGNMENT_CONTROLS.map(({ icon, label, value }) => (\r\n\t\t\t\t\t\t\t\t<ToggleGroupControlOptionIcon\r\n\t\t\t\t\t\t\t\t\tkey={value}\r\n\t\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ToggleGroupControl>\r\n\t\t\t\t\t</Flex>\r\n\t\t\t\t</div>\r\n\t\t\t</BaseControl>\r\n\t\t\t<hr/>\r\n\t\t\t<ColorControl\r\n\t\t\t\tlabel={__('Cell background (override default)', 'comet')}\r\n\t\t\t\tvalue={cellStylesObj.backgroundColor}\r\n\t\t\t\tonChange={onChangeBackgroundColor}\r\n\t\t\t/>\r\n\t\t\t<TextControl\r\n\t\t\t\tlabel={__('Cell CSS class(es)', 'comet')}\r\n\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\tvalue={targetCell.className || ''}\r\n\t\t\t\tonChange={onChangeClass}\r\n\t\t\t\thelp={__('Separate multiple classes with spaces.', 'comet')}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n","// noinspection ES6PreferShortImport\r\n\r\n/**\r\n * External dependencies\r\n */\r\nimport { type Dispatch, type SetStateAction, useMemo, useEffect } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { SelectControl, ToggleControl } from '@wordpress/components';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { STICKY_CONTROLS } from '../constants';\r\nimport {\r\n\ttoggleSection,\r\n\ttoTableAttributes,\r\n\ttype VTable,\r\n\ttype VSelectedCells,\r\n\ttype VSelectedLine,\r\n} from '../utils/table-state';\r\nimport type { StickyValue, BlockAttributes, Row } from '../BlockAttributes';\r\nimport { createInterpolateElement } from '@wordpress/element';\r\n\r\ntype Props = {\r\n\tattributes: BlockAttributes;\r\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\r\n\tvTable: VTable;\r\n\tsetSelectedCells: Dispatch<SetStateAction<VSelectedCells>>;\r\n\tsetSelectedLine: Dispatch<SetStateAction<VSelectedLine>>;\r\n};\r\n\r\nexport function TableSettings({\r\n\tattributes,\r\n\tsetAttributes,\r\n\tvTable,\r\n\tsetSelectedCells,\r\n\tsetSelectedLine\r\n}: Props) {\r\n\tconst { isStackedOnMobile, firstColumnIsHeaders, sticky, head, foot } = attributes;\r\n\r\n\t// Check if the first column has been manualyl set to <th>s without firstColumnIsHeaders toggled on\r\n\tconst firstBodyColumnIsHeaders = useMemo(() => {\r\n\t\treturn vTable?.body?.length > 0 && vTable.body.every(row =>\r\n\t\t\trow.cells &&\r\n\t\t\trow.cells.length > 0 &&\r\n\t\t\trow.cells[0].tag === 'th'\r\n\t\t);\r\n\t}, [vTable]);\r\n\r\n\t// Check if the first row has been manually set to <th>s without a <thead> being present\r\n\tconst firstBodyRowIsHeaders = useMemo(() => {\r\n\t\tif(vTable?.head?.length === 0) {\r\n\t\t\treturn vTable?.body[0]?.cells?.every(cell => cell.tag === 'th');\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}, [vTable]);\r\n\r\n\tuseEffect(() => {\r\n\t\t// If the first column's cells have all been manually set to <th>, toggle firstColumnIsHeaders on\r\n\t\tif(firstBodyColumnIsHeaders) {\r\n\t\t\tsetAttributes({ firstColumnIsHeaders: true });\r\n\t\t\t// Resetting the selection simplifies re-rendering of controls and is easier than updating the selection when things get moved dynamically\r\n\t\t\tsetSelectedCells(undefined);\r\n\t\t\tsetSelectedLine(undefined);\r\n\t\t}\r\n\r\n\t\t// If there is no <thead> and the first row's cells have all been manually set to <th>, turn them into a <thead>\r\n\t\tif(firstBodyRowIsHeaders) {\r\n\t\t\tconst newVTable = toggleSection(vTable, 'head');\r\n\t\t\tnewVTable.head = [vTable.body[0]];\r\n\t\t\tnewVTable.body = vTable.body.slice(1);\r\n\t\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\t\t// Resetting the selection simplifies re-rendering of controls and is easier than updating the selection when things get moved dynamically\r\n\t\t\tsetSelectedCells(undefined);\r\n\t\t\tsetSelectedLine(undefined);\r\n\t\t}\r\n\t}, [firstBodyColumnIsHeaders, firstBodyRowIsHeaders, setAttributes]);\r\n\r\n\r\n\tconst availableStickyControls = useMemo(() => {\r\n\t\t// Only allow fixed header to be selected if there is a header section enabled by the attribute toggles\r\n\t\treturn STICKY_CONTROLS.filter((control) => {\r\n\t\t\tif(head.length === 0 && control.value === 'header') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// noinspection RedundantIfStatementJS\r\n\t\t\tif(!firstColumnIsHeaders && control.value === 'first-column') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t});\r\n\r\n\t}, [sticky, head, foot, firstColumnIsHeaders]);\r\n\r\n\tconst onChangeIsStackedOnMobile = () => {\r\n\t\tsetAttributes({ isStackedOnMobile: !isStackedOnMobile });\r\n\t};\r\n\r\n\tconst onToggleFirstColIsHeaders = () => {\r\n\t\tconst newVal = !firstColumnIsHeaders;\r\n\r\n\t\tsetAttributes({\r\n\t\t\tfirstColumnIsHeaders: newVal,\r\n\t\t\tbody: attributes.body.map((row: Row) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcells: row.cells.map((cell, index) => {\r\n\t\t\t\t\t\tif(index === 0) {\r\n\t\t\t\t\t\t\tif(newVal) {\r\n\t\t\t\t\t\t\t\treturn { ...cell, tag: 'th', scope: 'row' };\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn { ...cell, 'tag': 'td', scope: undefined };\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn cell;\r\n\t\t\t\t\t})\r\n\t\t\t\t};\r\n\t\t\t}),\r\n\t\t});\r\n\t};\r\n\r\n\tconst onChangeSticky = (value: StickyValue) => {\r\n\t\tsetAttributes({ sticky: value === 'none' ? undefined : value });\r\n\t};\r\n\r\n\tconst onToggleHeaderSection = () => {\r\n\t\tconst newVTable = toggleSection(vTable, 'head');\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\tconst onToggleFooterSection = () => {\r\n\t\tconst newVTable = toggleSection(vTable, 'foot');\r\n\t\tsetAttributes(toTableAttributes(newVTable));\r\n\t\tsetSelectedCells(undefined);\r\n\t\tsetSelectedLine(undefined);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ToggleControl\r\n\t\t\t\tlabel=\"Top header section\"\r\n\t\t\t\thelp={createInterpolateElement(\r\n\t\t\t\t\t__('<code>thead</code> element at the top', 'comet'),\r\n\t\t\t\t\t{ code: <code/> }\r\n\t\t\t\t)}\r\n\t\t\t\tchecked={!!(head && head.length)}\r\n\t\t\t\tonChange={onToggleHeaderSection}\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t/>\r\n\t\t\t<ToggleControl\r\n\t\t\t\tlabel={__('First column header section', 'comet')}\r\n\t\t\t\thelp={createInterpolateElement(\r\n\t\t\t\t\t__('<code>th scope=\"row\"</code> for the cells', 'comet'),\r\n\t\t\t\t\t{ code: <code/> }\r\n\t\t\t\t)}\r\n\t\t\t\tchecked={!!(firstColumnIsHeaders)}\r\n\t\t\t\tonChange={onToggleFirstColIsHeaders}\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t/>\r\n\t\t\t<ToggleControl\r\n\t\t\t\tlabel={__('Footer section', 'comet')}\r\n\t\t\t\thelp={createInterpolateElement(\r\n\t\t\t\t\t__('<code>tfoot</code> element at the bottom', 'comet'),\r\n\t\t\t\t\t{ code: <code/> }\r\n\t\t\t\t)}\r\n\t\t\t\tchecked={!!(foot && foot.length)}\r\n\t\t\t\tonChange={onToggleFooterSection}\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t/>\r\n\t\t\t<ToggleControl\r\n\t\t\t\tlabel={__('Stack when adapting to a narrow container or viewport', 'comet')}\r\n\t\t\t\tclassName=\"ftb-toggle-control\"\r\n\t\t\t\tchecked={isStackedOnMobile}\r\n\t\t\t\tonChange={onChangeIsStackedOnMobile}\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t/>\r\n\t\t\t<SelectControl\r\n\t\t\t\tlabel={__('Fixed headers if table scrolls', 'comet')}\r\n\t\t\t\tvalue={sticky}\r\n\t\t\t\toptions={availableStickyControls.map(({ label, value }) => {\r\n\t\t\t\t\treturn { label, value };\r\n\t\t\t\t})}\r\n\t\t\t\t// @ts-expect-error TS2322 Type string is not assignable to type \"none\" | \"header\" | \"first-column\"\r\n\t\t\t\tonChange={onChangeSticky}\r\n\t\t\t\tsize=\"__unstable-large\"\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { AnyAction as Action } from 'redux';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport { createReduxStore, register } from '@wordpress/data';\r\nimport type { NoticeProps } from '@wordpress/components/build-types/notice/types';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { STORE_NAME, REST_API_ROUTE } from './constants';\r\n\r\nexport interface ApiResponse {\r\n\tstatus?: NoticeProps['status'];\r\n\tmessage?: string;\r\n\toptions?: StoreOptions;\r\n\t \r\n\tblock_css?: string;\r\n}\r\n\r\nexport interface StoreOptions {\r\n\t \r\n\tblock_style: {\r\n\t\tcell_background_color_th?: string;\r\n\t\tcell_background_color_td?: string;\r\n\t\tcell_text_align?: string;\r\n\t\tcell_vertical_align?: string;\r\n\t};\r\n\t \r\n}\r\n\r\nconst DEFAULT_STATE = {\r\n\toptions: {},\r\n};\r\n\r\nconst actions = {\r\n\tgetOptions( path: string ) {\r\n\t\treturn {\r\n\t\t\ttype: 'GET_OPTIONS',\r\n\t\t\tpath,\r\n\t\t};\r\n\t},\r\n\tsetOptions( options: StoreOptions ) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_OPTIONS',\r\n\t\t\toptions,\r\n\t\t};\r\n\t},\r\n};\r\n\r\nconst reducer = ( state = DEFAULT_STATE, action: Action ) => {\r\n\tswitch ( action.type ) {\r\n\t\tcase 'SET_OPTIONS': {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\toptions: action.options,\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault: {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst selectors = {\r\n\tgetOptions( state: { options: StoreOptions } ) {\r\n\t\tconst { options } = state;\r\n\r\n\t\treturn options;\r\n\t},\r\n};\r\n\r\nconst controls = {\r\n\tGET_OPTIONS(action: Action) {\r\n\t\treturn apiFetch<ApiResponse>( { path: action.path } );\r\n\t},\r\n};\r\n\r\nconst resolvers = {\r\n\t*getOptions() {\r\n\t\tconst options: StoreOptions = yield actions.getOptions( REST_API_ROUTE );\r\n\r\n\t\treturn actions.setOptions( options );\r\n\t},\r\n};\r\n\r\nconst store = createReduxStore( STORE_NAME, {\r\n\treducer,\r\n\tcontrols,\r\n\tselectors,\r\n\tresolvers,\r\n\tactions,\r\n} );\r\n\r\nregister(store);\r\n\r\nexport { STORE_NAME };\r\n","// extracted by mini-css-extract-plugin\nexport {};","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock, store as blocksStore, type TransformBlock } from '@wordpress/blocks';\r\nimport { select } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { splitMergedCell, toVirtualRows, toVirtualTable, type VCell } from './utils/table-state';\r\nimport { normalizeRowColSpan } from './utils/helper';\r\nimport type { BlockAttributes, CoreTableCell, CoreTableBlockAttributes } from './BlockAttributes';\r\n\r\ninterface Transforms {\r\n\treadonly from: ReadonlyArray< TransformBlock< CoreTableBlockAttributes > >;\r\n\treadonly to: ReadonlyArray< TransformBlock< BlockAttributes > >;\r\n}\r\n\r\nconst transforms: Transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/table' ],\r\n\t\t\ttransform: ( attributes ) => {\r\n\t\t\t\tconst { hasFixedLayout, head, body, foot, caption, style } = attributes;\r\n\r\n\t\t\t\t// Mapping rowspan and colspan properties.\r\n\t\t\t\tconst convertedSections = ( section: { cells: CoreTableCell[] }[] ) => {\r\n\t\t\t\t\tif ( ! section.length ) {\r\n\t\t\t\t\t\treturn section;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn section.map( ( row ) => {\r\n\t\t\t\t\t\tif ( ! row.cells.length ) {\r\n\t\t\t\t\t\t\treturn row;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tcells: row.cells.map( ( cell ) => {\r\n\t\t\t\t\t\t\t\tconst { content, tag, colspan, rowspan } = cell;\r\n\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\t\t\t\ttag,\r\n\t\t\t\t\t\t\t\t\tcolSpan: normalizeRowColSpan( colspan ),\r\n\t\t\t\t\t\t\t\t\trowSpan: normalizeRowColSpan( rowspan ),\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t} ),\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} );\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn createBlock( 'comet/table', {\r\n\t\t\t\t\thead: convertedSections( head ),\r\n\t\t\t\t\tbody: convertedSections( body ),\r\n\t\t\t\t\tfoot: convertedSections( foot ),\r\n\t\t\t\t\thasFixedLayout,\r\n\t\t\t\t\tcaption,\r\n\t\t\t\t\tstyle,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/table' ],\r\n\t\t\ttransform: ( attributes ) => {\r\n\t\t\t\t// Check if the core table block supports rowspan and colspan.\r\n\t\t\t\tconst {\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tgetBlockType,\r\n\t\t\t\t} = select( blocksStore );\r\n\t\t\t\tconst blockType = getBlockType( 'core/table' );\r\n\t\t\t\tconst hasRowColSpanSupport =\r\n\t\t\t\t\t!! blockType.attributes.head.query.cells.query.rowspan &&\r\n\t\t\t\t\t!! blockType.attributes.head.query.cells.query.colspan;\r\n\r\n\t\t\t\t// Create virtual object array with the cells placed in positions based on how they actually look.\r\n\t\t\t\tlet vTable = toVirtualTable( attributes );\r\n\r\n\t\t\t\t// Find rowspan & colspan cells.\r\n\t\t\t\tconst vRows = toVirtualRows( vTable );\r\n\t\t\t\tconst rowColSpanCells = vRows\r\n\t\t\t\t\t.reduce( ( cells: VCell[], row ) => cells.concat( row.cells ), [] )\r\n\t\t\t\t\t.filter( ( { rowSpan, colSpan } ) => rowSpan > 1 || colSpan > 1 );\r\n\r\n\t\t\t\t// Split the found rowspan and colspan cells If the core table block doesn't support it.\r\n\t\t\t\tif ( rowColSpanCells.length && ! hasRowColSpanSupport ) {\r\n\t\t\t\t\trowColSpanCells.forEach( ( cell ) => {\r\n\t\t\t\t\t\tvTable = splitMergedCell( vTable, cell );\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Convert to core table block attributes.\r\n\t\t\t\tconst sectionAttributes = Object.entries( vTable ).reduce(\r\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\t\t\t\t\t( coreTableAttributes: any, [ sectionName, section ] ) => {\r\n\t\t\t\t\t\tif ( ! section.length ) {\r\n\t\t\t\t\t\t\treturn coreTableAttributes;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tconst newSection = section.map( ( { cells } ) => ( {\r\n\t\t\t\t\t\t\tcells: cells\r\n\t\t\t\t\t\t\t\t// Delete cells marked as deletion.\r\n\t\t\t\t\t\t\t\t.filter( ( cell ) => ! cell.isHidden )\r\n\t\t\t\t\t\t\t\t// Keep only the properties needed.\r\n\t\t\t\t\t\t\t\t.map( ( cell ) => ( {\r\n\t\t\t\t\t\t\t\t\tcontent: cell.content,\r\n\t\t\t\t\t\t\t\t\ttag: 'head' === cell.sectionName ? 'th' : 'td',\r\n\t\t\t\t\t\t\t\t\trowspan: hasRowColSpanSupport ? normalizeRowColSpan( cell.rowSpan ) : undefined,\r\n\t\t\t\t\t\t\t\t\tcolspan: hasRowColSpanSupport ? normalizeRowColSpan( cell.colSpan ) : undefined,\r\n\t\t\t\t\t\t\t\t} ) ),\r\n\t\t\t\t\t\t} ) );\r\n\t\t\t\t\t\tcoreTableAttributes[ sectionName ] = newSection;\r\n\r\n\t\t\t\t\t\treturn coreTableAttributes;\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{}\r\n\t\t\t\t);\r\n\r\n\t\t\t\treturn createBlock('core/table', {\r\n\t\t\t\t\t...sectionAttributes,\r\n\t\t\t\t\tcaption: attributes.caption,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { PropertyValue } from 'csstype';\r\n\r\nconst DEFAULT_PRECISION: number = 4;\r\n\r\n// Array with four values for CSS\r\nexport type FourCssValues = [ string, string, string, string ];\r\n\r\n// sanitizeUnitValue function option\r\ninterface SanitizeOptions {\r\n\tminNum?: number;\r\n\tmaxNum?: number;\r\n\tprecision?: number;\r\n}\r\n\r\n/**\r\n * Removed falsy values from nested object.\r\n *\r\n * @param object Nested object.\r\n * @return Object cleaned from falsy values.\r\n */\r\nexport function cleanEmptyObject( object: {} ): {} | undefined {\r\n\tif ( object === null || typeof object !== 'object' || Array.isArray( object ) ) {\r\n\t\treturn object;\r\n\t}\r\n\r\n\tconst cleanedNestedObjects = Object.entries( object )\r\n\t\t.map( ( [ key, value ] ) => [ key, cleanEmptyObject( value ) ] )\r\n\t\t.filter( ( [ , value ] ) => value !== undefined );\r\n\r\n\treturn ! cleanedNestedObjects.length ? undefined : Object.fromEntries( cleanedNestedObjects );\r\n}\r\n\r\n/**\r\n * Convert short-hand/long-hand CSS values into an array with four values.\r\n *\r\n * @param cssValue CSS value.\r\n * @return Array with four values.\r\n */\r\nexport function parseCssValue( cssValue: string ): FourCssValues {\r\n\tconst cssValues: string[] = cssValue.split( ' ' ).map( ( value: string ) => value.toLowerCase() );\r\n\r\n\tswitch ( cssValues.length ) {\r\n\t\tcase 1:\r\n\t\t\treturn [ cssValues[ 0 ], cssValues[ 0 ], cssValues[ 0 ], cssValues[ 0 ] ];\r\n\t\tcase 2:\r\n\t\t\treturn [ cssValues[ 0 ], cssValues[ 1 ], cssValues[ 0 ], cssValues[ 1 ] ];\r\n\t\tcase 3:\r\n\t\t\treturn [ cssValues[ 0 ], cssValues[ 1 ], cssValues[ 2 ], cssValues[ 1 ] ];\r\n\t\tcase 4:\r\n\t\t\treturn [ cssValues[ 0 ], cssValues[ 1 ], cssValues[ 2 ], cssValues[ 3 ] ];\r\n\t\tdefault:\r\n\t\t\treturn [ '', '', '', '' ];\r\n\t}\r\n}\r\n\r\n/**\r\n * Sanitize the value of UnitControl.\r\n *\r\n * @param initialValue      UnitControl value.\r\n * @param options           Sanitize options.\r\n * @param options.minNum    Minimum number.\r\n * @param options.maxNum    Minimum number.\r\n * @param options.precision Precision.\r\n * @return Sanitized UnitControl value.\r\n */\r\nexport function sanitizeUnitValue(\r\n\tinitialValue: PropertyValue< string | number > | undefined,\r\n\toptions?: SanitizeOptions\r\n): string {\r\n\tconst value: string = String( initialValue ).trim();\r\n\tlet num: number = parseFloat( value );\r\n\r\n\tif ( isNaN( num ) ) {\r\n\t\treturn '';\r\n\t}\r\n\telse if ( num < 0 ) {\r\n\t\treturn '';\r\n\t}\r\n\telse if ( num === 0 ) {\r\n\t\treturn '0';\r\n\t}\r\n\r\n\t// Sanitize value.\r\n\tif ( options?.minNum ) {\r\n\t\tnum = Math.max( options.minNum, num );\r\n\t}\r\n\r\n\tif ( options?.maxNum ) {\r\n\t\tnum = Math.min( options.maxNum, num );\r\n\t}\r\n\r\n\tconst modifier = 10 ** ( options?.precision || DEFAULT_PRECISION );\r\n\tnum = Math.round( num * modifier ) / modifier;\r\n\r\n\tconst unit: string = value.match( /[\\d.\\-+]*\\s*(.*)/ )?.[ 1 ] ?? '';\r\n\r\n\treturn `${ num }${ unit.toLowerCase() }`;\r\n}\r\n\r\n/**\r\n * Parses a number and unit from a value.\r\n *\r\n * @param initialValue Value to parse\r\n * @return The extracted number and unit.\r\n */\r\nexport function parseUnit( initialValue: string ): [ number, string ] {\r\n\tconst value: string = String( initialValue ).trim();\r\n\tconst num: number = parseFloat( value );\r\n\r\n\tif ( isNaN( num ) ) {\r\n\t\treturn [ 0, '' ];\r\n\t}\r\n\r\n\tconst unit: string = value.match( /[\\d.\\-+]*\\s*(.*)/ )?.[ 1 ] ?? '';\r\n\r\n\treturn [ num, unit.toLowerCase() ];\r\n}\r\n\r\n// Convert string to number.\r\n// JSDoc is not used because parsing in eslint fails\r\nexport function toInteger( value: number | string | undefined, defaultValue = 0 ): number {\r\n\tif ( ! value ) {\r\n\t\treturn defaultValue;\r\n\t}\r\n\r\n\tconst converted = parseInt( String( value ), 10 );\r\n\r\n\tif ( isNaN( converted ) ) {\r\n\t\treturn defaultValue;\r\n\t}\r\n\r\n\treturn converted || defaultValue;\r\n}\r\n\r\n/**\r\n * Normalize the rowspan/colspan value.\r\n * Returns undefined if the parameter is not a positive number\r\n * or the default value (1) for rowspan/colspan.\r\n *\r\n * @param rowColSpan rowspan/colspan value.\r\n * @return normalized rowspan/colspan value.\r\n */\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport function normalizeRowColSpan( rowColSpan: any ) {\r\n\tconst parsedValue = parseInt( rowColSpan, 10 );\r\n\tif ( ! Number.isInteger( parsedValue ) ) {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\treturn parsedValue < 0 || parsedValue === 1 ? undefined : parsedValue.toString();\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { Properties } from 'csstype';\r\n\r\n/**\r\n * Convert inline CSS styles to object.\r\n *\r\n * @param inlineStyles Inline CSS styles.\r\n * @return CSS styles object.\r\n */\r\nexport function convertToObject( inlineStyles: string | undefined ): Properties {\r\n\tif ( ! inlineStyles ) {\r\n\t\treturn {};\r\n\t}\r\n\r\n\treturn inlineStyles\r\n\t\t.split( ';' )\r\n\t\t.filter( ( style ) => style.split( ':' )[ 0 ] && style.split( ':' )[ 1 ] )\r\n\t\t.map( ( style ) => [\r\n\t\t\tstyle\r\n\t\t\t\t.split( ':' )[ 0 ]\r\n\t\t\t\t.trim()\r\n\t\t\t\t.replace( /-./g, ( c ) => c.substr( 1 ).toUpperCase() ),\r\n\t\t\tstyle.split( ':' )[ 1 ].trim(),\r\n\t\t] )\r\n\t\t.reduce(\r\n\t\t\t( styleObj, style ) => ( {\r\n\t\t\t\t...styleObj,\r\n\t\t\t\t[ style[ 0 ] ]: style[ 1 ],\r\n\t\t\t} ),\r\n\t\t\t{}\r\n\t\t);\r\n}\r\n\r\n/**\r\n * Convert CSS styles object to Inline CSS styles.\r\n *\r\n * @param stylesObj CSS styles object.\r\n * @return Inline CSS styles\r\n */\r\nexport function convertToInline( stylesObj: Properties ): string {\r\n\tconst lines: string[] = Object.keys( stylesObj ).reduce< string[] >(\r\n\t\t( result: string[], key: string ) => {\r\n\t\t\tconst property = key.replace( /([a-z])([A-Z])/g, '$1-$2' ).toLowerCase();\r\n\t\t\tconst value = stylesObj[ key as keyof Properties ];\r\n\r\n\t\t\tif ( value !== undefined && ( typeof value === 'string' || value === 0 ) ) {\r\n\t\t\t\tresult.push( `${ property }:${ value };` );\r\n\t\t\t}\n\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t[] as string[]\r\n\t);\r\n\r\n\treturn lines.join( '' );\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { Properties } from 'csstype';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { convertToInline, convertToObject } from './style-converter';\r\nimport { toInteger } from './helper';\r\nimport type {\r\n\tCellTagValue,\r\n\tCellScopeValue,\r\n\tCell,\r\n\tRow,\r\n\tSectionName,\r\n\tTableAttributes,\r\n} from '../BlockAttributes';\r\n\r\n// Virtual table\r\nexport type VTable = Record<SectionName, VRow[]>;\r\n\r\n// Virtual table section type\r\ntype VSection = VRow[];\r\n\r\n// Virtual table row state\r\nexport interface VRow {\r\n\tcells: VCell[];\r\n}\r\n\r\n// Virtual table cell state\r\nexport interface VCell extends Omit<Cell, 'rowSpan' | 'colSpan'> {\r\n\trowSpan: number;\r\n\tcolSpan: number;\r\n\tsectionName: SectionName;\r\n\trowIndex: number;\r\n\tvColIndex: number;\r\n\tisHidden: boolean;\r\n\tisFirstSelected?: boolean;\r\n\tisFilled?: boolean;\r\n}\r\n\r\n// Virtual table selected line state\r\nexport type VSelectedLine =\r\n\t| { sectionName: SectionName; rowIndex: number }\r\n\t| { vColIndex: number }\r\n\t| undefined;\r\n\r\n// Virtual table selected cells state\r\nexport type VSelectedCells = VCell[] | undefined;\r\n\r\n// Minimum / maximum row / column virtual indexes on virtual table\r\ninterface VRangeIndexes {\r\n\tminRowIndex: number;\r\n\tmaxRowIndex: number;\r\n\tminColIndex: number;\r\n\tmaxColIndex: number;\r\n}\r\n\r\n/**\r\n * Creates a table state.\r\n *\r\n * @param options\r\n * @param options.rowCount      Row count for the table to create.\r\n * @param options.colCount      Column count for the table to create.\r\n * @param options.headerSection With/without header section.\r\n * @param options.footerSection With/without footer section.\r\n * @return New virtual table state.\r\n */\r\nexport function createTable({\r\n\trowCount,\r\n\tcolCount,\r\n\theaderSection,\r\n\tfooterSection,\r\n}: {\r\n\trowCount: number;\r\n\tcolCount: number;\r\n\theaderSection: boolean;\r\n\tfooterSection: boolean;\r\n}) {\r\n\tconst createSection = (rows: number, cols: number, sectionName: SectionName): VSection => {\r\n\t\treturn Array.from({ length: rows }).map(\r\n\t\t\t(_row, rowIndex): VRow => ({\r\n\t\t\t\tcells: Array.from({ length: cols }).map(\r\n\t\t\t\t\t(_col, vColIndex): VCell => ({\r\n\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\ttag: sectionName === 'head' ? 'th' : 'td',\r\n\t\t\t\t\t\trowSpan: 1,\r\n\t\t\t\t\t\tcolSpan: 1,\r\n\t\t\t\t\t\tsectionName,\r\n\t\t\t\t\t\trowIndex,\r\n\t\t\t\t\t\tvColIndex,\r\n\t\t\t\t\t\tisFirstSelected: false,\r\n\t\t\t\t\t\tisHidden: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t),\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\treturn {\r\n\t\thead: createSection(Number(headerSection), colCount, 'head'),\r\n\t\tbody: createSection(rowCount, colCount, 'body'),\r\n\t\tfoot: createSection(Number(footerSection), colCount, 'foot'),\r\n\t};\r\n}\r\n\r\n/**\r\n * Inserts a row in the virtual table state.\r\n *\r\n * @param vTable              Virtual table in which to insert the row.\r\n * @param options\r\n * @param options.sectionName Section in which to insert the row.\r\n * @param options.rowIndex    Row index at which to insert the row.\r\n * @return  New virtual table state.\r\n */\r\n\r\nexport function insertRow(\r\n\tvTable: VTable,\r\n\t{ sectionName, rowIndex }: { sectionName: SectionName; rowIndex: number }\r\n): VTable {\r\n\t// Number of columns in the row to be inserted.\r\n\tconst newRowColCount: number = vTable.body[0].cells.length;\r\n\r\n\tconst vRows: VRow[] = toVirtualRows(vTable);\r\n\r\n\t// Row state to be inserted.\r\n\tconst newRow: VRow = {\r\n\t\tcells: Array.from({ length: newRowColCount }).map((_, vColIndex): VCell => {\r\n\t\t\t// Find the cell with rowspan that covers the cell in the inserted row.\r\n\t\t\tconst rowSpanCells: VCell[] = vRows\r\n\t\t\t\t.reduce((cells: VCell[], row) => cells.concat(row.cells), [])\r\n\t\t\t\t.filter(\r\n\t\t\t\t\t(cell: VCell) =>\r\n\t\t\t\t\t\tcell.sectionName === sectionName &&\r\n\t\t\t\t\t\tcell.rowIndex < rowIndex &&\r\n\t\t\t\t\t\tcell.rowIndex + cell.rowSpan - 1 >= rowIndex &&\r\n\t\t\t\t\t\tcell.vColIndex <= vColIndex &&\r\n\t\t\t\t\t\tvColIndex <= cell.vColIndex + cell.colSpan - 1\r\n\t\t\t\t);\r\n\r\n\t\t\treturn {\r\n\t\t\t\tcontent: '',\r\n\t\t\t\ttag: 'head' === sectionName ? 'th' : 'td',\r\n\t\t\t\trowSpan: 1,\r\n\t\t\t\tcolSpan: 1,\r\n\t\t\t\tsectionName,\r\n\t\t\t\trowIndex,\r\n\t\t\t\tvColIndex,\r\n\t\t\t\tisFirstSelected: false,\r\n\t\t\t\tisHidden: !!rowSpanCells.length,\r\n\t\t\t};\r\n\t\t}),\r\n\t};\r\n\r\n\treturn {\r\n\t\t...vTable,\r\n\t\t[sectionName]: [\r\n\t\t\t...vTable[sectionName].slice(0, rowIndex),\r\n\t\t\tnewRow,\r\n\t\t\t...vTable[sectionName].slice(rowIndex).map(({ cells }) => ({\r\n\t\t\t\tcells: cells.map((cell) => {\r\n\t\t\t\t\t// increment row index.\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\trowIndex: cell.rowIndex + 1,\r\n\t\t\t\t\t};\r\n\t\t\t\t}),\r\n\t\t\t})),\r\n\t\t].map(({ cells }, cRowIndex) => ({\r\n\t\t\tcells: cells.map((cell) => {\r\n\t\t\t\t// Expand cells with rowspan in the before and inserted rows.\r\n\t\t\t\tif (\r\n\t\t\t\t\tcell.sectionName === sectionName &&\r\n\t\t\t\t\tcell.rowSpan > 1 &&\r\n\t\t\t\t\tcRowIndex <= rowIndex &&\r\n\t\t\t\t\tcRowIndex + cell.rowSpan - 1 >= rowIndex\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\tsectionName,\r\n\t\t\t\t\t\trowIndex: cRowIndex,\r\n\t\t\t\t\t\trowSpan: cell.rowSpan + 1,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn cell;\r\n\t\t\t}),\r\n\t\t})),\r\n\t};\r\n}\r\n\r\n/**\r\n * Deletes a row from the virtual table.\r\n *\r\n * @param vTable              Virtual table in which to delete the row.\r\n * @param options\r\n * @param options.sectionName Section in which to delete the row.\r\n * @param options.rowIndex    Row index at which to delete the row.\r\n * @return  New virtual table state.\r\n */\r\nexport function deleteRow(\r\n\tvTable: VTable,\r\n\t{ sectionName, rowIndex }: { sectionName: SectionName; rowIndex: number }\r\n) {\r\n\t// Find the number of rowspan cells in the row to be deleted.\r\n\tconst rowSpanCellsCount: number = vTable[sectionName][rowIndex].cells.filter(\r\n\t\t(cell) => cell.rowSpan > 1\r\n\t).length;\r\n\r\n\t// Split the found rowspan cells.\r\n\tif (rowSpanCellsCount) {\r\n\t\tfor (let i = 0; i < rowSpanCellsCount; i++) {\r\n\t\t\tconst vMergedCells: VCell[] = vTable[sectionName]\r\n\t\t\t\t.reduce((cells: VCell[], row: VRow) => cells.concat(row.cells), [])\r\n\t\t\t\t.filter((cell: VCell) => cell.rowSpan > 1 && cell.rowIndex === rowIndex);\r\n\r\n\t\t\tif (vMergedCells.length) {\r\n\t\t\t\tvTable = splitMergedCell(vTable, vMergedCells[0]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\t...vTable,\r\n\t\t[sectionName]: vTable[sectionName].reduce((newRows: VRow[], row, cRowIndex) => {\r\n\t\t\tif (cRowIndex === rowIndex) {\r\n\t\t\t\treturn newRows;\r\n\t\t\t}\r\n\r\n\t\t\tnewRows.push({\r\n\t\t\t\tcells: row.cells.map((cell) => {\r\n\t\t\t\t\t// Contract cells with rowspan in the before rows.\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tcell.rowSpan > 1 &&\r\n\t\t\t\t\t\tcRowIndex < rowIndex &&\r\n\t\t\t\t\t\tcRowIndex + cell.rowSpan - 1 >= rowIndex\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\trowSpan: cell.rowSpan - 1,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// decrement row index.\r\n\t\t\t\t\tif (cRowIndex > rowIndex) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\trowIndex: cell.rowIndex - 1,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn cell;\r\n\t\t\t\t}),\r\n\t\t\t});\r\n\r\n\t\t\treturn newRows;\r\n\t\t}, []),\r\n\t};\r\n}\r\n\r\n/**\r\n * Inserts a column in the virtual table.\r\n *\r\n * @param vTable            Virtual table in which to insert column.\r\n * @param options\r\n * @param options.vColIndex Virtual column index at which to insert column.\r\n * @return  New virtual table state.\r\n */\r\nexport function insertColumn(vTable: VTable, { vColIndex }: { vColIndex: number }): VTable {\r\n\t// Whether to add a column after the last column.\r\n\tconst isLastColumnInsert: boolean = vTable.body[0].cells.length === vColIndex;\r\n\r\n\tconst vRows: VRow[] = toVirtualRows(vTable);\r\n\r\n\treturn Object.entries(vTable).reduce(\r\n\t\t(newVTable: VTable, [sectionName, section]) => {\r\n\t\t\tif (!section.length) {\r\n\t\t\t\treturn newVTable;\r\n\t\t\t}\r\n\t\t\tnewVTable[sectionName as SectionName] = section.map(({ cells }, cRowIndex) => ({\r\n\t\t\t\tcells: cells.reduce((newCells: VCell[], cell, cVColIndex) => {\r\n\t\t\t\t\t// Expand cells with colspan in the before columns.\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tcell.colSpan > 1 &&\r\n\t\t\t\t\t\tcVColIndex < vColIndex &&\r\n\t\t\t\t\t\tcVColIndex + cell.colSpan - 1 >= vColIndex\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewCells.push({\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\tcolSpan: cell.colSpan + 1,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn newCells;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Insert cell (after the last column).\r\n\t\t\t\t\tif (isLastColumnInsert && cVColIndex + 1 === vColIndex) {\r\n\t\t\t\t\t\tnewCells.push(cell, {\r\n\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\ttag: 'head' === sectionName ? 'th' : 'td',\r\n\t\t\t\t\t\t\trowSpan: 1,\r\n\t\t\t\t\t\t\tcolSpan: 1,\r\n\t\t\t\t\t\t\tsectionName: cell.sectionName,\r\n\t\t\t\t\t\t\trowIndex: cell.rowIndex,\r\n\t\t\t\t\t\t\tvColIndex: vColIndex + 1,\r\n\t\t\t\t\t\t\tisHidden: false,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn newCells;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Insert cell (between columns).\r\n\t\t\t\t\tif (cVColIndex === vColIndex) {\r\n\t\t\t\t\t\t// Whether the cell to be inserted is a virtual cell filled with colSpan.\r\n\t\t\t\t\t\tconst colSpanCells: VCell[] = vRows\r\n\t\t\t\t\t\t\t.reduce((colSpancells: VCell[], row) => colSpancells.concat(row.cells), [])\r\n\t\t\t\t\t\t\t.filter(\r\n\t\t\t\t\t\t\t\t(colSpancell: VCell) =>\r\n\t\t\t\t\t\t\t\t\tcolSpancell.sectionName === sectionName &&\r\n\t\t\t\t\t\t\t\t\tcolSpancell.colSpan > 1 &&\r\n\t\t\t\t\t\t\t\t\tcolSpancell.rowIndex <= cRowIndex &&\r\n\t\t\t\t\t\t\t\t\tcolSpancell.rowIndex + colSpancell.rowSpan - 1 >= cRowIndex &&\r\n\t\t\t\t\t\t\t\t\tcolSpancell.vColIndex < vColIndex &&\r\n\t\t\t\t\t\t\t\t\tvColIndex <= colSpancell.vColIndex + colSpancell.colSpan - 1\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tnewCells.push(\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\ttag: 'head' === sectionName ? 'th' : 'td',\r\n\t\t\t\t\t\t\t\trowSpan: 1,\r\n\t\t\t\t\t\t\t\tcolSpan: 1,\r\n\t\t\t\t\t\t\t\tsectionName: cell.sectionName,\r\n\t\t\t\t\t\t\t\trowIndex: cell.rowIndex,\r\n\t\t\t\t\t\t\t\tvColIndex,\r\n\t\t\t\t\t\t\t\tisHidden: !!colSpanCells.length,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\t\tvColIndex: vColIndex + 1,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\treturn newCells;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// increment after column vCol index.\r\n\t\t\t\t\tif (vColIndex <= cVColIndex) {\r\n\t\t\t\t\t\tnewCells.push({\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\tvColIndex: cVColIndex + 1,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn newCells;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnewCells.push(cell);\r\n\r\n\t\t\t\t\treturn newCells;\r\n\t\t\t\t}, []),\r\n\t\t\t}));\r\n\r\n\t\t\treturn newVTable;\r\n\t\t},\r\n\t\t{\r\n\t\t\thead: [],\r\n\t\t\tbody: [],\r\n\t\t\tfoot: [],\r\n\t\t}\r\n\t);\r\n}\r\n\r\n/**\r\n * Deletes a column from the virtual table.\r\n *\r\n * @param vTable            Virtual table in which to delete column.\r\n * @param options\r\n * @param options.vColIndex Virtual column index at which to delete column.\r\n * @return  New virtual table state.\r\n */\r\nexport function deleteColumn(vTable: VTable, { vColIndex }: { vColIndex: number }): VTable {\r\n\t// Find the colspan cells in the column to be deleted.\r\n\tconst vRows: VRow[] = toVirtualRows(vTable);\r\n\r\n\tconst colSpanCells: VCell[] = vRows\r\n\t\t.reduce((cells: VCell[], row) => cells.concat(row.cells), [])\r\n\t\t.filter((cell: VCell) => cell.colSpan > 1 && cell.vColIndex === vColIndex);\r\n\r\n\t// Split the found colspan cells.\r\n\tif (colSpanCells.length) {\r\n\t\tcolSpanCells.forEach((cell) => (vTable = splitMergedCell(vTable, cell)));\r\n\t}\r\n\r\n\treturn Object.entries(vTable).reduce(\r\n\t\t(newVTable: VTable, [sectionName, section]) => {\r\n\t\t\tif (!section.length) {\r\n\t\t\t\treturn newVTable;\r\n\t\t\t}\r\n\t\t\tnewVTable[sectionName as SectionName] = section.map(({ cells }) => ({\r\n\t\t\t\tcells: cells.reduce((newCells: VCell[], cell) => {\r\n\t\t\t\t\t// Cells to be deleted.\r\n\t\t\t\t\tif (cell.vColIndex === vColIndex) {\r\n\t\t\t\t\t\treturn newCells;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Contract cells with colspan in the before columns.\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tcell.colSpan > 1 &&\r\n\t\t\t\t\t\tcell.vColIndex < vColIndex &&\r\n\t\t\t\t\t\tcell.vColIndex + cell.colSpan - 1 >= vColIndex\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewCells.push({\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\tcolSpan: cell.colSpan - 1,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn newCells;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// decrement vCol index.\r\n\t\t\t\t\tif (cell.vColIndex > vColIndex) {\r\n\t\t\t\t\t\tnewCells.push({\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\tvColIndex: cell.vColIndex - 1,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn newCells;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnewCells.push(cell);\r\n\r\n\t\t\t\t\treturn newCells;\r\n\t\t\t\t}, []),\r\n\t\t\t}));\r\n\r\n\t\t\treturn newVTable;\r\n\t\t},\r\n\t\t{\r\n\t\t\thead: [],\r\n\t\t\tbody: [],\r\n\t\t\tfoot: [],\r\n\t\t}\r\n\t);\r\n}\r\n\r\n/**\r\n * Merge cells in the virtual table.\r\n *\r\n * @param vTable         Current virtual table state.\r\n * @param selectedCells  Current selected cells.\r\n * @return New virtual table state.\r\n */\r\nexport function mergeCells(\r\n\tvTable: VTable,\r\n\tselectedCells: VSelectedCells\r\n): VTable {\r\n\tif (!selectedCells || !selectedCells.length) {\r\n\t\treturn vTable;\r\n\t}\r\n\r\n\tconst sectionName: SectionName = selectedCells[0].sectionName as SectionName;\r\n\r\n\t// Create the minimum / maximum virtual indexes of the matrix from the selected cells.\r\n\tconst vRangeIndexes: VRangeIndexes = getVirtualRangeIndexes(selectedCells);\r\n\r\n\tconst { minRowIndex, maxRowIndex, minColIndex, maxColIndex } = vRangeIndexes;\r\n\r\n\t// Find the rowspan & colspan cells in selected cells.\r\n\tconst rowColSpanCellsCount: number = selectedCells.filter(\r\n\t\t({ rowSpan, colSpan }) => rowSpan > 1 || colSpan > 1\r\n\t).length;\r\n\r\n\t// Split the found rowspan & colspan cells before merge cell.\r\n\tif (rowColSpanCellsCount) {\r\n\t\tfor (let i = 0; i < rowColSpanCellsCount; i++) {\r\n\t\t\tconst vMergedCells: VCell[] = vTable[sectionName as SectionName]\r\n\t\t\t\t.reduce((cells: VCell[], row) => cells.concat(row.cells), [])\r\n\t\t\t\t.filter(\r\n\t\t\t\t\t(cell: VCell) =>\r\n\t\t\t\t\t\t(cell.rowSpan > 1 || cell.colSpan > 1) &&\r\n\t\t\t\t\t\tminRowIndex <= cell.rowIndex &&\r\n\t\t\t\t\t\tmaxRowIndex >= cell.rowIndex &&\r\n\t\t\t\t\t\tminColIndex <= cell.vColIndex &&\r\n\t\t\t\t\t\tmaxColIndex >= cell.vColIndex\r\n\t\t\t\t);\r\n\r\n\t\t\tif (vMergedCells.length) {\r\n\t\t\t\tvTable = splitMergedCell(vTable, vMergedCells[0]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Merge the contents of the cells to be merged.\r\n\tconst mergedCellsContent: string = vTable[sectionName as SectionName]\r\n\t\t.reduce((cells: VCell[], row: VRow) => cells.concat(row.cells), [])\r\n\t\t.reduce((result: string[], cell: VCell) => {\r\n\t\t\tif (\r\n\t\t\t\tcell.rowIndex >= minRowIndex &&\r\n\t\t\t\tcell.rowIndex <= maxRowIndex &&\r\n\t\t\t\tcell.vColIndex >= minColIndex &&\r\n\t\t\t\tcell.vColIndex <= maxColIndex &&\r\n\t\t\t\tcell.content\r\n\t\t\t) {\r\n\t\t\t\tresult.push(cell.content);\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t}, [])\r\n\t\t.join('<br>');\r\n\r\n\treturn {\r\n\t\t...vTable,\r\n\t\t[sectionName]: vTable[sectionName as SectionName].map((row, rowIndex) => {\r\n\t\t\tif (rowIndex < minRowIndex || rowIndex > maxRowIndex) {\r\n\t\t\t\t// Row not to be merged.\r\n\t\t\t\treturn row;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tcells: row.cells.map((cell, vColIndex) => {\r\n\t\t\t\t\tif (vColIndex === minColIndex && rowIndex === minRowIndex) {\r\n\t\t\t\t\t\t// Cell to merge.\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\trowSpan: Math.abs(maxRowIndex - minRowIndex) + 1,\r\n\t\t\t\t\t\t\tcolSpan: Math.abs(maxColIndex - minColIndex) + 1,\r\n\t\t\t\t\t\t\tcontent: mergedCellsContent\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Cells to be merged (Mark as deletion).\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\trowIndex >= minRowIndex &&\r\n\t\t\t\t\t\trowIndex <= maxRowIndex &&\r\n\t\t\t\t\t\tvColIndex >= minColIndex &&\r\n\t\t\t\t\t\tvColIndex <= maxColIndex\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\t\tisHidden: true,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Cells not to be merged.\r\n\t\t\t\t\treturn cell;\r\n\t\t\t\t}),\r\n\t\t\t};\r\n\t\t}),\r\n\t};\r\n}\r\n\r\n/**\r\n * Split selected cells in the virtual table state.\r\n *\r\n * @param vTable        Current virtual table state.\r\n * @param selectedCells Current selected cells.\r\n * @return  New virtual table state.\r\n */\r\nexport function splitMergedCells(vTable: VTable, selectedCells: VSelectedCells): VTable {\r\n\tif (!selectedCells) {\r\n\t\treturn vTable;\r\n\t}\r\n\t// Find the rowspan & colspan cells.\r\n\tconst rowColSpanCells: VCell[] = selectedCells.filter(\r\n\t\t({ rowSpan, colSpan }) => rowSpan > 1 || colSpan > 1\r\n\t);\r\n\r\n\t// Split the found rowspan & colspan cells.\r\n\tif (rowColSpanCells.length) {\r\n\t\trowColSpanCells.forEach((cell) => {\r\n\t\t\tvTable = splitMergedCell(vTable, cell);\r\n\t\t});\r\n\t}\r\n\r\n\treturn vTable;\r\n}\r\n\r\n/**\r\n * Split single cell in the virtual table state.\r\n *\r\n * @param vTable       Current virtual table state.\r\n * @param selectedCell Current selected cells.\r\n * @return New virtual table state.\r\n */\r\nexport function splitMergedCell(vTable: VTable, selectedCell: VCell): VTable {\r\n\tconst { sectionName, rowIndex, vColIndex, rowSpan, colSpan } = selectedCell;\r\n\r\n\tconst vSection: VSection = vTable[sectionName as SectionName];\r\n\r\n\t// Split the selected cells and map them on the virtual section.\r\n\tvSection[rowIndex].cells[vColIndex] = {\r\n\t\t...vSection[rowIndex].cells[vColIndex],\r\n\t\trowSpan: 1,\r\n\t\tcolSpan: 1,\r\n\t};\r\n\r\n\tif (colSpan > 1) {\r\n\t\tfor (let i = 1; i < colSpan; i++) {\r\n\t\t\tvSection[rowIndex].cells[vColIndex + i] = {\r\n\t\t\t\t...vSection[rowIndex].cells[vColIndex],\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tvColIndex: vColIndex + i,\r\n\t\t\t\tisHidden: false,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tif (rowSpan > 1) {\r\n\t\tfor (let i = 1; i < rowSpan; i++) {\r\n\t\t\tvSection[rowIndex + i].cells[vColIndex] = {\r\n\t\t\t\t...vSection[rowIndex].cells[vColIndex],\r\n\t\t\t\tcontent: '',\r\n\t\t\t\trowIndex: rowIndex + i,\r\n\t\t\t\tisHidden: false,\r\n\t\t\t};\r\n\r\n\t\t\tif (colSpan > 1) {\r\n\t\t\t\tfor (let j = 1; j < colSpan; j++) {\r\n\t\t\t\t\tvSection[rowIndex + i].cells[vColIndex + j] = {\r\n\t\t\t\t\t\t...vSection[rowIndex].cells[vColIndex],\r\n\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\trowIndex: rowIndex + i,\r\n\t\t\t\t\t\tvColIndex: vColIndex + i,\r\n\t\t\t\t\t\tisHidden: false,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\t...vTable,\r\n\t\t[sectionName]: vSection,\r\n\t};\r\n}\r\n\r\n/**\r\n * Update cells state( styles, tag ) of selected section.\r\n *\r\n * @param vTable              Current virtual table state.\r\n * @param cellState           Cell states to update.\r\n * @param cellState.styles    Cell styles.\r\n * @param cellState.tag       Cell tag.\r\n * @param cellState.className Cell classes.\r\n * @param cellState.id        Cell id.\r\n * @param cellState.headers   Cell headers attribute.\r\n * @param cellState.scope     Cell scope attribute.\r\n * @param selectedCells       Current selected cells.\r\n * @return  New virtual table state.\r\n */\r\nexport function updateCells(\r\n\tvTable: VTable,\r\n\tcellState: {\r\n\t\tstyles?: Object,\r\n\t\ttag?: CellTagValue;\r\n\t\tclassName?: string;\r\n\t\tid?: string;\r\n\t\theaders?: string;\r\n\t\tscope?: CellScopeValue;\r\n\t},\r\n\tselectedCells: VCell[]\r\n): VTable {\r\n\treturn Object.entries(vTable).reduce(\r\n\t\t(newVTable: VTable, [sectionName, section]) => {\r\n\t\t\tif (!section.length) {\r\n\t\t\t\treturn newVTable;\r\n\t\t\t}\r\n\t\t\tnewVTable[sectionName as SectionName] = section.map(({ cells }, cRowIndex) => ({\r\n\t\t\t\tcells: cells.map((cell, cVColIndex) => {\r\n\t\t\t\t\t// Refer to the selected cell to determine if it is the target cell to update.\r\n\t\t\t\t\tconst isTargetCell: boolean = selectedCells.some(\r\n\t\t\t\t\t\t(targetCell) =>\r\n\t\t\t\t\t\t\ttargetCell.sectionName === sectionName &&\r\n\t\t\t\t\t\t\ttargetCell.rowIndex === cRowIndex &&\r\n\t\t\t\t\t\t\ttargetCell.vColIndex === cVColIndex\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif (!isTargetCell) {\r\n\t\t\t\t\t\treturn cell;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet stylesObj: Properties = convertToObject(cell?.styles);\r\n\r\n\t\t\t\t\tif (cellState.styles) {\r\n\t\t\t\t\t\tstylesObj = {\r\n\t\t\t\t\t\t\t...stylesObj,\r\n\t\t\t\t\t\t\t...cellState.styles,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\tstyles: convertToInline(stylesObj),\r\n\t\t\t\t\t\ttag: cellState.tag || cell.tag,\r\n\t\t\t\t\t\tclassName: 'className' in cellState ? cellState.className : cell.className,\r\n\t\t\t\t\t\tid: 'id' in cellState ? cellState.id : cell.id,\r\n\t\t\t\t\t\theaders: 'headers' in cellState ? cellState.headers : cell.headers,\r\n\t\t\t\t\t\tscope: 'scope' in cellState ? cellState.scope : cell.scope,\r\n\t\t\t\t\t};\r\n\t\t\t\t}, []),\r\n\t\t\t}));\r\n\r\n\t\t\treturn newVTable;\r\n\t\t},\r\n\t\t{\r\n\t\t\thead: [],\r\n\t\t\tbody: [],\r\n\t\t\tfoot: [],\r\n\t\t}\r\n\t);\r\n}\r\n\r\n/**\r\n * Determines whether a virtual section is empty.\r\n *\r\n * @param section Virtual section state.\r\n * @return True if the virtual section is empty, false otherwise.\r\n */\r\nexport function isEmptySection(section: VSection): boolean {\r\n\treturn (\r\n\t\t!section ||\r\n\t\t!section.length ||\r\n\t\tsection.every(({ cells }: { cells: VCell[] }) => !(cells && cells.length))\r\n\t);\r\n}\r\n\r\n/**\r\n * Determines whether multiple sections are selected on the virtual table.\r\n *\r\n * @param selectedCells Current selected cells.\r\n * @return True if multiple sections are selected, false otherwise.\r\n */\r\nexport function isMultiSectionSelected(selectedCells: VCell[]): boolean {\r\n\tconst selectedSections: SectionName[] = selectedCells.reduce(\r\n\t\t(result: SectionName[], selectedCell) => {\r\n\t\t\tif (!result.includes(selectedCell.sectionName as SectionName)) {\r\n\t\t\t\tresult.push(selectedCell.sectionName as SectionName);\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\treturn selectedSections.length > 1;\r\n}\r\n\r\n/**\r\n * Create virtual table object with the cells placed in positions based on how they actually look.\r\n * This function is used to determine the apparent position of a cell when insert / delete row / column, or merge / split cells, etc.\r\n *\r\n * @param state Current table state.\r\n * @return Object of virtual table.\r\n */\r\nexport function toVirtualTable(state: TableAttributes): VTable {\r\n\tconst { head, body, foot } = state;\r\n\tconst vSections = {\r\n\t\thead,\r\n\t\tbody,\r\n\t\tfoot,\r\n\t};\r\n\r\n\treturn Object.entries(vSections).reduce(\r\n\t\t(vTable: VTable, [sectionName, section]) => {\r\n\t\t\tif (!section.length) {\r\n\t\t\t\treturn vTable;\r\n\t\t\t}\r\n\r\n\t\t\t// Create a virtual section array.\r\n\t\t\tconst rowCount: number = section.length;\r\n\t\t\tconst colCount: number = section[0].cells.reduce((count: number, cell: Cell) => {\r\n\t\t\t\treturn count + toInteger(cell.colSpan, 1);\r\n\t\t\t}, 0);\r\n\r\n\t\t\tconst vSection: VSection = Array.from({ length: rowCount }).map(\r\n\t\t\t\t(_row, rowIndex): VRow => ({\r\n\t\t\t\t\tcells: Array.from({ length: colCount }).map(\r\n\t\t\t\t\t\t(_col, vColIndex): VCell => ({\r\n\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\ttag: 'head' === sectionName ? 'th' : 'td',\r\n\t\t\t\t\t\t\trowSpan: 1,\r\n\t\t\t\t\t\t\tcolSpan: 1,\r\n\t\t\t\t\t\t\tsectionName: sectionName as SectionName,\r\n\t\t\t\t\t\t\tisHidden: false,\r\n\t\t\t\t\t\t\t// Whether the actual cell is placed or not.\r\n\t\t\t\t\t\t\tisFilled: false,\r\n\t\t\t\t\t\t\t// Dummy indexes.\r\n\t\t\t\t\t\t\trowIndex,\r\n\t\t\t\t\t\t\tvColIndex,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\t// Mapping the actual section cells on the virtual section cell.\r\n\t\t\tsection.forEach((row: Row, cRowIndex: number) => {\r\n\t\t\t\trow.cells.forEach((cell) => {\r\n\t\t\t\t\t// Colmun index on the virtual section excluding cells already marked as \"filled\".\r\n\t\t\t\t\tconst vColIndex: number = vSection[cRowIndex].cells.findIndex(\r\n\t\t\t\t\t\t({ isFilled }) => !isFilled\r\n\t\t\t\t\t);\r\n\t\t\t\t\tconst rowSpan = toInteger(cell.rowSpan, 1);\r\n\t\t\t\t\tconst colSpan = toInteger(cell.colSpan, 1);\r\n\r\n\t\t\t\t\t// Mark the cell as \"filled\" and record the position on the virtual section.\r\n\t\t\t\t\tvSection[cRowIndex].cells[vColIndex] = {\r\n\t\t\t\t\t\t...cell,\r\n\t\t\t\t\t\tisFilled: true,\r\n\t\t\t\t\t\tsectionName: sectionName as SectionName,\r\n\t\t\t\t\t\trowSpan,\r\n\t\t\t\t\t\tcolSpan,\r\n\t\t\t\t\t\trowIndex: cRowIndex,\r\n\t\t\t\t\t\tvColIndex,\r\n\t\t\t\t\t\tisHidden: false,\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// For cells with rowspan / colspan, mark cells that are visually filled as \"filled\".\r\n\t\t\t\t\t// Additionaly mark it as a cell to be deleted because it does not exist in the actual section.\r\n\t\t\t\t\tif (colSpan > 1) {\r\n\t\t\t\t\t\tfor (let i = 1; i < colSpan; i++) {\r\n\t\t\t\t\t\t\tvSection[cRowIndex].cells[vColIndex + i].isFilled = true;\r\n\t\t\t\t\t\t\tvSection[cRowIndex].cells[vColIndex + i].isHidden = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (rowSpan > 1) {\r\n\t\t\t\t\t\tfor (let i = 1; i < rowSpan; i++) {\r\n\t\t\t\t\t\t\tvSection[cRowIndex + i].cells[vColIndex].isFilled = true;\r\n\t\t\t\t\t\t\tvSection[cRowIndex + i].cells[vColIndex].isHidden = true;\r\n\r\n\t\t\t\t\t\t\tif (colSpan > 1) {\r\n\t\t\t\t\t\t\t\tfor (let j = 1; j < colSpan; j++) {\r\n\t\t\t\t\t\t\t\t\tvSection[cRowIndex + i].cells[vColIndex + j].isFilled = true;\r\n\t\t\t\t\t\t\t\t\tvSection[cRowIndex + i].cells[vColIndex + j].isHidden = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tvTable[sectionName as SectionName] = vSection;\r\n\r\n\t\t\treturn vTable;\r\n\t\t},\r\n\t\t{\r\n\t\t\thead: [],\r\n\t\t\tbody: [],\r\n\t\t\tfoot: [],\r\n\t\t}\r\n\t);\r\n}\r\n\r\n/**\r\n * Remove cells from the virtual table that are not actually needed and convert them to table attributes.\r\n *\r\n * @param  vTable Current table state.\r\n * @return {Object} Table attributes.\r\n */\r\nexport function toTableAttributes(vTable: VTable): TableAttributes {\r\n\treturn Object.entries(vTable).reduce(\r\n\t\t(newTableAttributes: TableAttributes, [sectionName, section]) => {\r\n\t\t\tif (!section.length) {\r\n\t\t\t\treturn newTableAttributes;\r\n\t\t\t}\r\n\t\t\tnewTableAttributes[sectionName as SectionName] = section.map(({ cells }) => ({\r\n\t\t\t\tcells: cells\r\n\t\t\t\t\t// Delete cells marked as deletion.\r\n\t\t\t\t\t.filter((cell) => !cell.isHidden)\r\n\t\t\t\t\t// Keep only the properties needed.\r\n\t\t\t\t\t.map((cell) => ({\r\n\t\t\t\t\t\tcontent: cell.content,\r\n\t\t\t\t\t\tstyles: cell.styles,\r\n\t\t\t\t\t\ttag: cell.tag,\r\n\t\t\t\t\t\tclassName: cell.className,\r\n\t\t\t\t\t\tid: cell.id,\r\n\t\t\t\t\t\theaders: cell.headers,\r\n\t\t\t\t\t\tscope: cell.scope,\r\n\t\t\t\t\t\trowSpan: cell.rowSpan > 1 ? String(cell.rowSpan) : undefined,\r\n\t\t\t\t\t\tcolSpan: cell.colSpan > 1 ? String(cell.colSpan) : undefined,\r\n\t\t\t\t\t})),\r\n\t\t\t}));\r\n\r\n\t\t\treturn newTableAttributes;\r\n\t\t},\r\n\t\t{\r\n\t\t\thead: [],\r\n\t\t\tbody: [],\r\n\t\t\tfoot: [],\r\n\t\t}\r\n\t);\r\n}\r\n\r\n/**\r\n * Create an array of rows from a virtual table by removing empty sections.\r\n *\r\n * @param vTable Current virtual table state.\r\n * @return virtual table rows array.\r\n */\r\nexport function toVirtualRows(vTable: VTable): VRow[] {\r\n\treturn Object.keys(vTable).reduce((result: VRow[], sectionName) => {\r\n\t\tif (isEmptySection(vTable[sectionName as SectionName])) {\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\tresult.push(...vTable[sectionName as SectionName]);\r\n\r\n\t\treturn result;\r\n\t}, []);\r\n}\r\n\r\n/**\r\n * Get the minimum / maximum row / column virtual indexes on virtual table from selected cells.\r\n *\r\n * @param selectedCells Current selected cells.\r\n * @return Minimum / maximum virtual indexes.\r\n */\r\nexport function getVirtualRangeIndexes(selectedCells: VCell[]): VRangeIndexes {\r\n\treturn selectedCells.reduce(\r\n\t\t({ minRowIndex, maxRowIndex, minColIndex, maxColIndex }, cell) => {\r\n\t\t\tconst VRowIndex: number = cell.rowSpan > 1 ? cell.rowIndex + cell.rowSpan - 1 : cell.rowIndex;\r\n\t\t\tconst vColIndex: number =\r\n\t\t\t\tcell.colSpan > 1 ? cell.vColIndex + cell.colSpan - 1 : cell.vColIndex;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tminRowIndex: minRowIndex < cell.rowIndex ? minRowIndex : cell.rowIndex,\r\n\t\t\t\tmaxRowIndex: maxRowIndex > VRowIndex ? maxRowIndex : VRowIndex,\r\n\t\t\t\tminColIndex: minColIndex < cell.vColIndex ? minColIndex : cell.vColIndex,\r\n\t\t\t\tmaxColIndex: maxColIndex > vColIndex ? maxColIndex : vColIndex,\r\n\t\t\t};\r\n\t\t},\r\n\t\t{\r\n\t\t\tminRowIndex: selectedCells[0].rowIndex,\r\n\t\t\tmaxRowIndex: selectedCells[0].rowIndex,\r\n\t\t\tminColIndex: selectedCells[0].vColIndex,\r\n\t\t\tmaxColIndex: selectedCells[0].vColIndex,\r\n\t\t}\r\n\t);\r\n}\r\n\r\n/**\r\n * Determines whether a rectangle will be formed from the selected cells in the virtual table.\r\n * This function is used to determines whether to allow cell merging from the selected cells.\r\n *\r\n * @param selectedCells Current selected cells.\r\n * @return True if a rectangle will be formed from the selected cells, false otherwise.\r\n */\r\nexport function isRectangleSelected(selectedCells: VSelectedCells): boolean {\r\n\tif (!selectedCells) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// No need to merge If only one or no cell is selected.\r\n\tif (selectedCells.length <= 1) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Check if multiple sections are selected.\r\n\tif (isMultiSectionSelected(selectedCells)) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Get the minimum / maximum virtual indexes of the matrix from the selected cells.\r\n\tconst vRangeIndexes: VRangeIndexes = getVirtualRangeIndexes(selectedCells);\r\n\r\n\t// Generate indexed matrix from the indexes.\r\n\tconst vRange: boolean[][] = [];\r\n\r\n\tfor (let i = vRangeIndexes.minRowIndex; i <= vRangeIndexes.maxRowIndex; i++) {\r\n\t\tvRange[i] = [];\r\n\t\tfor (let j = vRangeIndexes.minColIndex; j <= vRangeIndexes.maxColIndex; j++) {\r\n\t\t\tvRange[i][j] = false;\r\n\t\t}\r\n\t}\r\n\r\n\t// Map the selected cells to the matrix (mark the cell as \"true\").\r\n\tselectedCells.forEach((cell: VCell) => {\r\n\t\tif (cell.rowIndex in vRange && cell.vColIndex in vRange[cell.rowIndex]) {\r\n\t\t\tvRange[cell.rowIndex][cell.vColIndex] = true;\r\n\r\n\t\t\tif (cell.colSpan > 1) {\r\n\t\t\t\tfor (let i = 1; i < cell.colSpan; i++) {\r\n\t\t\t\t\tvRange[cell.rowIndex][cell.vColIndex + i] = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (cell.rowSpan > 1) {\r\n\t\t\t\tfor (let i = 1; i < cell.rowSpan; i++) {\r\n\t\t\t\t\tvRange[cell.rowIndex + i][cell.vColIndex] = true;\r\n\r\n\t\t\t\t\tif (cell.colSpan > 1) {\r\n\t\t\t\t\t\tfor (let j = 1; j < cell.colSpan; j++) {\r\n\t\t\t\t\t\t\tvRange[cell.rowIndex + i][cell.vColIndex + j] = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t// Whether all cells in the matrix are filled (whether cell merging is possible).\r\n\treturn vRange.reduce((cells, row) => cells.concat(row), []).every((cell) => cell);\r\n}\r\n\r\n/**\r\n * Return a set of cells from the start cell and the end cell that will form a rectangle, taking into account the join cells.\r\n *\r\n * @param vTable           Current virtual table state.\r\n * @param options\r\n * @param options.fromCell Start cell of the selected range.\r\n * @param options.toCell   End cell of the selected range.\r\n * @return Selected cells that represent a rectangle.\r\n */\r\nexport function toRectangledSelectedCells(\r\n\tvTable: VTable,\r\n\t{ fromCell, toCell }: { fromCell: VCell; toCell: VCell }\r\n): VCell[] {\r\n\tif (!fromCell || !toCell) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\t// Check if multiple sections are selected.\r\n\tif (fromCell.sectionName !== toCell.sectionName) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\t// Get the minimum / maximum virtual indexes of the matrix from the selected cells.\r\n\tconst vRangeIndexes: VRangeIndexes = getVirtualRangeIndexes([fromCell, toCell]);\r\n\r\n\tlet isRectangled: boolean = false;\r\n\r\n\tlet { minRowIndex, maxRowIndex, minColIndex, maxColIndex } = vRangeIndexes;\r\n\r\n\tconst currentSection: VSection = vTable[fromCell.sectionName as SectionName];\r\n\tconst rowCount: number = currentSection.length;\r\n\tconst colCount: number = currentSection[0].cells.length;\r\n\r\n\tconst VCells: VCell[] = currentSection\r\n\t\t.reduce((cells: VCell[], row: VRow) => cells.concat(row.cells), [])\r\n\t\t.map((cell: VCell) => {\r\n\t\t\tif (cell.rowIndex === fromCell.rowIndex && cell.vColIndex === fromCell.vColIndex) {\r\n\t\t\t\tcell.isFirstSelected = true;\r\n\t\t\t}\r\n\r\n\t\t\treturn cell;\r\n\t\t})\r\n\t\t.filter((cell: VCell) => !cell.isHidden);\r\n\r\n\t// Expand the rectangle if there is a combined cell that passes through each edge.\r\n\twhile (!isRectangled) {\r\n\t\t// Extend the virtual range to top if there are cells that overlap to top.\r\n\t\tconst topCells: VCell[] = VCells.filter((cell: VCell) => {\r\n\t\t\treturn (\r\n\t\t\t\t((cell.vColIndex + cell.colSpan - 1 >= minColIndex &&\r\n\t\t\t\t\t\tcell.vColIndex + cell.colSpan - 1 <= maxColIndex) ||\r\n\t\t\t\t\t(cell.vColIndex >= minColIndex && cell.vColIndex <= maxColIndex)) &&\r\n\t\t\t\tcell.rowIndex < minRowIndex &&\r\n\t\t\t\tcell.rowIndex + cell.rowSpan - 1 >= minRowIndex &&\r\n\t\t\t\tcell.rowSpan > 1\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tconst isTopFixed: boolean = minRowIndex === 0 || !topCells.length;\r\n\t\tif (!isTopFixed) {\r\n\t\t\tminRowIndex--;\r\n\t\t}\r\n\r\n\t\t// Extend the virtual range to right if there are cells that overlap to right.\r\n\t\tconst rightCells: VCell[] = VCells.filter((cell: VCell) => {\r\n\t\t\treturn (\r\n\t\t\t\t((cell.rowIndex + cell.rowSpan - 1 >= minRowIndex &&\r\n\t\t\t\t\t\tcell.rowIndex + cell.rowSpan - 1 <= maxRowIndex) ||\r\n\t\t\t\t\t(cell.rowIndex >= minRowIndex && cell.rowIndex <= maxRowIndex)) &&\r\n\t\t\t\tcell.vColIndex <= maxColIndex &&\r\n\t\t\t\tcell.vColIndex + cell.colSpan - 1 > maxColIndex &&\r\n\t\t\t\tcell.colSpan > 1\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tconst isRightFixed: boolean = maxColIndex === colCount - 1 || !rightCells.length;\r\n\t\tif (!isRightFixed) {\r\n\t\t\tmaxColIndex++;\r\n\t\t}\r\n\r\n\t\t// Extend the virtual range to bottom if there are cells that overlap to bottom.\r\n\t\tconst bottomCells: VCell[] = VCells.filter((cell: VCell) => {\r\n\t\t\treturn (\r\n\t\t\t\t((cell.vColIndex + cell.colSpan - 1 >= minColIndex &&\r\n\t\t\t\t\t\tcell.vColIndex + cell.colSpan - 1 <= maxColIndex) ||\r\n\t\t\t\t\t(cell.vColIndex >= minColIndex && cell.vColIndex <= maxColIndex)) &&\r\n\t\t\t\tcell.rowIndex <= maxRowIndex &&\r\n\t\t\t\tcell.rowIndex + cell.rowSpan - 1 > maxRowIndex &&\r\n\t\t\t\tcell.rowSpan - 1\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tconst isBottomFixed: boolean = maxRowIndex === rowCount - 1 || !bottomCells.length;\r\n\t\tif (!isBottomFixed) {\r\n\t\t\tmaxRowIndex++;\r\n\t\t}\r\n\r\n\t\t// Extend the virtual range to left if there are cells that overlap to left.\r\n\t\tconst leftCells: VCell[] = VCells.filter((cell: VCell) => {\r\n\t\t\treturn (\r\n\t\t\t\t((cell.rowIndex + cell.rowSpan - 1 >= minRowIndex &&\r\n\t\t\t\t\t\tcell.rowIndex + cell.rowSpan - 1 <= maxRowIndex) ||\r\n\t\t\t\t\t(cell.rowIndex >= minRowIndex && cell.rowIndex <= maxRowIndex)) &&\r\n\t\t\t\tcell.vColIndex < minColIndex &&\r\n\t\t\t\tcell.vColIndex + cell.colSpan - 1 >= minColIndex &&\r\n\t\t\t\tcell.colSpan > 1\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tconst isLeftFixed: boolean = maxColIndex === colCount - 1 || !leftCells.length;\r\n\t\tif (!isLeftFixed) {\r\n\t\t\tminColIndex--;\r\n\t\t}\r\n\r\n\t\tisRectangled = isTopFixed && isRightFixed && isBottomFixed && isLeftFixed;\r\n\t}\r\n\r\n\t// Cells in the newly computed rectangle.\r\n\treturn VCells.filter(\r\n\t\t(cell: VCell) =>\r\n\t\t\tcell.rowIndex >= minRowIndex &&\r\n\t\t\tcell.rowIndex <= maxRowIndex &&\r\n\t\t\tcell.vColIndex >= minColIndex &&\r\n\t\t\tcell.vColIndex <= maxColIndex\r\n\t);\r\n}\r\n\r\n/**\r\n * Determines whether the selected cells in the virtual table contain merged cells.\r\n *\r\n * @param selectedCells Current selected cells.\r\n * @return True if the selected cells in the virtual table contain merged cells, false otherwise.\r\n */\r\nexport function hasMergedCells(selectedCells: VSelectedCells): boolean {\r\n\tif (!selectedCells) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\treturn selectedCells.some(\r\n\t\t({ rowSpan, colSpan }: { rowSpan: number; colSpan: number }) => rowSpan > 1 || colSpan > 1\r\n\t);\r\n}\r\n\r\n/**\r\n * Toggles the existance of a section.\r\n *\r\n * @param vTable      Current virtual table state.\r\n * @param sectionName Name of the section to toggle.\r\n * @return New virtual table state.\r\n */\r\nexport function toggleSection(vTable: VTable, sectionName: SectionName): VTable {\r\n\t// Section exists, replace it with an empty row to remove it.\r\n\tif (!isEmptySection(vTable[sectionName])) {\r\n\t\treturn {\r\n\t\t\t...vTable,\r\n\t\t\t[sectionName]: [],\r\n\t\t};\r\n\t}\r\n\r\n\t// Number of columns in the row to be inserted.\r\n\tconst newRowColCount: number = vTable.body[0].cells.length;\r\n\r\n\t// Row state to be inserted.\r\n\tconst newRow: VRow = {\r\n\t\tcells: Array.from({ length: newRowColCount }).map((_, vColIndex) => ({\r\n\t\t\tcontent: '',\r\n\t\t\ttag: 'head' === sectionName ? 'th' : 'td',\r\n\t\t\trowSpan: 1,\r\n\t\t\tcolSpan: 1,\r\n\t\t\tsectionName,\r\n\t\t\trowIndex: 0,\r\n\t\t\tvColIndex,\r\n\t\t\tisHidden: false,\r\n\t\t\tisFirstSelected: false,\r\n\t\t})),\r\n\t};\r\n\r\n\treturn {\r\n\t\t...vTable,\r\n\t\t[sectionName]: [newRow],\r\n\t};\r\n}\r\n","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"keycodes\"];","module.exports = window[\"wp\"][\"notices\"];","module.exports = window[\"wp\"][\"primitives\"];","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkcomet_table_block\"] = globalThis[\"webpackChunkcomet_table_block\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["__","_x","alignLeft","alignCenter","alignRight","alignTop","alignMiddle","alignBottom","STORE_NAME","REST_API_ROUTE","DEFAULT_PREVIEW_ROWS","DEFAULT_PREVIEW_COLUMNS","MIN_PREVIEW_TABLE_HEIGHT","MAX_PREVIEW_TABLE_COL","MAX_PREVIEW_TABLE_ROW","THRESHOLD_PREVIEW_TABLE_COL","THRESHOLD_PREVIEW_TABLE_ROW","CELL_WIDTH_UNITS","CELL_ARIA_LABEL","head","body","foot","TEXT_ALIGNMENT_CONTROLS","icon","label","value","VERTICAL_ALIGNMENT_CONTROLS","STICKY_CONTROLS","CELL_TAG_CONTROLS","CELL_SCOPE_CONTROLS","CAPTION_POSITION_CONTROLS","useSelect","useState","BaseControl","FlexBlock","Popover","ColorPalette","__experimentalVStack","VStack","__experimentalSpacer","Spacer","__experimentalText","Text","store","blockEditorStore","useInstanceId","ColorIndicatorButton","ColorControl","help","onChange","colors","colorsProp","instanceId","headingId","select","_settings$colors","settings","getSettings","isPickerOpen","setIsPickerOpen","handleOnChange","inputValue","handleOnPickerOpen","handleOnPickerClose","createElement","className","__nextHasNoMarginBottom","role","id","upperCase","size","weight","as","onClick","isNone","isTransparent","placement","shift","offset","onClose","padding","marginBottom","clsx","Button","ColorIndicator","isMixed","colorValue","useEffect","InspectorControls","BlockControls","useBlockProps","useBlockEditingMode","ToolbarDropdownMenu","PanelBody","blockTable","TableSettings","TableCaptionSettings","TableCellSettings","Table","TablePlaceholder","insertRow","deleteRow","insertColumn","deleteColumn","mergeCells","splitMergedCells","hasMergedCells","isRectangleSelected","toTableAttributes","toVirtualTable","isEmptySection","tableRowAfter","tableRowBefore","tableColumnBefore","tableColumnAfter","tableColumnDelete","tableRowDelete","tableMergeCell","tableSplitCell","TableEdit","props","attributes","setAttributes","isSelected","isSingleSelected","selectedCells","setSelectedCells","undefined","selectedLine","setSelectedLine","blockEditingMode","isContentOnlyMode","vTable","onInsertRow","length","sectionName","rowIndex","rowSpan","insertRowIndex","newVTable","onDeleteRow","onInsertColumn","vColIndex","colSpan","insertVColIndex","onDeleteColumn","onMergeCells","onSplitMergedCells","TableEditControls","title","isDisabled","isEmpty","filter","tablePlaceholderProps","tableFigureProps","tableProps","tableSettingsProps","tableCellSettingsProps","firstColumnIsHeaders","tableCellSettingsLabel","tableCaptionSettingProps","Fragment","group","controls","initialOpen","TableCaption","default","RichText","ToolbarButton","caption","captionIcon","useCallback","usePrevious","onFocus","captionStyles","prevCaption","isCaptionEmpty","isPrevCaptionEmpty","showCaption","setShowCaption","ref","node","focus","isPressed","placeholder","tagName","style","createInterpolateElement","BlockIcon","Placeholder","TextControl","ToggleControl","__experimentalHStack","HStack","isAppleOS","createTable","blockIcon","rowCount","setRowCount","colCount","setColCount","headerSection","setHeaderSection","footerSection","setFooterSection","totalRowCount","Number","cellHeight","Math","min","onCreateTable","event","preventDefault","onChangeColumnCount","parsedValue","parseInt","isNaN","max","onChangeRowCount","onToggleHeaderSection","section","onToggleFooterSection","tableClasses","showColors","code","minHeight","alignment","align","isBlock","Array","from","map","_col","colIndex","key","height","_row","onSubmit","wrap","justify","checked","type","__next40pxDefaultSize","variant","disabled","useRef","plus","trash","chevronRight","chevronDown","noticesStore","useDispatch","toRectangledSelectedCells","toVirtualRows","convertToObject","TSection","name","restProps","TagName","Cell","isSelectMode","setIsSelectMode","isReady","setIdReady","tableRef","createWarningNotice","isTabMove","isRowSelected","isColumnSelected","vTargetCell","onSelectSectionCells","reduce","cells","row","concat","cell","isHidden","onSelectRow","onSelectColumn","vRows","onChangeCellContent","content","targetCell","selectedRowIndex","selectedVColIndex","isFirstSelected","onKeyDown","current","isInsideTableBlock","target","closest","tableElement","ownerDocument","activeElement","activeCell","querySelector","isInsidePopover","hasLinkControl","tabbableNodes","querySelectorAll","tabbableElements","slice","call","activeCellIndex","findIndex","element","nextCellIndex","shiftKey","focusbleElement","selection","getSelection","range","createRange","innerText","trim","selectNodeContents","removeAllRanges","addRange","onKeyUp","onClickCell","clickedCell","ctrlKey","metaKey","fromCell","find","toCell","newSelectedCells","existCellIndex","push","splice","filteredVTable","Object","keys","result","tableCaptionProps","filteredSections","sectionIndex","tag","headers","scope","styles","isCellSelected","some","cellStylesObj","tabIndex","stopPropagation","iconSize","Path","SVG","Circle","Polygon","xmlns","viewBox","points","d","borderSeparate","borderCollapse","borderSolid","borderDotted","cx","cy","r","borderDashed","borderDouble","registerBlockType","addFilter","createHigherOrderComponent","metadata","example","edit","save","transforms","config","category","description","withInspectorControls","BlockEdit","toInteger","isStackedOnMobile","sticky","blockProps","hasCaption","Section","rows","Tag","cellIndex","Content","Caption","Flex","__experimentalToggleGroupControl","ToggleGroupControl","__experimentalToggleGroupControlOption","ToggleGroupControlOption","__experimentalToggleGroupControlOptionIcon","ToggleGroupControlOptionIcon","_captionStyles$captio","onChangePosition","isAllowedValue","_value","control","captionSide","onChangeAlign","textAlign","isDeselectable","useMemo","__experimentalUnitControl","UnitControl","__experimentalUseCustomUnits","useCustomUnits","SelectControl","updateCells","sanitizeUnitValue","_cellStylesObj$textAl","_cellStylesObj$vertic","cellWidthUnits","availableUnits","showCellTypeAndScopeControls","every","theadRowQty","selectedCellsAreInThead","selectedCellTags","selectedCell","includes","updateCellsState","state","onChangeBackgroundColor","backgroundColor","onChangeWidth","width","onChangeTextAlign","onChangeVerticalAlign","verticalAlign","onChangeTag","isAllowedTag","onChangeClass","onChangeId","onChangeHeaders","onChangeScope","CellTypeControl","CellScopeControl","options","units","autoComplete","toggleSection","firstBodyColumnIsHeaders","firstBodyRowIsHeaders","availableStickyControls","onChangeIsStackedOnMobile","onToggleFirstColIsHeaders","newVal","index","onChangeSticky","apiFetch","createReduxStore","register","DEFAULT_STATE","actions","getOptions","path","setOptions","reducer","action","selectors","GET_OPTIONS","resolvers","createBlock","blocksStore","splitMergedCell","normalizeRowColSpan","blocks","transform","hasFixedLayout","convertedSections","colspan","rowspan","to","getBlockType","blockType","hasRowColSpanSupport","query","rowColSpanCells","forEach","sectionAttributes","entries","coreTableAttributes","newSection","DEFAULT_PRECISION","cleanEmptyObject","object","isArray","cleanedNestedObjects","fromEntries","parseCssValue","cssValue","cssValues","split","toLowerCase","initialValue","_value$match$","String","num","parseFloat","minNum","maxNum","modifier","precision","round","unit","match","parseUnit","_value$match$2","defaultValue","converted","rowColSpan","isInteger","toString","inlineStyles","replace","c","substr","toUpperCase","styleObj","convertToInline","stylesObj","lines","property","join","createSection","cols","newRowColCount","newRow","_","rowSpanCells","cRowIndex","rowSpanCellsCount","i","vMergedCells","newRows","isLastColumnInsert","newCells","cVColIndex","colSpanCells","colSpancells","colSpancell","vRangeIndexes","getVirtualRangeIndexes","minRowIndex","maxRowIndex","minColIndex","maxColIndex","rowColSpanCellsCount","mergedCellsContent","abs","vSection","j","cellState","isTargetCell","isMultiSectionSelected","selectedSections","vSections","count","isFilled","newTableAttributes","VRowIndex","vRange","isRectangled","currentSection","VCells","topCells","isTopFixed","rightCells","isRightFixed","bottomCells","isBottomFixed","leftCells","isLeftFixed"],"sourceRoot":""}